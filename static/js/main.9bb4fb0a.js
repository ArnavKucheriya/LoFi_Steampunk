/*! For license information please see main.9bb4fb0a.js.LICENSE.txt */
(()=>{var t={998:function(t,e,n){!function(t,e,n,i){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n,i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i;var r=function(t,e,n){return{endTime:e,insertTime:n,type:"exponentialRampToValue",value:t}},s=function(t,e,n){return{endTime:e,insertTime:n,type:"linearRampToValue",value:t}},o=function(t,e){return{startTime:e,type:"setValue",value:t}},a=function(t,e,n){return{duration:n,startTime:e,type:"setValueCurve",values:t}},l=function(t,e,n){var i=n.startTime,r=n.target,s=n.timeConstant;return r+(e-r)*Math.exp((i-t)/s)},u=function(t){return"exponentialRampToValue"===t.type},c=function(t){return"linearRampToValue"===t.type},h=function(t){return u(t)||c(t)},d=function(t){return"setValue"===t.type},p=function(t){return"setValueCurve"===t.type},f=function t(e,n,i,r){var s=e[n];return void 0===s?r:h(s)||d(s)?s.value:p(s)?s.values[s.values.length-1]:l(i,t(e,n-1,s.startTime,r),s)},m=function(t,e,n,i,r){return void 0===n?[i.insertTime,r]:h(n)?[n.endTime,n.value]:d(n)?[n.startTime,n.value]:p(n)?[n.startTime+n.duration,n.values[n.values.length-1]]:[n.startTime,f(t,e-1,n.startTime,r)]},g=function(t){return"cancelAndHold"===t.type},v=function(t){return"cancelScheduledValues"===t.type},_=function(t){return g(t)||v(t)?t.cancelTime:u(t)||c(t)?t.endTime:t.startTime},y=function(t,e,n,i){var r=i.endTime,s=i.value;return n===s?s:0<n&&0<s||n<0&&s<0?n*Math.pow(s/n,(t-e)/(r-e)):0},b=function(t,e,n,i){return n+(t-e)/(i.endTime-e)*(i.value-n)},w=function(t,e){var n=Math.floor(e),i=Math.ceil(e);return n===i?t[n]:(1-(e-n))*t[n]+(1-(i-e))*t[i]},x=function(t,e){var n=e.duration,i=e.startTime,r=e.values,s=(t-i)/n*(r.length-1);return w(r,s)},T=function(t){return"setTarget"===t.type},k=function(){function t(e){n(this,t),this._automationEvents=[],this._currenTime=0,this._defaultValue=e}return i(t,[{key:Symbol.iterator,value:function(){return this._automationEvents[Symbol.iterator]()}},{key:"add",value:function(t){var e=_(t);if(g(t)||v(t)){var n=this._automationEvents.findIndex((function(t){return _(t)>=e})),i=this._automationEvents[n];if(-1!==n&&(this._automationEvents=this._automationEvents.slice(0,n)),g(t)){var l=this._automationEvents[this._automationEvents.length-1];if(void 0!==i&&h(i)){if(T(l))throw new Error("The internal list is malformed.");var d=p(l)?l.startTime+l.duration:_(l),f=p(l)?l.values[l.values.length-1]:l.value,m=u(i)?y(e,d,f,i):b(e,d,f,i),w=u(i)?r(m,e,this._currenTime):s(m,e,this._currenTime);this._automationEvents.push(w)}void 0!==l&&T(l)&&this._automationEvents.push(o(this.getValue(e),e)),void 0!==l&&p(l)&&l.startTime+l.duration>e&&(this._automationEvents[this._automationEvents.length-1]=a(new Float32Array([6,7]),l.startTime,e-l.startTime))}}else{var x=this._automationEvents.findIndex((function(t){return _(t)>e})),k=-1===x?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[x-1];if(void 0!==k&&p(k)&&_(k)+k.duration>e)return!1;var C=u(t)?r(t.value,t.endTime,this._currenTime):c(t)?s(t.value,e,this._currenTime):t;if(-1===x)this._automationEvents.push(C);else{if(p(t)&&e+t.duration>_(this._automationEvents[x]))return!1;this._automationEvents.splice(x,0,C)}}return!0}},{key:"flush",value:function(t){var e=this._automationEvents.findIndex((function(e){return _(e)>t}));if(e>1){var n=this._automationEvents.slice(e-1),i=n[0];T(i)&&n.unshift(o(f(this._automationEvents,e-2,i.startTime,this._defaultValue),i.startTime)),this._automationEvents=n}}},{key:"getValue",value:function(t){if(0===this._automationEvents.length)return this._defaultValue;var n=this._automationEvents[this._automationEvents.length-1],i=this._automationEvents.findIndex((function(e){return _(e)>t})),r=this._automationEvents[i],s=_(n)<=t?n:this._automationEvents[i-1];if(void 0!==s&&T(s)&&(void 0===r||!h(r)||r.insertTime>t))return l(t,f(this._automationEvents,i-2,s.startTime,this._defaultValue),s);if(void 0!==s&&d(s)&&(void 0===r||!h(r)))return s.value;if(void 0!==s&&p(s)&&(void 0===r||!h(r)||s.startTime+s.duration>t))return t<s.startTime+s.duration?x(t,s):s.values[s.values.length-1];if(void 0!==s&&h(s)&&(void 0===r||!h(r)))return s.value;if(void 0!==r&&u(r)){var o=m(this._automationEvents,i-1,s,r,this._defaultValue),a=e(o,2),g=a[0],v=a[1];return y(t,g,v,r)}if(void 0!==r&&c(r)){var w=m(this._automationEvents,i-1,s,r,this._defaultValue),k=e(w,2),C=k[0],S=k[1];return b(t,C,S,r)}return this._defaultValue}}]),t}(),C=function(t){return{cancelTime:t,type:"cancelAndHold"}},S=function(t){return{cancelTime:t,type:"cancelScheduledValues"}},E=function(t,e){return{endTime:e,type:"exponentialRampToValue",value:t}},A=function(t,e){return{endTime:e,type:"linearRampToValue",value:t}},O=function(t,e,n){return{startTime:e,target:t,timeConstant:n,type:"setTarget"}};t.AutomationEventList=k,t.createCancelAndHoldAutomationEvent=C,t.createCancelScheduledValuesAutomationEvent=S,t.createExponentialRampToValueAutomationEvent=E,t.createLinearRampToValueAutomationEvent=A,t.createSetTargetAutomationEvent=O,t.createSetValueAutomationEvent=o,t.createSetValueCurveAutomationEvent=a,Object.defineProperty(t,"__esModule",{value:!0})}(e,n(715),n(383),n(579))},123:t=>{"use strict";var e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(t){i[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(r){return!1}}()?Object.assign:function(t,r){for(var s,o,a=function(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),l=1;l<arguments.length;l++){for(var u in s=Object(arguments[l]))n.call(s,u)&&(a[u]=s[u]);if(e){o=e(s);for(var c=0;c<o.length;c++)i.call(s,o[c])&&(a[o[c]]=s[o[c]])}}return a}},730:(t,e,n)=>{"use strict";var i=n(43),r=n(123),s=n(853);function o(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!i)throw Error(o(227));function a(t,e,n,i,r,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var l=!1,u=null,c=!1,h=null,d={onError:function(t){l=!0,u=t}};function p(t,e,n,i,r,s,o,c,h){l=!1,u=null,a.apply(d,arguments)}var f=null,m=null,g=null;function v(t,e,n){var i=t.type||"unknown-event";t.currentTarget=g(n),function(t,e,n,i,r,s,a,d,f){if(p.apply(this,arguments),l){if(!l)throw Error(o(198));var m=u;l=!1,u=null,c||(c=!0,h=m)}}(i,e,void 0,t),t.currentTarget=null}var _=null,y={};function b(){if(_)for(var t in y){var e=y[t],n=_.indexOf(t);if(!(-1<n))throw Error(o(96,t));if(!x[n]){if(!e.extractEvents)throw Error(o(97,t));for(var i in x[n]=e,n=e.eventTypes){var r=void 0,s=n[i],a=e,l=i;if(T.hasOwnProperty(l))throw Error(o(99,l));T[l]=s;var u=s.phasedRegistrationNames;if(u){for(r in u)u.hasOwnProperty(r)&&w(u[r],a,l);r=!0}else s.registrationName?(w(s.registrationName,a,l),r=!0):r=!1;if(!r)throw Error(o(98,i,t))}}}}function w(t,e,n){if(k[t])throw Error(o(100,t));k[t]=e,C[t]=e.eventTypes[n].dependencies}var x=[],T={},k={},C={};function S(t){var e,n=!1;for(e in t)if(t.hasOwnProperty(e)){var i=t[e];if(!y.hasOwnProperty(e)||y[e]!==i){if(y[e])throw Error(o(102,e));y[e]=i,n=!0}}n&&b()}var E=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),A=null,O=null,M=null;function D(t){if(t=m(t)){if("function"!==typeof A)throw Error(o(280));var e=t.stateNode;e&&(e=f(e),A(t.stateNode,t.type,e))}}function I(t){O?M?M.push(t):M=[t]:O=t}function P(){if(O){var t=O,e=M;if(M=O=null,D(t),e)for(t=0;t<e.length;t++)D(e[t])}}function N(t,e){return t(e)}function R(t,e,n,i,r){return t(e,n,i,r)}function V(){}var F=N,L=!1,z=!1;function q(){null===O&&null===M||(V(),P())}function j(t,e,n){if(z)return t(e,n);z=!0;try{return F(t,e,n)}finally{z=!1,q()}}var W=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,B=Object.prototype.hasOwnProperty,U={},Q={};function H(t,e,n,i,r,s){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s}var $={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){$[t]=new H(t,0,!1,t,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];$[e]=new H(e,1,!1,t[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){$[t]=new H(t,2,!1,t.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){$[t]=new H(t,2,!1,t,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){$[t]=new H(t,3,!1,t.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(t){$[t]=new H(t,3,!0,t,null,!1)})),["capture","download"].forEach((function(t){$[t]=new H(t,4,!1,t,null,!1)})),["cols","rows","size","span"].forEach((function(t){$[t]=new H(t,6,!1,t,null,!1)})),["rowSpan","start"].forEach((function(t){$[t]=new H(t,5,!1,t.toLowerCase(),null,!1)}));var Y=/[\-:]([a-z])/g;function G(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(Y,G);$[e]=new H(e,1,!1,t,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(Y,G);$[e]=new H(e,1,!1,t,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(Y,G);$[e]=new H(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(t){$[t]=new H(t,1,!1,t.toLowerCase(),null,!1)})),$.xlinkHref=new H("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(t){$[t]=new H(t,1,!1,t.toLowerCase(),null,!0)}));var X=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function Z(t,e,n,i){var r=$.hasOwnProperty(e)?$[e]:null;(null!==r?0===r.type:!i&&(2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])))||(function(t,e,n,i){if(null===e||"undefined"===typeof e||function(t,e,n,i){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,r,i)&&(n=null),i||null===r?function(t){return!!B.call(Q,t)||!B.call(U,t)&&(W.test(t)?Q[t]=!0:(U[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=null===n?3!==r.type&&"":n:(e=r.attributeName,i=r.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}X.hasOwnProperty("ReactCurrentDispatcher")||(X.ReactCurrentDispatcher={current:null}),X.hasOwnProperty("ReactCurrentBatchConfig")||(X.ReactCurrentBatchConfig={suspense:null});var K=/^(.*)[\\\/]/,J="function"===typeof Symbol&&Symbol.for,tt=J?Symbol.for("react.element"):60103,et=J?Symbol.for("react.portal"):60106,nt=J?Symbol.for("react.fragment"):60107,it=J?Symbol.for("react.strict_mode"):60108,rt=J?Symbol.for("react.profiler"):60114,st=J?Symbol.for("react.provider"):60109,ot=J?Symbol.for("react.context"):60110,at=J?Symbol.for("react.concurrent_mode"):60111,lt=J?Symbol.for("react.forward_ref"):60112,ut=J?Symbol.for("react.suspense"):60113,ct=J?Symbol.for("react.suspense_list"):60120,ht=J?Symbol.for("react.memo"):60115,dt=J?Symbol.for("react.lazy"):60116,pt=J?Symbol.for("react.block"):60121,ft="function"===typeof Symbol&&Symbol.iterator;function mt(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=ft&&t[ft]||t["@@iterator"])?t:null}function gt(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case nt:return"Fragment";case et:return"Portal";case rt:return"Profiler";case it:return"StrictMode";case ut:return"Suspense";case ct:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case ot:return"Context.Consumer";case st:return"Context.Provider";case lt:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case ht:return gt(t.type);case pt:return gt(t.render);case dt:if(t=1===t._status?t._result:null)return gt(t)}return null}function vt(t){var e="";do{t:switch(t.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break t;default:var i=t._debugOwner,r=t._debugSource,s=gt(t.type);n=null,i&&(n=gt(i.type)),i=s,s="",r?s=" (at "+r.fileName.replace(K,"")+":"+r.lineNumber+")":n&&(s=" (created by "+n+")"),n="\n    in "+(i||"Unknown")+s}e+=n,t=t.return}while(t);return e}function _t(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function yt(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function bt(t){t._valueTracker||(t._valueTracker=function(t){var e=yt(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(t){i=""+t,s.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(t){i=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function wt(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=yt(t)?t.checked?"true":"false":t.value),(t=i)!==n&&(e.setValue(t),!0)}function xt(t,e){var n=e.checked;return r({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function Tt(t,e){var n=null==e.defaultValue?"":e.defaultValue,i=null!=e.checked?e.checked:e.defaultChecked;n=_t(null!=e.value?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function kt(t,e){null!=(e=e.checked)&&Z(t,"checked",e,!1)}function Ct(t,e){kt(t,e);var n=_t(e.value),i=e.type;if(null!=n)"number"===i?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===i||"reset"===i)return void t.removeAttribute("value");e.hasOwnProperty("value")?Et(t,e.type,n):e.hasOwnProperty("defaultValue")&&Et(t,e.type,_t(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function St(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!("submit"!==i&&"reset"!==i||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function Et(t,e,n){"number"===e&&t.ownerDocument.activeElement===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function At(t,e){return t=r({children:void 0},e),(e=function(t){var e="";return i.Children.forEach(t,(function(t){null!=t&&(e+=t)})),e}(e.children))&&(t.children=e),t}function Ot(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+_t(n),e=null,r=0;r<t.length;r++){if(t[r].value===n)return t[r].selected=!0,void(i&&(t[r].defaultSelected=!0));null!==e||t[r].disabled||(e=t[r])}null!==e&&(e.selected=!0)}}function Mt(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(o(91));return r({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Dt(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:_t(n)}}function It(t,e){var n=_t(e.value),i=_t(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=i&&(t.defaultValue=""+i)}function Pt(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}var Nt="http://www.w3.org/1999/xhtml",Rt="http://www.w3.org/2000/svg";function Vt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ft(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?Vt(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var Lt,zt,qt=(zt=function(t,e){if(t.namespaceURI!==Rt||"innerHTML"in t)t.innerHTML=e;else{for((Lt=Lt||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Lt.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,i){MSApp.execUnsafeLocalFunction((function(){return zt(t,e)}))}:zt);function jt(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}function Wt(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Bt={animationend:Wt("Animation","AnimationEnd"),animationiteration:Wt("Animation","AnimationIteration"),animationstart:Wt("Animation","AnimationStart"),transitionend:Wt("Transition","TransitionEnd")},Ut={},Qt={};function Ht(t){if(Ut[t])return Ut[t];if(!Bt[t])return t;var e,n=Bt[t];for(e in n)if(n.hasOwnProperty(e)&&e in Qt)return Ut[t]=n[e];return t}E&&(Qt=document.createElement("div").style,"AnimationEvent"in window||(delete Bt.animationend.animation,delete Bt.animationiteration.animation,delete Bt.animationstart.animation),"TransitionEvent"in window||delete Bt.transitionend.transition);var $t=Ht("animationend"),Yt=Ht("animationiteration"),Gt=Ht("animationstart"),Xt=Ht("transitionend"),Zt="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kt=new("function"===typeof WeakMap?WeakMap:Map);function Jt(t){var e=Kt.get(t);return void 0===e&&(e=new Map,Kt.set(t,e)),e}function te(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(1026&(e=t).effectTag)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function ee(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function ne(t){if(te(t)!==t)throw Error(o(188))}function ie(t){if(t=function(t){var e=t.alternate;if(!e){if(null===(e=te(t)))throw Error(o(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(null===r)break;var s=r.alternate;if(null===s){if(null!==(i=r.return)){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return ne(r),t;if(s===i)return ne(r),e;s=s.sibling}throw Error(o(188))}if(n.return!==i.return)n=r,i=s;else{for(var a=!1,l=r.child;l;){if(l===n){a=!0,n=r,i=s;break}if(l===i){a=!0,i=r,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,i=r;break}if(l===i){a=!0,i=s,n=r;break}l=l.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==i)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?t:e}(t),!t)return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function re(t,e){if(null==e)throw Error(o(30));return null==t?e:Array.isArray(t)?Array.isArray(e)?(t.push.apply(t,e),t):(t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}function se(t,e,n){Array.isArray(t)?t.forEach(e,n):t&&e.call(n,t)}var oe=null;function ae(t){if(t){var e=t._dispatchListeners,n=t._dispatchInstances;if(Array.isArray(e))for(var i=0;i<e.length&&!t.isPropagationStopped();i++)v(t,e[i],n[i]);else e&&v(t,e,n);t._dispatchListeners=null,t._dispatchInstances=null,t.isPersistent()||t.constructor.release(t)}}function le(t){if(null!==t&&(oe=re(oe,t)),t=oe,oe=null,t){if(se(t,ae),oe)throw Error(o(95));if(c)throw t=h,c=!1,h=null,t}}function ue(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}function ce(t){if(!E)return!1;var e=(t="on"+t)in document;return e||((e=document.createElement("div")).setAttribute(t,"return;"),e="function"===typeof e[t]),e}var he=[];function de(t){t.topLevelType=null,t.nativeEvent=null,t.targetInst=null,t.ancestors.length=0,10>he.length&&he.push(t)}function pe(t,e,n,i){if(he.length){var r=he.pop();return r.topLevelType=t,r.eventSystemFlags=i,r.nativeEvent=e,r.targetInst=n,r}return{topLevelType:t,eventSystemFlags:i,nativeEvent:e,targetInst:n,ancestors:[]}}function fe(t){var e=t.targetInst,n=e;do{if(!n){t.ancestors.push(n);break}var i=n;if(3===i.tag)i=i.stateNode.containerInfo;else{for(;i.return;)i=i.return;i=3!==i.tag?null:i.stateNode.containerInfo}if(!i)break;5!==(e=n.tag)&&6!==e||t.ancestors.push(n),n=Pn(i)}while(n);for(n=0;n<t.ancestors.length;n++){e=t.ancestors[n];var r=ue(t.nativeEvent);i=t.topLevelType;var s=t.nativeEvent,o=t.eventSystemFlags;0===n&&(o|=64);for(var a=null,l=0;l<x.length;l++){var u=x[l];u&&(u=u.extractEvents(i,e,s,r,o))&&(a=re(a,u))}le(a)}}function me(t,e,n){if(!n.has(t)){switch(t){case"scroll":Ge(e,"scroll",!0);break;case"focus":case"blur":Ge(e,"focus",!0),Ge(e,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":ce(t)&&Ge(e,t,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Zt.indexOf(t)&&Ye(t,e)}n.set(t,null)}}var ge,ve,_e,ye=!1,be=[],we=null,xe=null,Te=null,ke=new Map,Ce=new Map,Se=[],Ee="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Ae="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Oe(t,e,n,i,r){return{blockedOn:t,topLevelType:e,eventSystemFlags:32|n,nativeEvent:r,container:i}}function Me(t,e){switch(t){case"focus":case"blur":we=null;break;case"dragenter":case"dragleave":xe=null;break;case"mouseover":case"mouseout":Te=null;break;case"pointerover":case"pointerout":ke.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ce.delete(e.pointerId)}}function De(t,e,n,i,r,s){return null===t||t.nativeEvent!==s?(t=Oe(e,n,i,r,s),null!==e&&(null!==(e=Nn(e))&&ve(e)),t):(t.eventSystemFlags|=i,t)}function Ie(t){var e=Pn(t.target);if(null!==e){var n=te(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=ee(n)))return t.blockedOn=e,void s.unstable_runWithPriority(t.priority,(function(){_e(n)}))}else if(3===e&&n.stateNode.hydrate)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function Pe(t){if(null!==t.blockedOn)return!1;var e=Je(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);if(null!==e){var n=Nn(e);return null!==n&&ve(n),t.blockedOn=e,!1}return!0}function Ne(t,e,n){Pe(t)&&n.delete(e)}function Re(){for(ye=!1;0<be.length;){var t=be[0];if(null!==t.blockedOn){null!==(t=Nn(t.blockedOn))&&ge(t);break}var e=Je(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);null!==e?t.blockedOn=e:be.shift()}null!==we&&Pe(we)&&(we=null),null!==xe&&Pe(xe)&&(xe=null),null!==Te&&Pe(Te)&&(Te=null),ke.forEach(Ne),Ce.forEach(Ne)}function Ve(t,e){t.blockedOn===e&&(t.blockedOn=null,ye||(ye=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Re)))}function Fe(t){function e(e){return Ve(e,t)}if(0<be.length){Ve(be[0],t);for(var n=1;n<be.length;n++){var i=be[n];i.blockedOn===t&&(i.blockedOn=null)}}for(null!==we&&Ve(we,t),null!==xe&&Ve(xe,t),null!==Te&&Ve(Te,t),ke.forEach(e),Ce.forEach(e),n=0;n<Se.length;n++)(i=Se[n]).blockedOn===t&&(i.blockedOn=null);for(;0<Se.length&&null===(n=Se[0]).blockedOn;)Ie(n),null===n.blockedOn&&Se.shift()}var Le={},ze=new Map,qe=new Map,je=["abort","abort",$t,"animationEnd",Yt,"animationIteration",Gt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Xt,"transitionEnd","waiting","waiting"];function We(t,e){for(var n=0;n<t.length;n+=2){var i=t[n],r=t[n+1],s="on"+(r[0].toUpperCase()+r.slice(1));s={phasedRegistrationNames:{bubbled:s,captured:s+"Capture"},dependencies:[i],eventPriority:e},qe.set(i,e),ze.set(i,s),Le[r]=s}}We("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),We("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),We(je,2);for(var Be="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Ue=0;Ue<Be.length;Ue++)qe.set(Be[Ue],0);var Qe=s.unstable_UserBlockingPriority,He=s.unstable_runWithPriority,$e=!0;function Ye(t,e){Ge(e,t,!1)}function Ge(t,e,n){var i=qe.get(e);switch(void 0===i?2:i){case 0:i=Xe.bind(null,e,1,t);break;case 1:i=Ze.bind(null,e,1,t);break;default:i=Ke.bind(null,e,1,t)}n?t.addEventListener(e,i,!0):t.addEventListener(e,i,!1)}function Xe(t,e,n,i){L||V();var r=Ke,s=L;L=!0;try{R(r,t,e,n,i)}finally{(L=s)||q()}}function Ze(t,e,n,i){He(Qe,Ke.bind(null,t,e,n,i))}function Ke(t,e,n,i){if($e)if(0<be.length&&-1<Ee.indexOf(t))t=Oe(null,t,e,n,i),be.push(t);else{var r=Je(t,e,n,i);if(null===r)Me(t,i);else if(-1<Ee.indexOf(t))t=Oe(r,t,e,n,i),be.push(t);else if(!function(t,e,n,i,r){switch(e){case"focus":return we=De(we,t,e,n,i,r),!0;case"dragenter":return xe=De(xe,t,e,n,i,r),!0;case"mouseover":return Te=De(Te,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return ke.set(s,De(ke.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Ce.set(s,De(Ce.get(s)||null,t,e,n,i,r)),!0}return!1}(r,t,e,n,i)){Me(t,i),t=pe(t,i,null,e);try{j(fe,t)}finally{de(t)}}}}function Je(t,e,n,i){if(null!==(n=Pn(n=ue(i)))){var r=te(n);if(null===r)n=null;else{var s=r.tag;if(13===s){if(null!==(n=ee(r)))return n;n=null}else if(3===s){if(r.stateNode.hydrate)return 3===r.tag?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}t=pe(t,i,n,e);try{j(fe,t)}finally{de(t)}return null}var tn={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},en=["Webkit","ms","Moz","O"];function nn(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||tn.hasOwnProperty(t)&&tn[t]?(""+e).trim():e+"px"}function rn(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=nn(n,e[n],i);"float"===n&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}Object.keys(tn).forEach((function(t){en.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),tn[e]=tn[t]}))}));var sn=r({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function on(t,e){if(e){if(sn[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(o(137,t,""));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(o(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(o(62,""))}}function an(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ln=Nt;function un(t,e){var n=Jt(t=9===t.nodeType||11===t.nodeType?t:t.ownerDocument);e=C[e];for(var i=0;i<e.length;i++)me(e[i],t,n)}function cn(){}function hn(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function dn(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function pn(t,e){var n,i=dn(t);for(t=0;i;){if(3===i.nodeType){if(n=t+i.textContent.length,t<=e&&n>=e)return{node:i,offset:e-t};t=n}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=dn(i)}}function fn(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?fn(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function mn(){for(var t=window,e=hn();e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(i){n=!1}if(!n)break;e=hn((t=e.contentWindow).document)}return e}function gn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var vn="$",_n="/$",yn="$?",bn="$!",wn=null,xn=null;function Tn(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function kn(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var Cn="function"===typeof setTimeout?setTimeout:void 0,Sn="function"===typeof clearTimeout?clearTimeout:void 0;function En(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break}return t}function An(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if(n===vn||n===bn||n===yn){if(0===e)return t;e--}else n===_n&&e++}t=t.previousSibling}return null}var On=Math.random().toString(36).slice(2),Mn="__reactInternalInstance$"+On,Dn="__reactEventHandlers$"+On,In="__reactContainere$"+On;function Pn(t){var e=t[Mn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[In]||n[Mn]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=An(t);null!==t;){if(n=t[Mn])return n;t=An(t)}return e}n=(t=n).parentNode}return null}function Nn(t){return!(t=t[Mn]||t[In])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function Rn(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(o(33))}function Vn(t){return t[Dn]||null}function Fn(t){do{t=t.return}while(t&&5!==t.tag);return t||null}function Ln(t,e){var n=t.stateNode;if(!n)return null;var i=f(n);if(!i)return null;n=i[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!i;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(o(231,e,typeof n));return n}function zn(t,e,n){(e=Ln(t,n.dispatchConfig.phasedRegistrationNames[e]))&&(n._dispatchListeners=re(n._dispatchListeners,e),n._dispatchInstances=re(n._dispatchInstances,t))}function qn(t){if(t&&t.dispatchConfig.phasedRegistrationNames){for(var e=t._targetInst,n=[];e;)n.push(e),e=Fn(e);for(e=n.length;0<e--;)zn(n[e],"captured",t);for(e=0;e<n.length;e++)zn(n[e],"bubbled",t)}}function jn(t,e,n){t&&n&&n.dispatchConfig.registrationName&&(e=Ln(t,n.dispatchConfig.registrationName))&&(n._dispatchListeners=re(n._dispatchListeners,e),n._dispatchInstances=re(n._dispatchInstances,t))}function Wn(t){t&&t.dispatchConfig.registrationName&&jn(t._targetInst,null,t)}function Bn(t){se(t,qn)}var Un=null,Qn=null,Hn=null;function $n(){if(Hn)return Hn;var t,e,n=Qn,i=n.length,r="value"in Un?Un.value:Un.textContent,s=r.length;for(t=0;t<i&&n[t]===r[t];t++);var o=i-t;for(e=1;e<=o&&n[i-e]===r[s-e];e++);return Hn=r.slice(t,1<e?1-e:void 0)}function Yn(){return!0}function Gn(){return!1}function Xn(t,e,n,i){for(var r in this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=n,t=this.constructor.Interface)t.hasOwnProperty(r)&&((e=t[r])?this[r]=e(n):"target"===r?this.target=i:this[r]=n[r]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Yn:Gn,this.isPropagationStopped=Gn,this}function Zn(t,e,n,i){if(this.eventPool.length){var r=this.eventPool.pop();return this.call(r,t,e,n,i),r}return new this(t,e,n,i)}function Kn(t){if(!(t instanceof this))throw Error(o(279));t.destructor(),10>this.eventPool.length&&this.eventPool.push(t)}function Jn(t){t.eventPool=[],t.getPooled=Zn,t.release=Kn}r(Xn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=Yn)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=Yn)},persist:function(){this.isPersistent=Yn},isPersistent:Gn,destructor:function(){var t,e=this.constructor.Interface;for(t in e)this[t]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Gn,this._dispatchInstances=this._dispatchListeners=null}}),Xn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Xn.extend=function(t){function e(){}function n(){return i.apply(this,arguments)}var i=this;e.prototype=i.prototype;var s=new e;return r(s,n.prototype),n.prototype=s,n.prototype.constructor=n,n.Interface=r({},i.Interface,t),n.extend=i.extend,Jn(n),n},Jn(Xn);var ti=Xn.extend({data:null}),ei=Xn.extend({data:null}),ni=[9,13,27,32],ii=E&&"CompositionEvent"in window,ri=null;E&&"documentMode"in document&&(ri=document.documentMode);var si=E&&"TextEvent"in window&&!ri,oi=E&&(!ii||ri&&8<ri&&11>=ri),ai=String.fromCharCode(32),li={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},ui=!1;function ci(t,e){switch(t){case"keyup":return-1!==ni.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function hi(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var di=!1;var pi={eventTypes:li,extractEvents:function(t,e,n,i){var r;if(ii)t:{switch(t){case"compositionstart":var s=li.compositionStart;break t;case"compositionend":s=li.compositionEnd;break t;case"compositionupdate":s=li.compositionUpdate;break t}s=void 0}else di?ci(t,n)&&(s=li.compositionEnd):"keydown"===t&&229===n.keyCode&&(s=li.compositionStart);return s?(oi&&"ko"!==n.locale&&(di||s!==li.compositionStart?s===li.compositionEnd&&di&&(r=$n()):(Qn="value"in(Un=i)?Un.value:Un.textContent,di=!0)),s=ti.getPooled(s,e,n,i),r?s.data=r:null!==(r=hi(n))&&(s.data=r),Bn(s),r=s):r=null,(t=si?function(t,e){switch(t){case"compositionend":return hi(e);case"keypress":return 32!==e.which?null:(ui=!0,ai);case"textInput":return(t=e.data)===ai&&ui?null:t;default:return null}}(t,n):function(t,e){if(di)return"compositionend"===t||!ii&&ci(t,e)?(t=$n(),Hn=Qn=Un=null,di=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return oi&&"ko"!==e.locale?null:e.data}}(t,n))?((e=ei.getPooled(li.beforeInput,e,n,i)).data=t,Bn(e)):e=null,null===r?e:null===e?r:[r,e]}},fi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mi(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!fi[t.type]:"textarea"===e}var gi={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function vi(t,e,n){return(t=Xn.getPooled(gi.change,t,e,n)).type="change",I(n),Bn(t),t}var _i=null,yi=null;function bi(t){le(t)}function wi(t){if(wt(Rn(t)))return t}function xi(t,e){if("change"===t)return e}var Ti=!1;function ki(){_i&&(_i.detachEvent("onpropertychange",Ci),yi=_i=null)}function Ci(t){if("value"===t.propertyName&&wi(yi))if(t=vi(yi,t,ue(t)),L)le(t);else{L=!0;try{N(bi,t)}finally{L=!1,q()}}}function Si(t,e,n){"focus"===t?(ki(),yi=n,(_i=e).attachEvent("onpropertychange",Ci)):"blur"===t&&ki()}function Ei(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return wi(yi)}function Ai(t,e){if("click"===t)return wi(e)}function Oi(t,e){if("input"===t||"change"===t)return wi(e)}E&&(Ti=ce("input")&&(!document.documentMode||9<document.documentMode));var Mi={eventTypes:gi,_isInputEventSupported:Ti,extractEvents:function(t,e,n,i){var r=e?Rn(e):window,s=r.nodeName&&r.nodeName.toLowerCase();if("select"===s||"input"===s&&"file"===r.type)var o=xi;else if(mi(r))if(Ti)o=Oi;else{o=Ei;var a=Si}else(s=r.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===r.type||"radio"===r.type)&&(o=Ai);if(o&&(o=o(t,e)))return vi(o,n,i);a&&a(t,r,e),"blur"===t&&(t=r._wrapperState)&&t.controlled&&"number"===r.type&&Et(r,"number",r.value)}},Di=Xn.extend({view:null,detail:null}),Ii={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pi(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Ii[t])&&!!e[t]}function Ni(){return Pi}var Ri=0,Vi=0,Fi=!1,Li=!1,zi=Di.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Ni,button:null,buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},movementX:function(t){if("movementX"in t)return t.movementX;var e=Ri;return Ri=t.screenX,Fi?"mousemove"===t.type?t.screenX-e:0:(Fi=!0,0)},movementY:function(t){if("movementY"in t)return t.movementY;var e=Vi;return Vi=t.screenY,Li?"mousemove"===t.type?t.screenY-e:0:(Li=!0,0)}}),qi=zi.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),ji={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Wi={eventTypes:ji,extractEvents:function(t,e,n,i,r){var s="mouseover"===t||"pointerover"===t,o="mouseout"===t||"pointerout"===t;if(s&&0===(32&r)&&(n.relatedTarget||n.fromElement)||!o&&!s)return null;(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,o)?(o=e,null!==(e=(e=n.relatedTarget||n.toElement)?Pn(e):null)&&(e!==te(e)||5!==e.tag&&6!==e.tag)&&(e=null)):o=null;if(o===e)return null;if("mouseout"===t||"mouseover"===t)var a=zi,l=ji.mouseLeave,u=ji.mouseEnter,c="mouse";else"pointerout"!==t&&"pointerover"!==t||(a=qi,l=ji.pointerLeave,u=ji.pointerEnter,c="pointer");if(t=null==o?s:Rn(o),s=null==e?s:Rn(e),(l=a.getPooled(l,o,n,i)).type=c+"leave",l.target=t,l.relatedTarget=s,(n=a.getPooled(u,e,n,i)).type=c+"enter",n.target=s,n.relatedTarget=t,c=e,(i=o)&&c)t:{for(u=c,o=0,t=a=i;t;t=Fn(t))o++;for(t=0,e=u;e;e=Fn(e))t++;for(;0<o-t;)a=Fn(a),o--;for(;0<t-o;)u=Fn(u),t--;for(;o--;){if(a===u||a===u.alternate)break t;a=Fn(a),u=Fn(u)}a=null}else a=null;for(u=a,a=[];i&&i!==u&&(null===(o=i.alternate)||o!==u);)a.push(i),i=Fn(i);for(i=[];c&&c!==u&&(null===(o=c.alternate)||o!==u);)i.push(c),c=Fn(c);for(c=0;c<a.length;c++)jn(a[c],"bubbled",l);for(c=i.length;0<c--;)jn(i[c],"captured",n);return 0===(64&r)?[l]:[l,n]}};var Bi="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e},Ui=Object.prototype.hasOwnProperty;function Qi(t,e){if(Bi(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++)if(!Ui.call(e,n[i])||!Bi(t[n[i]],e[n[i]]))return!1;return!0}var Hi=E&&"documentMode"in document&&11>=document.documentMode,$i={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Yi=null,Gi=null,Xi=null,Zi=!1;function Ki(t,e){var n=e.window===e?e.document:9===e.nodeType?e:e.ownerDocument;return Zi||null==Yi||Yi!==hn(n)?null:("selectionStart"in(n=Yi)&&gn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Xi&&Qi(Xi,n)?null:(Xi=n,(t=Xn.getPooled($i.select,Gi,t,e)).type="select",t.target=Yi,Bn(t),t))}var Ji={eventTypes:$i,extractEvents:function(t,e,n,i,r,s){if(!(s=!(r=s||(i.window===i?i.document:9===i.nodeType?i:i.ownerDocument)))){t:{r=Jt(r),s=C.onSelect;for(var o=0;o<s.length;o++)if(!r.has(s[o])){r=!1;break t}r=!0}s=!r}if(s)return null;switch(r=e?Rn(e):window,t){case"focus":(mi(r)||"true"===r.contentEditable)&&(Yi=r,Gi=e,Xi=null);break;case"blur":Xi=Gi=Yi=null;break;case"mousedown":Zi=!0;break;case"contextmenu":case"mouseup":case"dragend":return Zi=!1,Ki(n,i);case"selectionchange":if(Hi)break;case"keydown":case"keyup":return Ki(n,i)}return null}},tr=Xn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),er=Xn.extend({clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),nr=Di.extend({relatedTarget:null});function ir(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}var rr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},or=Di.extend({key:function(t){if(t.key){var e=rr[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=ir(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?sr[t.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Ni,charCode:function(t){return"keypress"===t.type?ir(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?ir(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),ar=zi.extend({dataTransfer:null}),lr=Di.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Ni}),ur=Xn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),cr=zi.extend({deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null}),hr={eventTypes:Le,extractEvents:function(t,e,n,i){var r=ze.get(t);if(!r)return null;switch(t){case"keypress":if(0===ir(n))return null;case"keydown":case"keyup":t=or;break;case"blur":case"focus":t=nr;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":t=zi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":t=ar;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":t=lr;break;case $t:case Yt:case Gt:t=tr;break;case Xt:t=ur;break;case"scroll":t=Di;break;case"wheel":t=cr;break;case"copy":case"cut":case"paste":t=er;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":t=qi;break;default:t=Xn}return Bn(e=t.getPooled(r,e,n,i)),e}};if(_)throw Error(o(101));_=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),b(),f=Vn,m=Nn,g=Rn,S({SimpleEventPlugin:hr,EnterLeaveEventPlugin:Wi,ChangeEventPlugin:Mi,SelectEventPlugin:Ji,BeforeInputEventPlugin:pi});var dr=[],pr=-1;function fr(t){0>pr||(t.current=dr[pr],dr[pr]=null,pr--)}function mr(t,e){pr++,dr[pr]=t.current,t.current=e}var gr={},vr={current:gr},_r={current:!1},yr=gr;function br(t,e){var n=t.type.contextTypes;if(!n)return gr;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r,s={};for(r in n)s[r]=e[r];return i&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function wr(t){return null!==(t=t.childContextTypes)&&void 0!==t}function xr(){fr(_r),fr(vr)}function Tr(t,e,n){if(vr.current!==gr)throw Error(o(168));mr(vr,e),mr(_r,n)}function kr(t,e,n){var i=t.stateNode;if(t=e.childContextTypes,"function"!==typeof i.getChildContext)return n;for(var s in i=i.getChildContext())if(!(s in t))throw Error(o(108,gt(e)||"Unknown",s));return r({},n,{},i)}function Cr(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||gr,yr=vr.current,mr(vr,t),mr(_r,_r.current),!0}function Sr(t,e,n){var i=t.stateNode;if(!i)throw Error(o(169));n?(t=kr(t,e,yr),i.__reactInternalMemoizedMergedChildContext=t,fr(_r),fr(vr),mr(vr,t)):fr(_r),mr(_r,n)}var Er=s.unstable_runWithPriority,Ar=s.unstable_scheduleCallback,Or=s.unstable_cancelCallback,Mr=s.unstable_requestPaint,Dr=s.unstable_now,Ir=s.unstable_getCurrentPriorityLevel,Pr=s.unstable_ImmediatePriority,Nr=s.unstable_UserBlockingPriority,Rr=s.unstable_NormalPriority,Vr=s.unstable_LowPriority,Fr=s.unstable_IdlePriority,Lr={},zr=s.unstable_shouldYield,qr=void 0!==Mr?Mr:function(){},jr=null,Wr=null,Br=!1,Ur=Dr(),Qr=1e4>Ur?Dr:function(){return Dr()-Ur};function Hr(){switch(Ir()){case Pr:return 99;case Nr:return 98;case Rr:return 97;case Vr:return 96;case Fr:return 95;default:throw Error(o(332))}}function $r(t){switch(t){case 99:return Pr;case 98:return Nr;case 97:return Rr;case 96:return Vr;case 95:return Fr;default:throw Error(o(332))}}function Yr(t,e){return t=$r(t),Er(t,e)}function Gr(t,e,n){return t=$r(t),Ar(t,e,n)}function Xr(t){return null===jr?(jr=[t],Wr=Ar(Pr,Kr)):jr.push(t),Lr}function Zr(){if(null!==Wr){var t=Wr;Wr=null,Or(t)}Kr()}function Kr(){if(!Br&&null!==jr){Br=!0;var t=0;try{var e=jr;Yr(99,(function(){for(;t<e.length;t++){var n=e[t];do{n=n(!0)}while(null!==n)}})),jr=null}catch(n){throw null!==jr&&(jr=jr.slice(t+1)),Ar(Pr,Zr),n}finally{Br=!1}}}function Jr(t,e,n){return 1073741821-(1+((1073741821-t+e/10)/(n/=10)|0))*n}function ts(t,e){if(t&&t.defaultProps)for(var n in e=r({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}var es={current:null},ns=null,is=null,rs=null;function ss(){rs=is=ns=null}function os(t){var e=es.current;fr(es),t.type._context._currentValue=e}function as(t,e){for(;null!==t;){var n=t.alternate;if(t.childExpirationTime<e)t.childExpirationTime=e,null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e);else{if(!(null!==n&&n.childExpirationTime<e))break;n.childExpirationTime=e}t=t.return}}function ls(t,e){ns=t,rs=is=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(t.expirationTime>=e&&(Vo=!0),t.firstContext=null)}function us(t,e){if(rs!==t&&!1!==e&&0!==e)if("number"===typeof e&&1073741823!==e||(rs=t,e=1073741823),e={context:t,observedBits:e,next:null},null===is){if(null===ns)throw Error(o(308));is=e,ns.dependencies={expirationTime:0,firstContext:e,responders:null}}else is=is.next=e;return t._currentValue}var cs=!1;function hs(t){t.updateQueue={baseState:t.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function ds(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,baseQueue:t.baseQueue,shared:t.shared,effects:t.effects})}function ps(t,e){return(t={expirationTime:t,suspenseConfig:e,tag:0,payload:null,callback:null,next:null}).next=t}function fs(t,e){if(null!==(t=t.updateQueue)){var n=(t=t.shared).pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function ms(t,e){var n=t.alternate;null!==n&&ds(n,t),null===(n=(t=t.updateQueue).baseQueue)?(t.baseQueue=e.next=e,e.next=e):(e.next=n.next,n.next=e)}function gs(t,e,n,i){var s=t.updateQueue;cs=!1;var o=s.baseQueue,a=s.shared.pending;if(null!==a){if(null!==o){var l=o.next;o.next=a.next,a.next=l}o=a,s.shared.pending=null,null!==(l=t.alternate)&&(null!==(l=l.updateQueue)&&(l.baseQueue=a))}if(null!==o){l=o.next;var u=s.baseState,c=0,h=null,d=null,p=null;if(null!==l)for(var f=l;;){if((a=f.expirationTime)<i){var m={expirationTime:f.expirationTime,suspenseConfig:f.suspenseConfig,tag:f.tag,payload:f.payload,callback:f.callback,next:null};null===p?(d=p=m,h=u):p=p.next=m,a>c&&(c=a)}else{null!==p&&(p=p.next={expirationTime:1073741823,suspenseConfig:f.suspenseConfig,tag:f.tag,payload:f.payload,callback:f.callback,next:null}),xl(a,f.suspenseConfig);t:{var g=t,v=f;switch(a=e,m=n,v.tag){case 1:if("function"===typeof(g=v.payload)){u=g.call(m,u,a);break t}u=g;break t;case 3:g.effectTag=-4097&g.effectTag|64;case 0:if(null===(a="function"===typeof(g=v.payload)?g.call(m,u,a):g)||void 0===a)break t;u=r({},u,a);break t;case 2:cs=!0}}null!==f.callback&&(t.effectTag|=32,null===(a=s.effects)?s.effects=[f]:a.push(f))}if(null===(f=f.next)||f===l){if(null===(a=s.shared.pending))break;f=o.next=a.next,a.next=l,s.baseQueue=o=a,s.shared.pending=null}}null===p?h=u:p.next=d,s.baseState=h,s.baseQueue=p,Tl(c),t.expirationTime=c,t.memoizedState=u}}function vs(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(null!==r){if(i.callback=null,i=r,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var _s=X.ReactCurrentBatchConfig,ys=(new i.Component).refs;function bs(t,e,n,i){n=null===(n=n(i,e=t.memoizedState))||void 0===n?e:r({},e,n),t.memoizedState=n,0===t.expirationTime&&(t.updateQueue.baseState=n)}var ws={isMounted:function(t){return!!(t=t._reactInternalFiber)&&te(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternalFiber;var i=ul(),r=_s.suspense;(r=ps(i=cl(i,t,r),r)).payload=e,void 0!==n&&null!==n&&(r.callback=n),fs(t,r),hl(t,i)},enqueueReplaceState:function(t,e,n){t=t._reactInternalFiber;var i=ul(),r=_s.suspense;(r=ps(i=cl(i,t,r),r)).tag=1,r.payload=e,void 0!==n&&null!==n&&(r.callback=n),fs(t,r),hl(t,i)},enqueueForceUpdate:function(t,e){t=t._reactInternalFiber;var n=ul(),i=_s.suspense;(i=ps(n=cl(n,t,i),i)).tag=2,void 0!==e&&null!==e&&(i.callback=e),fs(t,i),hl(t,n)}};function xs(t,e,n,i,r,s,o){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(i,s,o):!e.prototype||!e.prototype.isPureReactComponent||(!Qi(n,i)||!Qi(r,s))}function Ts(t,e,n){var i=!1,r=gr,s=e.contextType;return"object"===typeof s&&null!==s?s=us(s):(r=wr(e)?yr:vr.current,s=(i=null!==(i=e.contextTypes)&&void 0!==i)?br(t,r):gr),e=new e(n,s),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=ws,t.stateNode=e,e._reactInternalFiber=t,i&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=s),e}function ks(t,e,n,i){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,i),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&ws.enqueueReplaceState(e,e.state,null)}function Cs(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs=ys,hs(t);var s=e.contextType;"object"===typeof s&&null!==s?r.context=us(s):(s=wr(e)?yr:vr.current,r.context=br(t,s)),gs(t,n,r,i),r.state=t.memoizedState,"function"===typeof(s=e.getDerivedStateFromProps)&&(bs(t,e,s,n),r.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(e=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),e!==r.state&&ws.enqueueReplaceState(r,r.state,null),gs(t,n,r,i),r.state=t.memoizedState),"function"===typeof r.componentDidMount&&(t.effectTag|=4)}var Ss=Array.isArray;function Es(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var i=n.stateNode}if(!i)throw Error(o(147,t));var r=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===r?e.ref:(e=function(t){var e=i.refs;e===ys&&(e=i.refs={}),null===t?delete e[r]:e[r]=t},e._stringRef=r,e)}if("string"!==typeof t)throw Error(o(284));if(!n._owner)throw Error(o(290,t))}return t}function As(t,e){if("textarea"!==t.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e,""))}function Os(t){function e(e,n){if(t){var i=e.lastEffect;null!==i?(i.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,i){if(!t)return null;for(;null!==i;)e(n,i),i=i.sibling;return null}function i(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function r(t,e){return(t=Bl(t,e)).index=0,t.sibling=null,t}function s(e,n,i){return e.index=i,t?null!==(i=e.alternate)?(i=i.index)<n?(e.effectTag=2,n):i:(e.effectTag=2,n):n}function a(e){return t&&null===e.alternate&&(e.effectTag=2),e}function l(t,e,n,i){return null===e||6!==e.tag?((e=Hl(n,t.mode,i)).return=t,e):((e=r(e,n)).return=t,e)}function u(t,e,n,i){return null!==e&&e.elementType===n.type?((i=r(e,n.props)).ref=Es(t,e,n),i.return=t,i):((i=Ul(n.type,n.key,n.props,null,t.mode,i)).ref=Es(t,e,n),i.return=t,i)}function c(t,e,n,i){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=$l(n,t.mode,i)).return=t,e):((e=r(e,n.children||[])).return=t,e)}function h(t,e,n,i,s){return null===e||7!==e.tag?((e=Ql(n,t.mode,i,s)).return=t,e):((e=r(e,n)).return=t,e)}function d(t,e,n){if("string"===typeof e||"number"===typeof e)return(e=Hl(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case tt:return(n=Ul(e.type,e.key,e.props,null,t.mode,n)).ref=Es(t,null,e),n.return=t,n;case et:return(e=$l(e,t.mode,n)).return=t,e}if(Ss(e)||mt(e))return(e=Ql(e,t.mode,n,null)).return=t,e;As(t,e)}return null}function p(t,e,n,i){var r=null!==e?e.key:null;if("string"===typeof n||"number"===typeof n)return null!==r?null:l(t,e,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case tt:return n.key===r?n.type===nt?h(t,e,n.props.children,i,r):u(t,e,n,i):null;case et:return n.key===r?c(t,e,n,i):null}if(Ss(n)||mt(n))return null!==r?null:h(t,e,n,i,null);As(t,n)}return null}function f(t,e,n,i,r){if("string"===typeof i||"number"===typeof i)return l(e,t=t.get(n)||null,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case tt:return t=t.get(null===i.key?n:i.key)||null,i.type===nt?h(e,t,i.props.children,r,i.key):u(e,t,i,r);case et:return c(e,t=t.get(null===i.key?n:i.key)||null,i,r)}if(Ss(i)||mt(i))return h(e,t=t.get(n)||null,i,r,null);As(e,i)}return null}function m(r,o,a,l){for(var u=null,c=null,h=o,m=o=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=p(r,h,a[m],l);if(null===v){null===h&&(h=g);break}t&&h&&null===v.alternate&&e(r,h),o=s(v,o,m),null===c?u=v:c.sibling=v,c=v,h=g}if(m===a.length)return n(r,h),u;if(null===h){for(;m<a.length;m++)null!==(h=d(r,a[m],l))&&(o=s(h,o,m),null===c?u=h:c.sibling=h,c=h);return u}for(h=i(r,h);m<a.length;m++)null!==(g=f(h,r,m,a[m],l))&&(t&&null!==g.alternate&&h.delete(null===g.key?m:g.key),o=s(g,o,m),null===c?u=g:c.sibling=g,c=g);return t&&h.forEach((function(t){return e(r,t)})),u}function g(r,a,l,u){var c=mt(l);if("function"!==typeof c)throw Error(o(150));if(null==(l=c.call(l)))throw Error(o(151));for(var h=c=null,m=a,g=a=0,v=null,_=l.next();null!==m&&!_.done;g++,_=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var y=p(r,m,_.value,u);if(null===y){null===m&&(m=v);break}t&&m&&null===y.alternate&&e(r,m),a=s(y,a,g),null===h?c=y:h.sibling=y,h=y,m=v}if(_.done)return n(r,m),c;if(null===m){for(;!_.done;g++,_=l.next())null!==(_=d(r,_.value,u))&&(a=s(_,a,g),null===h?c=_:h.sibling=_,h=_);return c}for(m=i(r,m);!_.done;g++,_=l.next())null!==(_=f(m,r,g,_.value,u))&&(t&&null!==_.alternate&&m.delete(null===_.key?g:_.key),a=s(_,a,g),null===h?c=_:h.sibling=_,h=_);return t&&m.forEach((function(t){return e(r,t)})),c}return function(t,i,s,l){var u="object"===typeof s&&null!==s&&s.type===nt&&null===s.key;u&&(s=s.props.children);var c="object"===typeof s&&null!==s;if(c)switch(s.$$typeof){case tt:t:{for(c=s.key,u=i;null!==u;){if(u.key===c){if(7===u.tag){if(s.type===nt){n(t,u.sibling),(i=r(u,s.props.children)).return=t,t=i;break t}}else if(u.elementType===s.type){n(t,u.sibling),(i=r(u,s.props)).ref=Es(t,u,s),i.return=t,t=i;break t}n(t,u);break}e(t,u),u=u.sibling}s.type===nt?((i=Ql(s.props.children,t.mode,l,s.key)).return=t,t=i):((l=Ul(s.type,s.key,s.props,null,t.mode,l)).ref=Es(t,i,s),l.return=t,t=l)}return a(t);case et:t:{for(u=s.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===s.containerInfo&&i.stateNode.implementation===s.implementation){n(t,i.sibling),(i=r(i,s.children||[])).return=t,t=i;break t}n(t,i);break}e(t,i),i=i.sibling}(i=$l(s,t.mode,l)).return=t,t=i}return a(t)}if("string"===typeof s||"number"===typeof s)return s=""+s,null!==i&&6===i.tag?(n(t,i.sibling),(i=r(i,s)).return=t,t=i):(n(t,i),(i=Hl(s,t.mode,l)).return=t,t=i),a(t);if(Ss(s))return m(t,i,s,l);if(mt(s))return g(t,i,s,l);if(c&&As(t,s),"undefined"===typeof s&&!u)switch(t.tag){case 1:case 0:throw t=t.type,Error(o(152,t.displayName||t.name||"Component"))}return n(t,i)}}var Ms=Os(!0),Ds=Os(!1),Is={},Ps={current:Is},Ns={current:Is},Rs={current:Is};function Vs(t){if(t===Is)throw Error(o(174));return t}function Fs(t,e){switch(mr(Rs,e),mr(Ns,t),mr(Ps,Is),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ft(null,"");break;default:e=Ft(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}fr(Ps),mr(Ps,e)}function Ls(){fr(Ps),fr(Ns),fr(Rs)}function zs(t){Vs(Rs.current);var e=Vs(Ps.current),n=Ft(e,t.type);e!==n&&(mr(Ns,t),mr(Ps,n))}function qs(t){Ns.current===t&&(fr(Ps),fr(Ns))}var js={current:0};function Ws(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||n.data===yn||n.data===bn))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(64&e.effectTag))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function Bs(t,e){return{responder:t,props:e}}var Us=X.ReactCurrentDispatcher,Qs=X.ReactCurrentBatchConfig,Hs=0,$s=null,Ys=null,Gs=null,Xs=!1;function Zs(){throw Error(o(321))}function Ks(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Bi(t[n],e[n]))return!1;return!0}function Js(t,e,n,i,r,s){if(Hs=s,$s=e,e.memoizedState=null,e.updateQueue=null,e.expirationTime=0,Us.current=null===t||null===t.memoizedState?To:ko,t=n(i,r),e.expirationTime===Hs){s=0;do{if(e.expirationTime=0,!(25>s))throw Error(o(301));s+=1,Gs=Ys=null,e.updateQueue=null,Us.current=Co,t=n(i,r)}while(e.expirationTime===Hs)}if(Us.current=xo,e=null!==Ys&&null!==Ys.next,Hs=0,Gs=Ys=$s=null,Xs=!1,e)throw Error(o(300));return t}function to(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Gs?$s.memoizedState=Gs=t:Gs=Gs.next=t,Gs}function eo(){if(null===Ys){var t=$s.alternate;t=null!==t?t.memoizedState:null}else t=Ys.next;var e=null===Gs?$s.memoizedState:Gs.next;if(null!==e)Gs=e,Ys=t;else{if(null===t)throw Error(o(310));t={memoizedState:(Ys=t).memoizedState,baseState:Ys.baseState,baseQueue:Ys.baseQueue,queue:Ys.queue,next:null},null===Gs?$s.memoizedState=Gs=t:Gs=Gs.next=t}return Gs}function no(t,e){return"function"===typeof e?e(t):e}function io(t){var e=eo(),n=e.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=t;var i=Ys,r=i.baseQueue,s=n.pending;if(null!==s){if(null!==r){var a=r.next;r.next=s.next,s.next=a}i.baseQueue=r=s,n.pending=null}if(null!==r){r=r.next,i=i.baseState;var l=a=s=null,u=r;do{var c=u.expirationTime;if(c<Hs){var h={expirationTime:u.expirationTime,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===l?(a=l=h,s=i):l=l.next=h,c>$s.expirationTime&&($s.expirationTime=c,Tl(c))}else null!==l&&(l=l.next={expirationTime:1073741823,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),xl(c,u.suspenseConfig),i=u.eagerReducer===t?u.eagerState:t(i,u.action);u=u.next}while(null!==u&&u!==r);null===l?s=i:l.next=a,Bi(i,e.memoizedState)||(Vo=!0),e.memoizedState=i,e.baseState=s,e.baseQueue=l,n.lastRenderedState=i}return[e.memoizedState,n.dispatch]}function ro(t){var e=eo(),n=e.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,s=e.memoizedState;if(null!==r){n.pending=null;var a=r=r.next;do{s=t(s,a.action),a=a.next}while(a!==r);Bi(s,e.memoizedState)||(Vo=!0),e.memoizedState=s,null===e.baseQueue&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function so(t){var e=to();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={pending:null,dispatch:null,lastRenderedReducer:no,lastRenderedState:t}).dispatch=wo.bind(null,$s,t),[e.memoizedState,t]}function oo(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},null===(e=$s.updateQueue)?(e={lastEffect:null},$s.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function ao(){return eo().memoizedState}function lo(t,e,n,i){var r=to();$s.effectTag|=t,r.memoizedState=oo(1|e,n,void 0,void 0===i?null:i)}function uo(t,e,n,i){var r=eo();i=void 0===i?null:i;var s=void 0;if(null!==Ys){var o=Ys.memoizedState;if(s=o.destroy,null!==i&&Ks(i,o.deps))return void oo(e,n,s,i)}$s.effectTag|=t,r.memoizedState=oo(1|e,n,s,i)}function co(t,e){return lo(516,4,t,e)}function ho(t,e){return uo(516,4,t,e)}function po(t,e){return uo(4,2,t,e)}function fo(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function mo(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,uo(4,2,fo.bind(null,e,t),n)}function go(){}function vo(t,e){return to().memoizedState=[t,void 0===e?null:e],t}function _o(t,e){var n=eo();e=void 0===e?null:e;var i=n.memoizedState;return null!==i&&null!==e&&Ks(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function yo(t,e){var n=eo();e=void 0===e?null:e;var i=n.memoizedState;return null!==i&&null!==e&&Ks(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function bo(t,e,n){var i=Hr();Yr(98>i?98:i,(function(){t(!0)})),Yr(97<i?97:i,(function(){var i=Qs.suspense;Qs.suspense=void 0===e?null:e;try{t(!1),n()}finally{Qs.suspense=i}}))}function wo(t,e,n){var i=ul(),r=_s.suspense;r={expirationTime:i=cl(i,t,r),suspenseConfig:r,action:n,eagerReducer:null,eagerState:null,next:null};var s=e.pending;if(null===s?r.next=r:(r.next=s.next,s.next=r),e.pending=r,s=t.alternate,t===$s||null!==s&&s===$s)Xs=!0,r.expirationTime=Hs,$s.expirationTime=Hs;else{if(0===t.expirationTime&&(null===s||0===s.expirationTime)&&null!==(s=e.lastRenderedReducer))try{var o=e.lastRenderedState,a=s(o,n);if(r.eagerReducer=s,r.eagerState=a,Bi(a,o))return}catch(l){}hl(t,i)}}var xo={readContext:us,useCallback:Zs,useContext:Zs,useEffect:Zs,useImperativeHandle:Zs,useLayoutEffect:Zs,useMemo:Zs,useReducer:Zs,useRef:Zs,useState:Zs,useDebugValue:Zs,useResponder:Zs,useDeferredValue:Zs,useTransition:Zs},To={readContext:us,useCallback:vo,useContext:us,useEffect:co,useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,lo(4,2,fo.bind(null,e,t),n)},useLayoutEffect:function(t,e){return lo(4,2,t,e)},useMemo:function(t,e){var n=to();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=to();return e=void 0!==n?n(e):e,i.memoizedState=i.baseState=e,t=(t=i.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=wo.bind(null,$s,t),[i.memoizedState,t]},useRef:function(t){return t={current:t},to().memoizedState=t},useState:so,useDebugValue:go,useResponder:Bs,useDeferredValue:function(t,e){var n=so(t),i=n[0],r=n[1];return co((function(){var n=Qs.suspense;Qs.suspense=void 0===e?null:e;try{r(t)}finally{Qs.suspense=n}}),[t,e]),i},useTransition:function(t){var e=so(!1),n=e[0];return e=e[1],[vo(bo.bind(null,e,t),[e,t]),n]}},ko={readContext:us,useCallback:_o,useContext:us,useEffect:ho,useImperativeHandle:mo,useLayoutEffect:po,useMemo:yo,useReducer:io,useRef:ao,useState:function(){return io(no)},useDebugValue:go,useResponder:Bs,useDeferredValue:function(t,e){var n=io(no),i=n[0],r=n[1];return ho((function(){var n=Qs.suspense;Qs.suspense=void 0===e?null:e;try{r(t)}finally{Qs.suspense=n}}),[t,e]),i},useTransition:function(t){var e=io(no),n=e[0];return e=e[1],[_o(bo.bind(null,e,t),[e,t]),n]}},Co={readContext:us,useCallback:_o,useContext:us,useEffect:ho,useImperativeHandle:mo,useLayoutEffect:po,useMemo:yo,useReducer:ro,useRef:ao,useState:function(){return ro(no)},useDebugValue:go,useResponder:Bs,useDeferredValue:function(t,e){var n=ro(no),i=n[0],r=n[1];return ho((function(){var n=Qs.suspense;Qs.suspense=void 0===e?null:e;try{r(t)}finally{Qs.suspense=n}}),[t,e]),i},useTransition:function(t){var e=ro(no),n=e[0];return e=e[1],[_o(bo.bind(null,e,t),[e,t]),n]}},So=null,Eo=null,Ao=!1;function Oo(t,e){var n=jl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.effectTag=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function Mo(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);default:return!1}}function Do(t){if(Ao){var e=Eo;if(e){var n=e;if(!Mo(t,e)){if(!(e=En(n.nextSibling))||!Mo(t,e))return t.effectTag=-1025&t.effectTag|2,Ao=!1,void(So=t);Oo(So,n)}So=t,Eo=En(e.firstChild)}else t.effectTag=-1025&t.effectTag|2,Ao=!1,So=t}}function Io(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;So=t}function Po(t){if(t!==So)return!1;if(!Ao)return Io(t),Ao=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!kn(e,t.memoizedProps))for(e=Eo;e;)Oo(t,e),e=En(e.nextSibling);if(Io(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(o(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if(n===_n){if(0===e){Eo=En(t.nextSibling);break t}e--}else n!==vn&&n!==bn&&n!==yn||e++}t=t.nextSibling}Eo=null}}else Eo=So?En(t.stateNode.nextSibling):null;return!0}function No(){Eo=So=null,Ao=!1}var Ro=X.ReactCurrentOwner,Vo=!1;function Fo(t,e,n,i){e.child=null===t?Ds(e,null,n,i):Ms(e,t.child,n,i)}function Lo(t,e,n,i,r){n=n.render;var s=e.ref;return ls(e,r),i=Js(t,e,n,i,s,r),null===t||Vo?(e.effectTag|=1,Fo(t,e,i,r),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=r&&(t.expirationTime=0),ea(t,e,r))}function zo(t,e,n,i,r,s){if(null===t){var o=n.type;return"function"!==typeof o||Wl(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Ul(n.type,null,i,null,e.mode,s)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=o,qo(t,e,o,i,r,s))}return o=t.child,r<s&&(r=o.memoizedProps,(n=null!==(n=n.compare)?n:Qi)(r,i)&&t.ref===e.ref)?ea(t,e,s):(e.effectTag|=1,(t=Bl(o,i)).ref=e.ref,t.return=e,e.child=t)}function qo(t,e,n,i,r,s){return null!==t&&Qi(t.memoizedProps,i)&&t.ref===e.ref&&(Vo=!1,r<s)?(e.expirationTime=t.expirationTime,ea(t,e,s)):Wo(t,e,n,i,s)}function jo(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.effectTag|=128)}function Wo(t,e,n,i,r){var s=wr(n)?yr:vr.current;return s=br(e,s),ls(e,r),n=Js(t,e,n,i,s,r),null===t||Vo?(e.effectTag|=1,Fo(t,e,n,r),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=r&&(t.expirationTime=0),ea(t,e,r))}function Bo(t,e,n,i,r){if(wr(n)){var s=!0;Cr(e)}else s=!1;if(ls(e,r),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),Ts(e,n,i),Cs(e,n,i,r),i=!0;else if(null===t){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;"object"===typeof u&&null!==u?u=us(u):u=br(e,u=wr(n)?yr:vr.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==i||l!==u)&&ks(e,o,i,u),cs=!1;var d=e.memoizedState;o.state=d,gs(e,i,o,r),l=e.memoizedState,a!==i||d!==l||_r.current||cs?("function"===typeof c&&(bs(e,n,c,i),l=e.memoizedState),(a=cs||xs(e,n,a,i,d,l,u))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(e.effectTag|=4)):("function"===typeof o.componentDidMount&&(e.effectTag|=4),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=u,i=a):("function"===typeof o.componentDidMount&&(e.effectTag|=4),i=!1)}else o=e.stateNode,ds(t,e),a=e.memoizedProps,o.props=e.type===e.elementType?a:ts(e.type,a),l=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=us(u):u=br(e,u=wr(n)?yr:vr.current),(h="function"===typeof(c=n.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==i||l!==u)&&ks(e,o,i,u),cs=!1,l=e.memoizedState,o.state=l,gs(e,i,o,r),d=e.memoizedState,a!==i||l!==d||_r.current||cs?("function"===typeof c&&(bs(e,n,c,i),d=e.memoizedState),(c=cs||xs(e,n,a,i,l,d,u))?(h||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(i,d,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(i,d,u)),"function"===typeof o.componentDidUpdate&&(e.effectTag|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(e.effectTag|=256)):("function"!==typeof o.componentDidUpdate||a===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=256),e.memoizedProps=i,e.memoizedState=d),o.props=i,o.state=d,o.context=u,i=c):("function"!==typeof o.componentDidUpdate||a===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=256),i=!1);return Uo(t,e,n,i,s,r)}function Uo(t,e,n,i,r,s){jo(t,e);var o=0!==(64&e.effectTag);if(!i&&!o)return r&&Sr(e,n,!1),ea(t,e,s);i=e.stateNode,Ro.current=e;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:i.render();return e.effectTag|=1,null!==t&&o?(e.child=Ms(e,t.child,null,s),e.child=Ms(e,null,a,s)):Fo(t,e,a,s),e.memoizedState=i.state,r&&Sr(e,n,!0),e.child}function Qo(t){var e=t.stateNode;e.pendingContext?Tr(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Tr(0,e.context,!1),Fs(t,e.containerInfo)}var Ho,$o,Yo,Go,Xo={dehydrated:null,retryTime:0};function Zo(t,e,n){var i,r=e.mode,s=e.pendingProps,o=js.current,a=!1;if((i=0!==(64&e.effectTag))||(i=0!==(2&o)&&(null===t||null!==t.memoizedState)),i?(a=!0,e.effectTag&=-65):null!==t&&null===t.memoizedState||void 0===s.fallback||!0===s.unstable_avoidThisFallback||(o|=1),mr(js,1&o),null===t){if(void 0!==s.fallback&&Do(e),a){if(a=s.fallback,(s=Ql(null,r,0,null)).return=e,0===(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,s.child=t;null!==t;)t.return=s,t=t.sibling;return(n=Ql(a,r,n,null)).return=e,s.sibling=n,e.memoizedState=Xo,e.child=s,n}return r=s.children,e.memoizedState=null,e.child=Ds(e,null,r,n)}if(null!==t.memoizedState){if(r=(t=t.child).sibling,a){if(s=s.fallback,(n=Bl(t,t.pendingProps)).return=e,0===(2&e.mode)&&(a=null!==e.memoizedState?e.child.child:e.child)!==t.child)for(n.child=a;null!==a;)a.return=n,a=a.sibling;return(r=Bl(r,s)).return=e,n.sibling=r,n.childExpirationTime=0,e.memoizedState=Xo,e.child=n,r}return n=Ms(e,t.child,s.children,n),e.memoizedState=null,e.child=n}if(t=t.child,a){if(a=s.fallback,(s=Ql(null,r,0,null)).return=e,s.child=t,null!==t&&(t.return=s),0===(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,s.child=t;null!==t;)t.return=s,t=t.sibling;return(n=Ql(a,r,n,null)).return=e,s.sibling=n,n.effectTag|=2,s.childExpirationTime=0,e.memoizedState=Xo,e.child=s,n}return e.memoizedState=null,e.child=Ms(e,t,s.children,n)}function Ko(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;null!==n&&n.expirationTime<e&&(n.expirationTime=e),as(t.return,e)}function Jo(t,e,n,i,r,s){var o=t.memoizedState;null===o?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailExpiration:0,tailMode:r,lastEffect:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailExpiration=0,o.tailMode=r,o.lastEffect=s)}function ta(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(Fo(t,e,i.children,n),0!==(2&(i=js.current)))i=1&i|2,e.effectTag|=64;else{if(null!==t&&0!==(64&t.effectTag))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Ko(t,n);else if(19===t.tag)Ko(t,n);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(mr(js,i),0===(2&e.mode))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;null!==n;)null!==(t=n.alternate)&&null===Ws(t)&&(r=n),n=n.sibling;null===(n=r)?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Jo(e,!1,r,n,s,e.lastEffect);break;case"backwards":for(n=null,r=e.child,e.child=null;null!==r;){if(null!==(t=r.alternate)&&null===Ws(t)){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Jo(e,!0,n,null,s,e.lastEffect);break;case"together":Jo(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function ea(t,e,n){null!==t&&(e.dependencies=t.dependencies);var i=e.expirationTime;if(0!==i&&Tl(i),e.childExpirationTime<n)return null;if(null!==t&&e.child!==t.child)throw Error(o(153));if(null!==e.child){for(n=Bl(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Bl(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function na(t,e){switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?e||null===t.tail?t.tail=null:t.tail.sibling=null:i.sibling=null}}function ia(t,e,n){var i=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return wr(e.type)&&xr(),null;case 3:return Ls(),fr(_r),fr(vr),(n=e.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==t&&null!==t.child||!Po(e)||(e.effectTag|=4),$o(e),null;case 5:qs(e),n=Vs(Rs.current);var s=e.type;if(null!==t&&null!=e.stateNode)Yo(t,e,s,i,n),t.ref!==e.ref&&(e.effectTag|=128);else{if(!i){if(null===e.stateNode)throw Error(o(166));return null}if(t=Vs(Ps.current),Po(e)){i=e.stateNode,s=e.type;var a=e.memoizedProps;switch(i[Mn]=e,i[Dn]=a,s){case"iframe":case"object":case"embed":Ye("load",i);break;case"video":case"audio":for(t=0;t<Zt.length;t++)Ye(Zt[t],i);break;case"source":Ye("error",i);break;case"img":case"image":case"link":Ye("error",i),Ye("load",i);break;case"form":Ye("reset",i),Ye("submit",i);break;case"details":Ye("toggle",i);break;case"input":Tt(i,a),Ye("invalid",i),un(n,"onChange");break;case"select":i._wrapperState={wasMultiple:!!a.multiple},Ye("invalid",i),un(n,"onChange");break;case"textarea":Dt(i,a),Ye("invalid",i),un(n,"onChange")}for(var l in on(s,a),t=null,a)if(a.hasOwnProperty(l)){var u=a[l];"children"===l?"string"===typeof u?i.textContent!==u&&(t=["children",u]):"number"===typeof u&&i.textContent!==""+u&&(t=["children",""+u]):k.hasOwnProperty(l)&&null!=u&&un(n,l)}switch(s){case"input":bt(i),St(i,a,!0);break;case"textarea":bt(i),Pt(i);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(i.onclick=cn)}n=t,e.updateQueue=n,null!==n&&(e.effectTag|=4)}else{switch(l=9===n.nodeType?n:n.ownerDocument,t===ln&&(t=Vt(s)),t===ln?"script"===s?((t=l.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof i.is?t=l.createElement(s,{is:i.is}):(t=l.createElement(s),"select"===s&&(l=t,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):t=l.createElementNS(t,s),t[Mn]=e,t[Dn]=i,Ho(t,e,!1,!1),e.stateNode=t,l=an(s,i),s){case"iframe":case"object":case"embed":Ye("load",t),u=i;break;case"video":case"audio":for(u=0;u<Zt.length;u++)Ye(Zt[u],t);u=i;break;case"source":Ye("error",t),u=i;break;case"img":case"image":case"link":Ye("error",t),Ye("load",t),u=i;break;case"form":Ye("reset",t),Ye("submit",t),u=i;break;case"details":Ye("toggle",t),u=i;break;case"input":Tt(t,i),u=xt(t,i),Ye("invalid",t),un(n,"onChange");break;case"option":u=At(t,i);break;case"select":t._wrapperState={wasMultiple:!!i.multiple},u=r({},i,{value:void 0}),Ye("invalid",t),un(n,"onChange");break;case"textarea":Dt(t,i),u=Mt(t,i),Ye("invalid",t),un(n,"onChange");break;default:u=i}on(s,u);var c=u;for(a in c)if(c.hasOwnProperty(a)){var h=c[a];"style"===a?rn(t,h):"dangerouslySetInnerHTML"===a?null!=(h=h?h.__html:void 0)&&qt(t,h):"children"===a?"string"===typeof h?("textarea"!==s||""!==h)&&jt(t,h):"number"===typeof h&&jt(t,""+h):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(k.hasOwnProperty(a)?null!=h&&un(n,a):null!=h&&Z(t,a,h,l))}switch(s){case"input":bt(t),St(t,i,!1);break;case"textarea":bt(t),Pt(t);break;case"option":null!=i.value&&t.setAttribute("value",""+_t(i.value));break;case"select":t.multiple=!!i.multiple,null!=(n=i.value)?Ot(t,!!i.multiple,n,!1):null!=i.defaultValue&&Ot(t,!!i.multiple,i.defaultValue,!0);break;default:"function"===typeof u.onClick&&(t.onclick=cn)}Tn(s,i)&&(e.effectTag|=4)}null!==e.ref&&(e.effectTag|=128)}return null;case 6:if(t&&null!=e.stateNode)Go(t,e,t.memoizedProps,i);else{if("string"!==typeof i&&null===e.stateNode)throw Error(o(166));n=Vs(Rs.current),Vs(Ps.current),Po(e)?(n=e.stateNode,i=e.memoizedProps,n[Mn]=e,n.nodeValue!==i&&(e.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[Mn]=e,e.stateNode=n)}return null;case 13:return fr(js),i=e.memoizedState,0!==(64&e.effectTag)?(e.expirationTime=n,e):(n=null!==i,i=!1,null===t?void 0!==e.memoizedProps.fallback&&Po(e):(i=null!==(s=t.memoizedState),n||null===s||null!==(s=t.child.sibling)&&(null!==(a=e.firstEffect)?(e.firstEffect=s,s.nextEffect=a):(e.firstEffect=e.lastEffect=s,s.nextEffect=null),s.effectTag=8)),n&&!i&&0!==(2&e.mode)&&(null===t&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!==(1&js.current)?Ba===Pa&&(Ba=Va):(Ba!==Pa&&Ba!==Va||(Ba=Fa),0!==Ya&&null!==qa&&(Xl(qa,Wa),Zl(qa,Ya)))),(n||i)&&(e.effectTag|=4),null);case 4:return Ls(),$o(e),null;case 10:return os(e),null;case 19:if(fr(js),null===(i=e.memoizedState))return null;if(s=0!==(64&e.effectTag),null===(a=i.rendering)){if(s)na(i,!1);else if(Ba!==Pa||null!==t&&0!==(64&t.effectTag))for(a=e.child;null!==a;){if(null!==(t=Ws(a))){for(e.effectTag|=64,na(i,!1),null!==(s=t.updateQueue)&&(e.updateQueue=s,e.effectTag|=4),null===i.lastEffect&&(e.firstEffect=null),e.lastEffect=i.lastEffect,i=e.child;null!==i;)a=n,(s=i).effectTag&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(t=s.alternate)?(s.childExpirationTime=0,s.expirationTime=a,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null):(s.childExpirationTime=t.childExpirationTime,s.expirationTime=t.expirationTime,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,a=t.dependencies,s.dependencies=null===a?null:{expirationTime:a.expirationTime,firstContext:a.firstContext,responders:a.responders}),i=i.sibling;return mr(js,1&js.current|2),e.child}a=a.sibling}}else{if(!s)if(null!==(t=Ws(a))){if(e.effectTag|=64,s=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.effectTag|=4),na(i,!0),null===i.tail&&"hidden"===i.tailMode&&!a.alternate)return null!==(e=e.lastEffect=i.lastEffect)&&(e.nextEffect=null),null}else 2*Qr()-i.renderingStartTime>i.tailExpiration&&1<n&&(e.effectTag|=64,s=!0,na(i,!1),e.expirationTime=e.childExpirationTime=n-1);i.isBackwards?(a.sibling=e.child,e.child=a):(null!==(n=i.last)?n.sibling=a:e.child=a,i.last=a)}return null!==i.tail?(0===i.tailExpiration&&(i.tailExpiration=Qr()+500),n=i.tail,i.rendering=n,i.tail=n.sibling,i.lastEffect=e.lastEffect,i.renderingStartTime=Qr(),n.sibling=null,e=js.current,mr(js,s?1&e|2:1&e),n):null}throw Error(o(156,e.tag))}function ra(t){switch(t.tag){case 1:wr(t.type)&&xr();var e=t.effectTag;return 4096&e?(t.effectTag=-4097&e|64,t):null;case 3:if(Ls(),fr(_r),fr(vr),0!==(64&(e=t.effectTag)))throw Error(o(285));return t.effectTag=-4097&e|64,t;case 5:return qs(t),null;case 13:return fr(js),4096&(e=t.effectTag)?(t.effectTag=-4097&e|64,t):null;case 19:return fr(js),null;case 4:return Ls(),null;case 10:return os(t),null;default:return null}}function sa(t,e){return{value:t,source:e,stack:vt(e)}}Ho=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},$o=function(){},Yo=function(t,e,n,i,s){var o=t.memoizedProps;if(o!==i){var a,l,u=e.stateNode;switch(Vs(Ps.current),t=null,n){case"input":o=xt(u,o),i=xt(u,i),t=[];break;case"option":o=At(u,o),i=At(u,i),t=[];break;case"select":o=r({},o,{value:void 0}),i=r({},i,{value:void 0}),t=[];break;case"textarea":o=Mt(u,o),i=Mt(u,i),t=[];break;default:"function"!==typeof o.onClick&&"function"===typeof i.onClick&&(u.onclick=cn)}for(a in on(n,i),n=null,o)if(!i.hasOwnProperty(a)&&o.hasOwnProperty(a)&&null!=o[a])if("style"===a)for(l in u=o[a])u.hasOwnProperty(l)&&(n||(n={}),n[l]="");else"dangerouslySetInnerHTML"!==a&&"children"!==a&&"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(k.hasOwnProperty(a)?t||(t=[]):(t=t||[]).push(a,null));for(a in i){var c=i[a];if(u=null!=o?o[a]:void 0,i.hasOwnProperty(a)&&c!==u&&(null!=c||null!=u))if("style"===a)if(u){for(l in u)!u.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&u[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(t||(t=[]),t.push(a,n)),n=c;else"dangerouslySetInnerHTML"===a?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(t=t||[]).push(a,c)):"children"===a?u===c||"string"!==typeof c&&"number"!==typeof c||(t=t||[]).push(a,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&(k.hasOwnProperty(a)?(null!=c&&un(s,a),t||u===c||(t=[])):(t=t||[]).push(a,c))}n&&(t=t||[]).push("style",n),s=t,(e.updateQueue=s)&&(e.effectTag|=4)}},Go=function(t,e,n,i){n!==i&&(e.effectTag|=4)};var oa="function"===typeof WeakSet?WeakSet:Set;function aa(t,e){var n=e.source,i=e.stack;null===i&&null!==n&&(i=vt(n)),null!==n&&gt(n.type),e=e.value,null!==t&&1===t.tag&&gt(t.type);try{console.error(e)}catch(r){setTimeout((function(){throw r}))}}function la(t){var e=t.ref;if(null!==e)if("function"===typeof e)try{e(null)}catch(n){Rl(t,n)}else e.current=null}function ua(t,e){switch(e.tag){case 0:case 11:case 15:case 22:case 3:case 5:case 6:case 4:case 17:return;case 1:if(256&e.effectTag&&null!==t){var n=t.memoizedProps,i=t.memoizedState;e=(t=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?n:ts(e.type,n),i),t.__reactInternalSnapshotBeforeUpdate=e}return}throw Error(o(163))}function ca(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var i=n.destroy;n.destroy=void 0,void 0!==i&&i()}n=n.next}while(n!==e)}}function ha(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function da(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:return void ha(3,n);case 1:if(t=n.stateNode,4&n.effectTag)if(null===e)t.componentDidMount();else{var i=n.elementType===n.type?e.memoizedProps:ts(n.type,e.memoizedProps);t.componentDidUpdate(i,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate)}return void(null!==(e=n.updateQueue)&&vs(n,e,t));case 3:if(null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 5:case 1:t=n.child.stateNode}vs(n,e,t)}return;case 5:return t=n.stateNode,void(null===e&&4&n.effectTag&&Tn(n.type,n.memoizedProps)&&t.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Fe(n)))))}throw Error(o(163))}function pa(t,e,n){switch("function"===typeof zl&&zl(e),e.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(t=e.updateQueue)&&null!==(t=t.lastEffect)){var i=t.next;Yr(97<n?97:n,(function(){var t=i;do{var n=t.destroy;if(void 0!==n){var r=e;try{n()}catch(s){Rl(r,s)}}t=t.next}while(t!==i)}))}break;case 1:la(e),"function"===typeof(n=e.stateNode).componentWillUnmount&&function(t,e){try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(n){Rl(t,n)}}(e,n);break;case 5:la(e);break;case 4:ya(t,e,n)}}function fa(t){var e=t.alternate;t.return=null,t.child=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.alternate=null,t.firstEffect=null,t.lastEffect=null,t.pendingProps=null,t.memoizedProps=null,t.stateNode=null,null!==e&&fa(e)}function ma(t){return 5===t.tag||3===t.tag||4===t.tag}function ga(t){t:{for(var e=t.return;null!==e;){if(ma(e)){var n=e;break t}e=e.return}throw Error(o(160))}switch(e=n.stateNode,n.tag){case 5:var i=!1;break;case 3:case 4:e=e.containerInfo,i=!0;break;default:throw Error(o(161))}16&n.effectTag&&(jt(e,""),n.effectTag&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||ma(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break t}}i?va(t,n,e):_a(t,n,e)}function va(t,e,n){var i=t.tag,r=5===i||6===i;if(r)t=r?t.stateNode:t.stateNode.instance,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode).insertBefore(t,n):(e=n).appendChild(t),null!==(n=n._reactRootContainer)&&void 0!==n||null!==e.onclick||(e.onclick=cn));else if(4!==i&&null!==(t=t.child))for(va(t,e,n),t=t.sibling;null!==t;)va(t,e,n),t=t.sibling}function _a(t,e,n){var i=t.tag,r=5===i||6===i;if(r)t=r?t.stateNode:t.stateNode.instance,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==i&&null!==(t=t.child))for(_a(t,e,n),t=t.sibling;null!==t;)_a(t,e,n),t=t.sibling}function ya(t,e,n){for(var i,r,s=e,a=!1;;){if(!a){a=s.return;t:for(;;){if(null===a)throw Error(o(160));switch(i=a.stateNode,a.tag){case 5:r=!1;break t;case 3:case 4:i=i.containerInfo,r=!0;break t}a=a.return}a=!0}if(5===s.tag||6===s.tag){t:for(var l=t,u=s,c=n,h=u;;)if(pa(l,h,c),null!==h.child&&4!==h.tag)h.child.return=h,h=h.child;else{if(h===u)break t;for(;null===h.sibling;){if(null===h.return||h.return===u)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}r?(l=i,u=s.stateNode,8===l.nodeType?l.parentNode.removeChild(u):l.removeChild(u)):i.removeChild(s.stateNode)}else if(4===s.tag){if(null!==s.child){i=s.stateNode.containerInfo,r=!0,s.child.return=s,s=s.child;continue}}else if(pa(t,s,n),null!==s.child){s.child.return=s,s=s.child;continue}if(s===e)break;for(;null===s.sibling;){if(null===s.return||s.return===e)return;4===(s=s.return).tag&&(a=!1)}s.sibling.return=s.return,s=s.sibling}}function ba(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:return void ca(3,e);case 1:case 12:case 17:return;case 5:var n=e.stateNode;if(null!=n){var i=e.memoizedProps,r=null!==t?t.memoizedProps:i;t=e.type;var s=e.updateQueue;if(e.updateQueue=null,null!==s){for(n[Dn]=i,"input"===t&&"radio"===i.type&&null!=i.name&&kt(n,i),an(t,r),e=an(t,i),r=0;r<s.length;r+=2){var a=s[r],l=s[r+1];"style"===a?rn(n,l):"dangerouslySetInnerHTML"===a?qt(n,l):"children"===a?jt(n,l):Z(n,a,l,e)}switch(t){case"input":Ct(n,i);break;case"textarea":It(n,i);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!i.multiple,null!=(t=i.value)?Ot(n,!!i.multiple,t,!1):e!==!!i.multiple&&(null!=i.defaultValue?Ot(n,!!i.multiple,i.defaultValue,!0):Ot(n,!!i.multiple,i.multiple?[]:"",!1))}}}return;case 6:if(null===e.stateNode)throw Error(o(162));return void(e.stateNode.nodeValue=e.memoizedProps);case 3:return void((e=e.stateNode).hydrate&&(e.hydrate=!1,Fe(e.containerInfo)));case 13:if(n=e,null===e.memoizedState?i=!1:(i=!0,n=e.child,Xa=Qr()),null!==n)t:for(t=n;;){if(5===t.tag)s=t.stateNode,i?"function"===typeof(s=s.style).setProperty?s.setProperty("display","none","important"):s.display="none":(s=t.stateNode,r=void 0!==(r=t.memoizedProps.style)&&null!==r&&r.hasOwnProperty("display")?r.display:null,s.style.display=nn("display",r));else if(6===t.tag)t.stateNode.nodeValue=i?"":t.memoizedProps;else{if(13===t.tag&&null!==t.memoizedState&&null===t.memoizedState.dehydrated){(s=t.child.sibling).return=t,t=s;continue}if(null!==t.child){t.child.return=t,t=t.child;continue}}if(t===n)break;for(;null===t.sibling;){if(null===t.return||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}return void wa(e);case 19:return void wa(e)}throw Error(o(163))}function wa(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new oa),e.forEach((function(e){var i=Fl.bind(null,t,e);n.has(e)||(n.add(e),e.then(i,i))}))}}var xa="function"===typeof WeakMap?WeakMap:Map;function Ta(t,e,n){(n=ps(n,null)).tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Ja||(Ja=!0,tl=i),aa(t,e)},n}function ka(t,e,n){(n=ps(n,null)).tag=3;var i=t.type.getDerivedStateFromError;if("function"===typeof i){var r=e.value;n.payload=function(){return aa(t,e),i(r)}}var s=t.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){"function"!==typeof i&&(null===el?el=new Set([this]):el.add(this),aa(t,e));var n=e.stack;this.componentDidCatch(e.value,{componentStack:null!==n?n:""})}),n}var Ca,Sa=Math.ceil,Ea=X.ReactCurrentDispatcher,Aa=X.ReactCurrentOwner,Oa=0,Ma=8,Da=16,Ia=32,Pa=0,Na=1,Ra=2,Va=3,Fa=4,La=5,za=Oa,qa=null,ja=null,Wa=0,Ba=Pa,Ua=null,Qa=1073741823,Ha=1073741823,$a=null,Ya=0,Ga=!1,Xa=0,Za=500,Ka=null,Ja=!1,tl=null,el=null,nl=!1,il=null,rl=90,sl=null,ol=0,al=null,ll=0;function ul(){return(za&(Da|Ia))!==Oa?1073741821-(Qr()/10|0):0!==ll?ll:ll=1073741821-(Qr()/10|0)}function cl(t,e,n){if(0===(2&(e=e.mode)))return 1073741823;var i=Hr();if(0===(4&e))return 99===i?1073741823:1073741822;if((za&Da)!==Oa)return Wa;if(null!==n)t=Jr(t,0|n.timeoutMs||5e3,250);else switch(i){case 99:t=1073741823;break;case 98:t=Jr(t,150,100);break;case 97:case 96:t=Jr(t,5e3,250);break;case 95:t=2;break;default:throw Error(o(326))}return null!==qa&&t===Wa&&--t,t}function hl(t,e){if(50<ol)throw ol=0,al=null,Error(o(185));if(null!==(t=dl(t,e))){var n=Hr();1073741823===e?(za&Ma)!==Oa&&(za&(Da|Ia))===Oa?gl(t):(fl(t),za===Oa&&Zr()):fl(t),(4&za)===Oa||98!==n&&99!==n||(null===sl?sl=new Map([[t,e]]):(void 0===(n=sl.get(t))||n>e)&&sl.set(t,e))}}function dl(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;null!==n&&n.expirationTime<e&&(n.expirationTime=e);var i=t.return,r=null;if(null===i&&3===t.tag)r=t.stateNode;else for(;null!==i;){if(n=i.alternate,i.childExpirationTime<e&&(i.childExpirationTime=e),null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e),null===i.return&&3===i.tag){r=i.stateNode;break}i=i.return}return null!==r&&(qa===r&&(Tl(e),Ba===Fa&&Xl(r,Wa)),Zl(r,e)),r}function pl(t){var e=t.lastExpiredTime;if(0!==e)return e;if(!Gl(t,e=t.firstPendingTime))return e;var n=t.lastPingedTime;return 2>=(t=n>(t=t.nextKnownPendingLevel)?n:t)&&e!==t?0:t}function fl(t){if(0!==t.lastExpiredTime)t.callbackExpirationTime=1073741823,t.callbackPriority=99,t.callbackNode=Xr(gl.bind(null,t));else{var e=pl(t),n=t.callbackNode;if(0===e)null!==n&&(t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90);else{var i=ul();if(1073741823===e?i=99:1===e||2===e?i=95:i=0>=(i=10*(1073741821-e)-10*(1073741821-i))?99:250>=i?98:5250>=i?97:95,null!==n){var r=t.callbackPriority;if(t.callbackExpirationTime===e&&r>=i)return;n!==Lr&&Or(n)}t.callbackExpirationTime=e,t.callbackPriority=i,e=1073741823===e?Xr(gl.bind(null,t)):Gr(i,ml.bind(null,t),{timeout:10*(1073741821-e)-Qr()}),t.callbackNode=e}}}function ml(t,e){if(ll=0,e)return Kl(t,e=ul()),fl(t),null;var n=pl(t);if(0!==n){if(e=t.callbackNode,(za&(Da|Ia))!==Oa)throw Error(o(327));if(Il(),t===qa&&n===Wa||yl(t,n),null!==ja){var i=za;za|=Da;for(var r=wl();;)try{Cl();break}catch(l){bl(t,l)}if(ss(),za=i,Ea.current=r,Ba===Na)throw e=Ua,yl(t,n),Xl(t,n),fl(t),e;if(null===ja)switch(r=t.finishedWork=t.current.alternate,t.finishedExpirationTime=n,i=Ba,qa=null,i){case Pa:case Na:throw Error(o(345));case Ra:Kl(t,2<n?2:n);break;case Va:if(Xl(t,n),n===(i=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=Al(r)),1073741823===Qa&&10<(r=Xa+Za-Qr())){if(Ga){var s=t.lastPingedTime;if(0===s||s>=n){t.lastPingedTime=n,yl(t,n);break}}if(0!==(s=pl(t))&&s!==n)break;if(0!==i&&i!==n){t.lastPingedTime=i;break}t.timeoutHandle=Cn(Ol.bind(null,t),r);break}Ol(t);break;case Fa:if(Xl(t,n),n===(i=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=Al(r)),Ga&&(0===(r=t.lastPingedTime)||r>=n)){t.lastPingedTime=n,yl(t,n);break}if(0!==(r=pl(t))&&r!==n)break;if(0!==i&&i!==n){t.lastPingedTime=i;break}if(1073741823!==Ha?i=10*(1073741821-Ha)-Qr():1073741823===Qa?i=0:(i=10*(1073741821-Qa)-5e3,0>(i=(r=Qr())-i)&&(i=0),(n=10*(1073741821-n)-r)<(i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Sa(i/1960))-i)&&(i=n)),10<i){t.timeoutHandle=Cn(Ol.bind(null,t),i);break}Ol(t);break;case La:if(1073741823!==Qa&&null!==$a){s=Qa;var a=$a;if(0>=(i=0|a.busyMinDurationMs)?i=0:(r=0|a.busyDelayMs,i=(s=Qr()-(10*(1073741821-s)-(0|a.timeoutMs||5e3)))<=r?0:r+i-s),10<i){Xl(t,n),t.timeoutHandle=Cn(Ol.bind(null,t),i);break}}Ol(t);break;default:throw Error(o(329))}if(fl(t),t.callbackNode===e)return ml.bind(null,t)}}return null}function gl(t){var e=t.lastExpiredTime;if(e=0!==e?e:1073741823,(za&(Da|Ia))!==Oa)throw Error(o(327));if(Il(),t===qa&&e===Wa||yl(t,e),null!==ja){var n=za;za|=Da;for(var i=wl();;)try{kl();break}catch(r){bl(t,r)}if(ss(),za=n,Ea.current=i,Ba===Na)throw n=Ua,yl(t,e),Xl(t,e),fl(t),n;if(null!==ja)throw Error(o(261));t.finishedWork=t.current.alternate,t.finishedExpirationTime=e,qa=null,Ol(t),fl(t)}return null}function vl(t,e){var n=za;za|=1;try{return t(e)}finally{(za=n)===Oa&&Zr()}}function _l(t,e){var n=za;za&=-2,za|=Ma;try{return t(e)}finally{(za=n)===Oa&&Zr()}}function yl(t,e){t.finishedWork=null,t.finishedExpirationTime=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,Sn(n)),null!==ja)for(n=ja.return;null!==n;){var i=n;switch(i.tag){case 1:null!==(i=i.type.childContextTypes)&&void 0!==i&&xr();break;case 3:Ls(),fr(_r),fr(vr);break;case 5:qs(i);break;case 4:Ls();break;case 13:case 19:fr(js);break;case 10:os(i)}n=n.return}qa=t,ja=Bl(t.current,null),Wa=e,Ba=Pa,Ua=null,Ha=Qa=1073741823,$a=null,Ya=0,Ga=!1}function bl(t,e){for(;;){try{if(ss(),Us.current=xo,Xs)for(var n=$s.memoizedState;null!==n;){var i=n.queue;null!==i&&(i.pending=null),n=n.next}if(Hs=0,Gs=Ys=$s=null,Xs=!1,null===ja||null===ja.return)return Ba=Na,Ua=e,ja=null;t:{var r=t,s=ja.return,o=ja,a=e;if(e=Wa,o.effectTag|=2048,o.firstEffect=o.lastEffect=null,null!==a&&"object"===typeof a&&"function"===typeof a.then){var l=a;if(0===(2&o.mode)){var u=o.alternate;u?(o.updateQueue=u.updateQueue,o.memoizedState=u.memoizedState,o.expirationTime=u.expirationTime):(o.updateQueue=null,o.memoizedState=null)}var c=0!==(1&js.current),h=s;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var f=h.memoizedProps;d=void 0!==f.fallback&&(!0!==f.unstable_avoidThisFallback||!c)}}if(d){var m=h.updateQueue;if(null===m){var g=new Set;g.add(l),h.updateQueue=g}else m.add(l);if(0===(2&h.mode)){if(h.effectTag|=64,o.effectTag&=-2981,1===o.tag)if(null===o.alternate)o.tag=17;else{var v=ps(1073741823,null);v.tag=2,fs(o,v)}o.expirationTime=1073741823;break t}a=void 0,o=e;var _=r.pingCache;if(null===_?(_=r.pingCache=new xa,a=new Set,_.set(l,a)):void 0===(a=_.get(l))&&(a=new Set,_.set(l,a)),!a.has(o)){a.add(o);var y=Vl.bind(null,r,l,o);l.then(y,y)}h.effectTag|=4096,h.expirationTime=e;break t}h=h.return}while(null!==h);a=Error((gt(o.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+vt(o))}Ba!==La&&(Ba=Ra),a=sa(a,o),h=s;do{switch(h.tag){case 3:l=a,h.effectTag|=4096,h.expirationTime=e,ms(h,Ta(h,l,e));break t;case 1:l=a;var b=h.type,w=h.stateNode;if(0===(64&h.effectTag)&&("function"===typeof b.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===el||!el.has(w)))){h.effectTag|=4096,h.expirationTime=e,ms(h,ka(h,l,e));break t}}h=h.return}while(null!==h)}ja=El(ja)}catch(x){e=x;continue}break}}function wl(){var t=Ea.current;return Ea.current=xo,null===t?xo:t}function xl(t,e){t<Qa&&2<t&&(Qa=t),null!==e&&t<Ha&&2<t&&(Ha=t,$a=e)}function Tl(t){t>Ya&&(Ya=t)}function kl(){for(;null!==ja;)ja=Sl(ja)}function Cl(){for(;null!==ja&&!zr();)ja=Sl(ja)}function Sl(t){var e=Ca(t.alternate,t,Wa);return t.memoizedProps=t.pendingProps,null===e&&(e=El(t)),Aa.current=null,e}function El(t){ja=t;do{var e=ja.alternate;if(t=ja.return,0===(2048&ja.effectTag)){if(e=ia(e,ja,Wa),1===Wa||1!==ja.childExpirationTime){for(var n=0,i=ja.child;null!==i;){var r=i.expirationTime,s=i.childExpirationTime;r>n&&(n=r),s>n&&(n=s),i=i.sibling}ja.childExpirationTime=n}if(null!==e)return e;null!==t&&0===(2048&t.effectTag)&&(null===t.firstEffect&&(t.firstEffect=ja.firstEffect),null!==ja.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=ja.firstEffect),t.lastEffect=ja.lastEffect),1<ja.effectTag&&(null!==t.lastEffect?t.lastEffect.nextEffect=ja:t.firstEffect=ja,t.lastEffect=ja))}else{if(null!==(e=ra(ja)))return e.effectTag&=2047,e;null!==t&&(t.firstEffect=t.lastEffect=null,t.effectTag|=2048)}if(null!==(e=ja.sibling))return e;ja=t}while(null!==ja);return Ba===Pa&&(Ba=La),null}function Al(t){var e=t.expirationTime;return e>(t=t.childExpirationTime)?e:t}function Ol(t){var e=Hr();return Yr(99,Ml.bind(null,t,e)),null}function Ml(t,e){do{Il()}while(null!==il);if((za&(Da|Ia))!==Oa)throw Error(o(327));var n=t.finishedWork,i=t.finishedExpirationTime;if(null===n)return null;if(t.finishedWork=null,t.finishedExpirationTime=0,n===t.current)throw Error(o(177));t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90,t.nextKnownPendingLevel=0;var r=Al(n);if(t.firstPendingTime=r,i<=t.lastSuspendedTime?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:i<=t.firstSuspendedTime&&(t.firstSuspendedTime=i-1),i<=t.lastPingedTime&&(t.lastPingedTime=0),i<=t.lastExpiredTime&&(t.lastExpiredTime=0),t===qa&&(ja=qa=null,Wa=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){var s=za;za|=Ia,Aa.current=null,wn=$e;var a=mn();if(gn(a)){if("selectionStart"in a)var l={start:a.selectionStart,end:a.selectionEnd};else t:{var u=(l=(l=a.ownerDocument)&&l.defaultView||window).getSelection&&l.getSelection();if(u&&0!==u.rangeCount){l=u.anchorNode;var c=u.anchorOffset,h=u.focusNode;u=u.focusOffset;try{l.nodeType,h.nodeType}catch(S){l=null;break t}var d=0,p=-1,f=-1,m=0,g=0,v=a,_=null;e:for(;;){for(var y;v!==l||0!==c&&3!==v.nodeType||(p=d+c),v!==h||0!==u&&3!==v.nodeType||(f=d+u),3===v.nodeType&&(d+=v.nodeValue.length),null!==(y=v.firstChild);)_=v,v=y;for(;;){if(v===a)break e;if(_===l&&++m===c&&(p=d),_===h&&++g===u&&(f=d),null!==(y=v.nextSibling))break;_=(v=_).parentNode}v=y}l=-1===p||-1===f?null:{start:p,end:f}}else l=null}l=l||{start:0,end:0}}else l=null;xn={activeElementDetached:null,focusedElem:a,selectionRange:l},$e=!1,Ka=r;do{try{Dl()}catch(S){if(null===Ka)throw Error(o(330));Rl(Ka,S),Ka=Ka.nextEffect}}while(null!==Ka);Ka=r;do{try{for(a=t,l=e;null!==Ka;){var b=Ka.effectTag;if(16&b&&jt(Ka.stateNode,""),128&b){var w=Ka.alternate;if(null!==w){var x=w.ref;null!==x&&("function"===typeof x?x(null):x.current=null)}}switch(1038&b){case 2:ga(Ka),Ka.effectTag&=-3;break;case 6:ga(Ka),Ka.effectTag&=-3,ba(Ka.alternate,Ka);break;case 1024:Ka.effectTag&=-1025;break;case 1028:Ka.effectTag&=-1025,ba(Ka.alternate,Ka);break;case 4:ba(Ka.alternate,Ka);break;case 8:ya(a,c=Ka,l),fa(c)}Ka=Ka.nextEffect}}catch(S){if(null===Ka)throw Error(o(330));Rl(Ka,S),Ka=Ka.nextEffect}}while(null!==Ka);if(x=xn,w=mn(),b=x.focusedElem,l=x.selectionRange,w!==b&&b&&b.ownerDocument&&fn(b.ownerDocument.documentElement,b)){null!==l&&gn(b)&&(w=l.start,void 0===(x=l.end)&&(x=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(x,b.value.length)):(x=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(x=x.getSelection(),c=b.textContent.length,a=Math.min(l.start,c),l=void 0===l.end?a:Math.min(l.end,c),!x.extend&&a>l&&(c=l,l=a,a=c),c=pn(b,a),h=pn(b,l),c&&h&&(1!==x.rangeCount||x.anchorNode!==c.node||x.anchorOffset!==c.offset||x.focusNode!==h.node||x.focusOffset!==h.offset)&&((w=w.createRange()).setStart(c.node,c.offset),x.removeAllRanges(),a>l?(x.addRange(w),x.extend(h.node,h.offset)):(w.setEnd(h.node,h.offset),x.addRange(w))))),w=[];for(x=b;x=x.parentNode;)1===x.nodeType&&w.push({element:x,left:x.scrollLeft,top:x.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<w.length;b++)(x=w[b]).element.scrollLeft=x.left,x.element.scrollTop=x.top}$e=!!wn,xn=wn=null,t.current=n,Ka=r;do{try{for(b=t;null!==Ka;){var T=Ka.effectTag;if(36&T&&da(b,Ka.alternate,Ka),128&T){w=void 0;var k=Ka.ref;if(null!==k){var C=Ka.stateNode;Ka.tag,w=C,"function"===typeof k?k(w):k.current=w}}Ka=Ka.nextEffect}}catch(S){if(null===Ka)throw Error(o(330));Rl(Ka,S),Ka=Ka.nextEffect}}while(null!==Ka);Ka=null,qr(),za=s}else t.current=n;if(nl)nl=!1,il=t,rl=e;else for(Ka=r;null!==Ka;)e=Ka.nextEffect,Ka.nextEffect=null,Ka=e;if(0===(e=t.firstPendingTime)&&(el=null),1073741823===e?t===al?ol++:(ol=0,al=t):ol=0,"function"===typeof Ll&&Ll(n.stateNode,i),fl(t),Ja)throw Ja=!1,t=tl,tl=null,t;return(za&Ma)!==Oa||Zr(),null}function Dl(){for(;null!==Ka;){var t=Ka.effectTag;0!==(256&t)&&ua(Ka.alternate,Ka),0===(512&t)||nl||(nl=!0,Gr(97,(function(){return Il(),null}))),Ka=Ka.nextEffect}}function Il(){if(90!==rl){var t=97<rl?97:rl;return rl=90,Yr(t,Pl)}}function Pl(){if(null===il)return!1;var t=il;if(il=null,(za&(Da|Ia))!==Oa)throw Error(o(331));var e=za;for(za|=Ia,t=t.current.firstEffect;null!==t;){try{var n=t;if(0!==(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:ca(5,n),ha(5,n)}}catch(i){if(null===t)throw Error(o(330));Rl(t,i)}n=t.nextEffect,t.nextEffect=null,t=n}return za=e,Zr(),!0}function Nl(t,e,n){fs(t,e=Ta(t,e=sa(n,e),1073741823)),null!==(t=dl(t,1073741823))&&fl(t)}function Rl(t,e){if(3===t.tag)Nl(t,t,e);else for(var n=t.return;null!==n;){if(3===n.tag){Nl(n,t,e);break}if(1===n.tag){var i=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===el||!el.has(i))){fs(n,t=ka(n,t=sa(e,t),1073741823)),null!==(n=dl(n,1073741823))&&fl(n);break}}n=n.return}}function Vl(t,e,n){var i=t.pingCache;null!==i&&i.delete(e),qa===t&&Wa===n?Ba===Fa||Ba===Va&&1073741823===Qa&&Qr()-Xa<Za?yl(t,Wa):Ga=!0:Gl(t,n)&&(0!==(e=t.lastPingedTime)&&e<n||(t.lastPingedTime=n,fl(t)))}function Fl(t,e){var n=t.stateNode;null!==n&&n.delete(e),0===(e=0)&&(e=cl(e=ul(),t,null)),null!==(t=dl(t,e))&&fl(t)}Ca=function(t,e,n){var i=e.expirationTime;if(null!==t){var r=e.pendingProps;if(t.memoizedProps!==r||_r.current)Vo=!0;else{if(i<n){switch(Vo=!1,e.tag){case 3:Qo(e),No();break;case 5:if(zs(e),4&e.mode&&1!==n&&r.hidden)return e.expirationTime=e.childExpirationTime=1,null;break;case 1:wr(e.type)&&Cr(e);break;case 4:Fs(e,e.stateNode.containerInfo);break;case 10:i=e.memoizedProps.value,r=e.type._context,mr(es,r._currentValue),r._currentValue=i;break;case 13:if(null!==e.memoizedState)return 0!==(i=e.child.childExpirationTime)&&i>=n?Zo(t,e,n):(mr(js,1&js.current),null!==(e=ea(t,e,n))?e.sibling:null);mr(js,1&js.current);break;case 19:if(i=e.childExpirationTime>=n,0!==(64&t.effectTag)){if(i)return ta(t,e,n);e.effectTag|=64}if(null!==(r=e.memoizedState)&&(r.rendering=null,r.tail=null),mr(js,js.current),!i)return null}return ea(t,e,n)}Vo=!1}}else Vo=!1;switch(e.expirationTime=0,e.tag){case 2:if(i=e.type,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,r=br(e,vr.current),ls(e,n),r=Js(null,e,i,t,r,n),e.effectTag|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,wr(i)){var s=!0;Cr(e)}else s=!1;e.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,hs(e);var a=i.getDerivedStateFromProps;"function"===typeof a&&bs(e,i,a,t),r.updater=ws,e.stateNode=r,r._reactInternalFiber=e,Cs(e,i,t,n),e=Uo(null,e,i,!0,s,n)}else e.tag=0,Fo(null,e,r,n),e=e.child;return e;case 16:t:{if(r=e.elementType,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,function(t){if(-1===t._status){t._status=0;var e=t._ctor;e=e(),t._result=e,e.then((function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)}),(function(e){0===t._status&&(t._status=2,t._result=e)}))}}(r),1!==r._status)throw r._result;switch(r=r._result,e.type=r,s=e.tag=function(t){if("function"===typeof t)return Wl(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===lt)return 11;if(t===ht)return 14}return 2}(r),t=ts(r,t),s){case 0:e=Wo(null,e,r,t,n);break t;case 1:e=Bo(null,e,r,t,n);break t;case 11:e=Lo(null,e,r,t,n);break t;case 14:e=zo(null,e,r,ts(r.type,t),i,n);break t}throw Error(o(306,r,""))}return e;case 0:return i=e.type,r=e.pendingProps,Wo(t,e,i,r=e.elementType===i?r:ts(i,r),n);case 1:return i=e.type,r=e.pendingProps,Bo(t,e,i,r=e.elementType===i?r:ts(i,r),n);case 3:if(Qo(e),i=e.updateQueue,null===t||null===i)throw Error(o(282));if(i=e.pendingProps,r=null!==(r=e.memoizedState)?r.element:null,ds(t,e),gs(e,i,null,n),(i=e.memoizedState.element)===r)No(),e=ea(t,e,n);else{if((r=e.stateNode.hydrate)&&(Eo=En(e.stateNode.containerInfo.firstChild),So=e,r=Ao=!0),r)for(n=Ds(e,null,i,n),e.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Fo(t,e,i,n),No();e=e.child}return e;case 5:return zs(e),null===t&&Do(e),i=e.type,r=e.pendingProps,s=null!==t?t.memoizedProps:null,a=r.children,kn(i,r)?a=null:null!==s&&kn(i,s)&&(e.effectTag|=16),jo(t,e),4&e.mode&&1!==n&&r.hidden?(e.expirationTime=e.childExpirationTime=1,e=null):(Fo(t,e,a,n),e=e.child),e;case 6:return null===t&&Do(e),null;case 13:return Zo(t,e,n);case 4:return Fs(e,e.stateNode.containerInfo),i=e.pendingProps,null===t?e.child=Ms(e,null,i,n):Fo(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,Lo(t,e,i,r=e.elementType===i?r:ts(i,r),n);case 7:return Fo(t,e,e.pendingProps,n),e.child;case 8:case 12:return Fo(t,e,e.pendingProps.children,n),e.child;case 10:t:{i=e.type._context,r=e.pendingProps,a=e.memoizedProps,s=r.value;var l=e.type._context;if(mr(es,l._currentValue),l._currentValue=s,null!==a)if(l=a.value,0===(s=Bi(l,s)?0:0|("function"===typeof i._calculateChangedBits?i._calculateChangedBits(l,s):1073741823))){if(a.children===r.children&&!_r.current){e=ea(t,e,n);break t}}else for(null!==(l=e.child)&&(l.return=e);null!==l;){var u=l.dependencies;if(null!==u){a=l.child;for(var c=u.firstContext;null!==c;){if(c.context===i&&0!==(c.observedBits&s)){1===l.tag&&((c=ps(n,null)).tag=2,fs(l,c)),l.expirationTime<n&&(l.expirationTime=n),null!==(c=l.alternate)&&c.expirationTime<n&&(c.expirationTime=n),as(l.return,n),u.expirationTime<n&&(u.expirationTime=n);break}c=c.next}}else a=10===l.tag&&l.type===e.type?null:l.child;if(null!==a)a.return=l;else for(a=l;null!==a;){if(a===e){a=null;break}if(null!==(l=a.sibling)){l.return=a.return,a=l;break}a=a.return}l=a}Fo(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=(s=e.pendingProps).children,ls(e,n),i=i(r=us(r,s.unstable_observedBits)),e.effectTag|=1,Fo(t,e,i,n),e.child;case 14:return s=ts(r=e.type,e.pendingProps),zo(t,e,r,s=ts(r.type,s),i,n);case 15:return qo(t,e,e.type,e.pendingProps,i,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:ts(i,r),null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),e.tag=1,wr(i)?(t=!0,Cr(e)):t=!1,ls(e,n),Ts(e,i,r),Cs(e,i,r,n),Uo(null,e,i,!0,t,n);case 19:return ta(t,e,n)}throw Error(o(156,e.tag))};var Ll=null,zl=null;function ql(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function jl(t,e,n,i){return new ql(t,e,n,i)}function Wl(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Bl(t,e){var n=t.alternate;return null===n?((n=jl(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=t.childExpirationTime,n.expirationTime=t.expirationTime,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{expirationTime:e.expirationTime,firstContext:e.firstContext,responders:e.responders},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ul(t,e,n,i,r,s){var a=2;if(i=t,"function"===typeof t)Wl(t)&&(a=1);else if("string"===typeof t)a=5;else t:switch(t){case nt:return Ql(n.children,r,s,e);case at:a=8,r|=7;break;case it:a=8,r|=1;break;case rt:return(t=jl(12,n,e,8|r)).elementType=rt,t.type=rt,t.expirationTime=s,t;case ut:return(t=jl(13,n,e,r)).type=ut,t.elementType=ut,t.expirationTime=s,t;case ct:return(t=jl(19,n,e,r)).elementType=ct,t.expirationTime=s,t;default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case st:a=10;break t;case ot:a=9;break t;case lt:a=11;break t;case ht:a=14;break t;case dt:a=16,i=null;break t;case pt:a=22;break t}throw Error(o(130,null==t?t:typeof t,""))}return(e=jl(a,n,e,r)).elementType=t,e.type=i,e.expirationTime=s,e}function Ql(t,e,n,i){return(t=jl(7,t,i,e)).expirationTime=n,t}function Hl(t,e,n){return(t=jl(6,t,null,e)).expirationTime=n,t}function $l(t,e,n){return(e=jl(4,null!==t.children?t.children:[],t.key,e)).expirationTime=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Yl(t,e,n){this.tag=e,this.current=null,this.containerInfo=t,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Gl(t,e){var n=t.firstSuspendedTime;return t=t.lastSuspendedTime,0!==n&&n>=e&&t<=e}function Xl(t,e){var n=t.firstSuspendedTime,i=t.lastSuspendedTime;n<e&&(t.firstSuspendedTime=e),(i>e||0===n)&&(t.lastSuspendedTime=e),e<=t.lastPingedTime&&(t.lastPingedTime=0),e<=t.lastExpiredTime&&(t.lastExpiredTime=0)}function Zl(t,e){e>t.firstPendingTime&&(t.firstPendingTime=e);var n=t.firstSuspendedTime;0!==n&&(e>=n?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:e>=t.lastSuspendedTime&&(t.lastSuspendedTime=e+1),e>t.nextKnownPendingLevel&&(t.nextKnownPendingLevel=e))}function Kl(t,e){var n=t.lastExpiredTime;(0===n||n>e)&&(t.lastExpiredTime=e)}function Jl(t,e,n,i){var r=e.current,s=ul(),a=_s.suspense;s=cl(s,r,a);t:if(n){e:{if(te(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(o(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(wr(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(null!==l);throw Error(o(171))}if(1===n.tag){var u=n.type;if(wr(u)){n=kr(n,u,l);break t}}n=l}else n=gr;return null===e.context?e.context=n:e.pendingContext=n,(e=ps(s,a)).payload={element:t},null!==(i=void 0===i?null:i)&&(e.callback=i),fs(r,e),hl(r,s),s}function tu(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function eu(t,e){null!==(t=t.memoizedState)&&null!==t.dehydrated&&t.retryTime<e&&(t.retryTime=e)}function nu(t,e){eu(t,e),(t=t.alternate)&&eu(t,e)}function iu(t,e,n){var i=new Yl(t,e,n=null!=n&&!0===n.hydrate),r=jl(3,null,null,2===e?7:1===e?3:0);i.current=r,r.stateNode=i,hs(r),t[In]=i.current,n&&0!==e&&function(t,e){var n=Jt(e);Ee.forEach((function(t){me(t,e,n)})),Ae.forEach((function(t){me(t,e,n)}))}(0,9===t.nodeType?t:t.ownerDocument),this._internalRoot=i}function ru(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function su(t,e,n,i,r){var s=n._reactRootContainer;if(s){var o=s._internalRoot;if("function"===typeof r){var a=r;r=function(){var t=tu(o);a.call(t)}}Jl(e,o,t,r)}else{if(s=n._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new iu(t,0,e?{hydrate:!0}:void 0)}(n,i),o=s._internalRoot,"function"===typeof r){var l=r;r=function(){var t=tu(o);l.call(t)}}_l((function(){Jl(e,o,t,r)}))}return tu(o)}function ou(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ru(e))throw Error(o(200));return function(t,e,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:et,key:null==i?null:""+i,children:t,containerInfo:e,implementation:n}}(t,e,null,n)}iu.prototype.render=function(t){Jl(t,this._internalRoot,null,null)},iu.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;Jl(null,t,null,(function(){e[In]=null}))},ge=function(t){if(13===t.tag){var e=Jr(ul(),150,100);hl(t,e),nu(t,e)}},ve=function(t){13===t.tag&&(hl(t,3),nu(t,3))},_e=function(t){if(13===t.tag){var e=ul();hl(t,e=cl(e,t,null)),nu(t,e)}},A=function(t,e,n){switch(e){case"input":if(Ct(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=Vn(i);if(!r)throw Error(o(90));wt(i),Ct(i,r)}}}break;case"textarea":It(t,n);break;case"select":null!=(e=n.value)&&Ot(t,!!n.multiple,e,!1)}},N=vl,R=function(t,e,n,i,r){var s=za;za|=4;try{return Yr(98,t.bind(null,e,n,i,r))}finally{(za=s)===Oa&&Zr()}},V=function(){(za&(1|Da|Ia))===Oa&&(function(){if(null!==sl){var t=sl;sl=null,t.forEach((function(t,e){Kl(e,t),fl(e)})),Zr()}}(),Il())},F=function(t,e){var n=za;za|=2;try{return t(e)}finally{(za=n)===Oa&&Zr()}};var au={Events:[Nn,Rn,Vn,S,T,Bn,function(t){se(t,Wn)},I,P,Ke,le,Il,{current:!1}]};!function(t){var e=t.findFiberByHostInstance;(function(t){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return!0;try{var n=e.inject(t);Ll=function(t){try{e.onCommitFiberRoot(n,t,void 0,64===(64&t.current.effectTag))}catch(i){}},zl=function(t){try{e.onCommitFiberUnmount(n,t)}catch(i){}}}catch(i){}})(r({},t,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:X.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=ie(t))?null:t.stateNode},findFiberByHostInstance:function(t){return e?e(t):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:Pn,bundleType:0,version:"16.13.1",rendererPackageName:"react-dom"}),e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=au,e.createPortal=ou,e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternalFiber;if(void 0===e){if("function"===typeof t.render)throw Error(o(188));throw Error(o(268,Object.keys(t)))}return t=null===(t=ie(e))?null:t.stateNode},e.flushSync=function(t,e){if((za&(Da|Ia))!==Oa)throw Error(o(187));var n=za;za|=1;try{return Yr(99,t.bind(null,e))}finally{za=n,Zr()}},e.hydrate=function(t,e,n){if(!ru(e))throw Error(o(200));return su(null,t,e,!0,n)},e.render=function(t,e,n){if(!ru(e))throw Error(o(200));return su(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!ru(t))throw Error(o(40));return!!t._reactRootContainer&&(_l((function(){su(null,null,t,!1,(function(){t._reactRootContainer=null,t[In]=null}))})),!0)},e.unstable_batchedUpdates=vl,e.unstable_createPortal=function(t,e){return ou(t,e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},e.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!ru(n))throw Error(o(200));if(null==t||void 0===t._reactInternalFiber)throw Error(o(38));return su(t,e,n,!1,i)},e.version="16.13.1"},950:(t,e,n)=>{"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=n(730)},202:(t,e,n)=>{"use strict";var i=n(123),r="function"===typeof Symbol&&Symbol.for,s=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,l=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,h=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,f=r?Symbol.for("react.memo"):60115,m=r?Symbol.for("react.lazy"):60116,g="function"===typeof Symbol&&Symbol.iterator;function v(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y={};function b(t,e,n){this.props=t,this.context=e,this.refs=y,this.updater=n||_}function w(){}function x(t,e,n){this.props=t,this.context=e,this.refs=y,this.updater=n||_}b.prototype.isReactComponent={},b.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error(v(85));this.updater.enqueueSetState(this,t,e,"setState")},b.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},w.prototype=b.prototype;var T=x.prototype=new w;T.constructor=x,i(T,b.prototype),T.isPureReactComponent=!0;var k={current:null},C=Object.prototype.hasOwnProperty,S={key:!0,ref:!0,__self:!0,__source:!0};function E(t,e,n){var i,r={},o=null,a=null;if(null!=e)for(i in void 0!==e.ref&&(a=e.ref),void 0!==e.key&&(o=""+e.key),e)C.call(e,i)&&!S.hasOwnProperty(i)&&(r[i]=e[i]);var l=arguments.length-2;if(1===l)r.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];r.children=u}if(t&&t.defaultProps)for(i in l=t.defaultProps)void 0===r[i]&&(r[i]=l[i]);return{$$typeof:s,type:t,key:o,ref:a,props:r,_owner:k.current}}function A(t){return"object"===typeof t&&null!==t&&t.$$typeof===s}var O=/\/+/g,M=[];function D(t,e,n,i){if(M.length){var r=M.pop();return r.result=t,r.keyPrefix=e,r.func=n,r.context=i,r.count=0,r}return{result:t,keyPrefix:e,func:n,context:i,count:0}}function I(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>M.length&&M.push(t)}function P(t,e,n,i){var r=typeof t;"undefined"!==r&&"boolean"!==r||(t=null);var a=!1;if(null===t)a=!0;else switch(r){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case s:case o:a=!0}}if(a)return n(i,t,""===e?"."+R(t,0):e),1;if(a=0,e=""===e?".":e+":",Array.isArray(t))for(var l=0;l<t.length;l++){var u=e+R(r=t[l],l);a+=P(r,u,n,i)}else if(null===t||"object"!==typeof t?u=null:u="function"===typeof(u=g&&t[g]||t["@@iterator"])?u:null,"function"===typeof u)for(t=u.call(t),l=0;!(r=t.next()).done;)a+=P(r=r.value,u=e+R(r,l++),n,i);else if("object"===r)throw n=""+t,Error(v(31,"[object Object]"===n?"object with keys {"+Object.keys(t).join(", ")+"}":n,""));return a}function N(t,e,n){return null==t?0:P(t,"",e,n)}function R(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,(function(t){return e[t]}))}(t.key):e.toString(36)}function V(t,e){t.func.call(t.context,e,t.count++)}function F(t,e,n){var i=t.result,r=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?L(t,i,n,(function(t){return t})):null!=t&&(A(t)&&(t=function(t,e){return{$$typeof:s,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(t,r+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(O,"$&/")+"/")+n)),i.push(t))}function L(t,e,n,i,r){var s="";null!=n&&(s=(""+n).replace(O,"$&/")+"/"),N(t,F,e=D(e,s,i,r)),I(e)}var z={current:null};function q(){var t=z.current;if(null===t)throw Error(v(321));return t}var j={ReactCurrentDispatcher:z,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:k,IsSomeRendererActing:{current:!1},assign:i};e.Children={map:function(t,e,n){if(null==t)return t;var i=[];return L(t,i,null,e,n),i},forEach:function(t,e,n){if(null==t)return t;N(t,V,e=D(null,null,e,n)),I(e)},count:function(t){return N(t,(function(){return null}),null)},toArray:function(t){var e=[];return L(t,e,null,(function(t){return t})),e},only:function(t){if(!A(t))throw Error(v(143));return t}},e.Component=b,e.Fragment=a,e.Profiler=u,e.PureComponent=x,e.StrictMode=l,e.Suspense=p,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j,e.cloneElement=function(t,e,n){if(null===t||void 0===t)throw Error(v(267,t));var r=i({},t.props),o=t.key,a=t.ref,l=t._owner;if(null!=e){if(void 0!==e.ref&&(a=e.ref,l=k.current),void 0!==e.key&&(o=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(c in e)C.call(e,c)&&!S.hasOwnProperty(c)&&(r[c]=void 0===e[c]&&void 0!==u?u[c]:e[c])}var c=arguments.length-2;if(1===c)r.children=n;else if(1<c){u=Array(c);for(var h=0;h<c;h++)u[h]=arguments[h+2];r.children=u}return{$$typeof:s,type:t.type,key:o,ref:a,props:r,_owner:l}},e.createContext=function(t,e){return void 0===e&&(e=null),(t={$$typeof:h,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:t},t.Consumer=t},e.createElement=E,e.createFactory=function(t){var e=E.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:d,render:t}},e.isValidElement=A,e.lazy=function(t){return{$$typeof:m,_ctor:t,_status:-1,_result:null}},e.memo=function(t,e){return{$$typeof:f,type:t,compare:void 0===e?null:e}},e.useCallback=function(t,e){return q().useCallback(t,e)},e.useContext=function(t,e){return q().useContext(t,e)},e.useDebugValue=function(){},e.useEffect=function(t,e){return q().useEffect(t,e)},e.useImperativeHandle=function(t,e,n){return q().useImperativeHandle(t,e,n)},e.useLayoutEffect=function(t,e){return q().useLayoutEffect(t,e)},e.useMemo=function(t,e){return q().useMemo(t,e)},e.useReducer=function(t,e,n){return q().useReducer(t,e,n)},e.useRef=function(t){return q().useRef(t)},e.useState=function(t){return q().useState(t)},e.version="16.13.1"},43:(t,e,n)=>{"use strict";t.exports=n(202)},234:(t,e)=>{"use strict";var n,i,r,s,o;if("undefined"===typeof window||"function"!==typeof MessageChannel){var a=null,l=null,u=function(){if(null!==a)try{var t=e.unstable_now();a(!0,t),a=null}catch(n){throw setTimeout(u,0),n}},c=Date.now();e.unstable_now=function(){return Date.now()-c},n=function(t){null!==a?setTimeout(n,0,t):(a=t,setTimeout(u,0))},i=function(t,e){l=setTimeout(t,e)},r=function(){clearTimeout(l)},s=function(){return!1},o=e.unstable_forceFrameRate=function(){}}else{var h=window.performance,d=window.Date,p=window.setTimeout,f=window.clearTimeout;if("undefined"!==typeof console){var m=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof h&&"function"===typeof h.now)e.unstable_now=function(){return h.now()};else{var g=d.now();e.unstable_now=function(){return d.now()-g}}var v=!1,_=null,y=-1,b=5,w=0;s=function(){return e.unstable_now()>=w},o=function(){},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):b=0<t?Math.floor(1e3/t):5};var x=new MessageChannel,T=x.port2;x.port1.onmessage=function(){if(null!==_){var t=e.unstable_now();w=t+b;try{_(!0,t)?T.postMessage(null):(v=!1,_=null)}catch(n){throw T.postMessage(null),n}}else v=!1},n=function(t){_=t,v||(v=!0,T.postMessage(null))},i=function(t,n){y=p((function(){t(e.unstable_now())}),n)},r=function(){f(y),y=-1}}function k(t,e){var n=t.length;t.push(e);t:for(;;){var i=n-1>>>1,r=t[i];if(!(void 0!==r&&0<E(r,e)))break t;t[i]=e,t[n]=r,n=i}}function C(t){return void 0===(t=t[0])?null:t}function S(t){var e=t[0];if(void 0!==e){var n=t.pop();if(n!==e){t[0]=n;t:for(var i=0,r=t.length;i<r;){var s=2*(i+1)-1,o=t[s],a=s+1,l=t[a];if(void 0!==o&&0>E(o,n))void 0!==l&&0>E(l,o)?(t[i]=l,t[a]=n,i=a):(t[i]=o,t[s]=n,i=s);else{if(!(void 0!==l&&0>E(l,n)))break t;t[i]=l,t[a]=n,i=a}}}return e}return null}function E(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}var A=[],O=[],M=1,D=null,I=3,P=!1,N=!1,R=!1;function V(t){for(var e=C(O);null!==e;){if(null===e.callback)S(O);else{if(!(e.startTime<=t))break;S(O),e.sortIndex=e.expirationTime,k(A,e)}e=C(O)}}function F(t){if(R=!1,V(t),!N)if(null!==C(A))N=!0,n(L);else{var e=C(O);null!==e&&i(F,e.startTime-t)}}function L(t,n){N=!1,R&&(R=!1,r()),P=!0;var o=I;try{for(V(n),D=C(A);null!==D&&(!(D.expirationTime>n)||t&&!s());){var a=D.callback;if(null!==a){D.callback=null,I=D.priorityLevel;var l=a(D.expirationTime<=n);n=e.unstable_now(),"function"===typeof l?D.callback=l:D===C(A)&&S(A),V(n)}else S(A);D=C(A)}if(null!==D)var u=!0;else{var c=C(O);null!==c&&i(F,c.startTime-n),u=!1}return u}finally{D=null,I=o,P=!1}}function z(t){switch(t){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var q=o;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){N||P||(N=!0,n(L))},e.unstable_getCurrentPriorityLevel=function(){return I},e.unstable_getFirstCallbackNode=function(){return C(A)},e.unstable_next=function(t){switch(I){case 1:case 2:case 3:var e=3;break;default:e=I}var n=I;I=e;try{return t()}finally{I=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=q,e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=I;I=t;try{return e()}finally{I=n}},e.unstable_scheduleCallback=function(t,s,o){var a=e.unstable_now();if("object"===typeof o&&null!==o){var l=o.delay;l="number"===typeof l&&0<l?a+l:a,o="number"===typeof o.timeout?o.timeout:z(t)}else o=z(t),l=a;return t={id:M++,callback:s,priorityLevel:t,startTime:l,expirationTime:o=l+o,sortIndex:-1},l>a?(t.sortIndex=l,k(O,t),null===C(A)&&t===C(O)&&(R?r():R=!0,i(F,l-a))):(t.sortIndex=o,k(A,t),N||P||(N=!0,n(L))),t},e.unstable_shouldYield=function(){var t=e.unstable_now();V(t);var n=C(A);return n!==D&&null!==D&&null!==n&&null!==n.callback&&n.startTime<=t&&n.expirationTime<D.expirationTime||s()},e.unstable_wrapCallback=function(t){var e=I;return function(){var n=I;I=e;try{return t.apply(this,arguments)}finally{I=n}}}},853:(t,e,n)=>{"use strict";t.exports=n(234)},79:t=>{t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i},t.exports.__esModule=!0,t.exports.default=t.exports},987:t=>{t.exports=function(t){if(Array.isArray(t))return t},t.exports.__esModule=!0,t.exports.default=t.exports},383:t=>{t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports},579:(t,e,n)=>{var i=n(736);function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i(r.key),r)}}t.exports=function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports},156:t=>{t.exports=function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,r,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=s.call(n)).done)&&(a.push(i.value),a.length!==e);l=!0);}catch(t){u=!0,r=t}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw r}}return a}},t.exports.__esModule=!0,t.exports.default=t.exports},752:t=>{t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},633:(t,e,n)=>{var i=n(738).default;function r(){"use strict";t.exports=r=function(){return n},t.exports.__esModule=!0,t.exports.default=t.exports;var e,n={},s=Object.prototype,o=s.hasOwnProperty,a=Object.defineProperty||function(t,e,n){t[e]=n.value},l="function"==typeof Symbol?Symbol:{},u=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",h=l.toStringTag||"@@toStringTag";function d(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{d({},"")}catch(e){d=function(t,e,n){return t[e]=n}}function p(t,e,n,i){var r=e&&e.prototype instanceof b?e:b,s=Object.create(r.prototype),o=new P(i||[]);return a(s,"_invoke",{value:O(t,n,o)}),s}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}n.wrap=p;var m="suspendedStart",g="suspendedYield",v="executing",_="completed",y={};function b(){}function w(){}function x(){}var T={};d(T,u,(function(){return this}));var k=Object.getPrototypeOf,C=k&&k(k(N([])));C&&C!==s&&o.call(C,u)&&(T=C);var S=x.prototype=b.prototype=Object.create(T);function E(t){["next","throw","return"].forEach((function(e){d(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function n(r,s,a,l){var u=f(t[r],t,s);if("throw"!==u.type){var c=u.arg,h=c.value;return h&&"object"==i(h)&&o.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,a,l)}),(function(t){n("throw",t,a,l)})):e.resolve(h).then((function(t){c.value=t,a(c)}),(function(t){return n("throw",t,a,l)}))}l(u.arg)}var r;a(this,"_invoke",{value:function(t,i){function s(){return new e((function(e,r){n(t,i,e,r)}))}return r=r?r.then(s,s):s()}})}function O(t,n,i){var r=m;return function(s,o){if(r===v)throw Error("Generator is already running");if(r===_){if("throw"===s)throw o;return{value:e,done:!0}}for(i.method=s,i.arg=o;;){var a=i.delegate;if(a){var l=M(a,i);if(l){if(l===y)continue;return l}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===m)throw r=_,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=v;var u=f(t,n,i);if("normal"===u.type){if(r=i.done?_:g,u.arg===y)continue;return{value:u.arg,done:i.done}}"throw"===u.type&&(r=_,i.method="throw",i.arg=u.arg)}}}function M(t,n){var i=n.method,r=t.iterator[i];if(r===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,M(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),y;var s=f(r,t.iterator,n.arg);if("throw"===s.type)return n.method="throw",n.arg=s.arg,n.delegate=null,y;var o=s.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function D(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(D,this),this.reset(!0)}function N(t){if(t||""===t){var n=t[u];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,s=function n(){for(;++r<t.length;)if(o.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return s.next=s}}throw new TypeError(i(t)+" is not iterable")}return w.prototype=x,a(S,"constructor",{value:x,configurable:!0}),a(x,"constructor",{value:w,configurable:!0}),w.displayName=d(x,h,"GeneratorFunction"),n.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},n.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,x):(t.__proto__=x,d(t,h,"GeneratorFunction")),t.prototype=Object.create(S),t},n.awrap=function(t){return{__await:t}},E(A.prototype),d(A.prototype,c,(function(){return this})),n.AsyncIterator=A,n.async=function(t,e,i,r,s){void 0===s&&(s=Promise);var o=new A(p(t,e,i,r),s);return n.isGeneratorFunction(e)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},E(S),d(S,h,"Generator"),d(S,u,(function(){return this})),d(S,"toString",(function(){return"[object Generator]"})),n.keys=function(t){var e=Object(t),n=[];for(var i in e)n.push(i);return n.reverse(),function t(){for(;n.length;){var i=n.pop();if(i in e)return t.value=i,t.done=!1,t}return t.done=!0,t}},n.values=N,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(i,r){return a.type="throw",a.arg=t,n.next=i,r&&(n.method="next",n.arg=e),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var s=this.tryEntries[r],a=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var l=o.call(s,"catchLoc"),u=o.call(s,"finallyLoc");if(l&&u){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&o.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var s=r?r.completion:{};return s.type=t,s.arg=e,r?(this.method="next",this.next=r.finallyLoc,y):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;I(n)}return r}}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:N(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),y}},n}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports},715:(t,e,n)=>{var i=n(987),r=n(156),s=n(122),o=n(752);t.exports=function(t,e){return i(t)||r(t,e)||s(t,e)||o()},t.exports.__esModule=!0,t.exports.default=t.exports},45:(t,e,n)=>{var i=n(738).default;t.exports=function(t,e){if("object"!=i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)},t.exports.__esModule=!0,t.exports.default=t.exports},736:(t,e,n)=>{var i=n(738).default,r=n(45);t.exports=function(t){var e=r(t,"string");return"symbol"==i(e)?e:e+""},t.exports.__esModule=!0,t.exports.default=t.exports},738:t=>{function e(n){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},122:(t,e,n)=>{var i=n(79);t.exports=function(t,e){if(t){if("string"==typeof t)return i(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}},t.exports.__esModule=!0,t.exports.default=t.exports},756:(t,e,n)=>{var i=n(633)();t.exports=i;try{regeneratorRuntime=i}catch(r){"object"===typeof globalThis?globalThis.regeneratorRuntime=i:Function("r","regeneratorRuntime = r")(i)}}},e={};function n(i){var r=e[i];if(void 0!==r)return r.exports;var s=e[i]={exports:{}};return t[i].call(s.exports,s,s.exports,n),s.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";var t=n(43),e=n(950),i=n(756),r=n.n(i);function s(t,e,n,i,r,s,o){try{var a=t[s](o),l=a.value}catch(u){return void n(u)}a.done?e(l):Promise.resolve(l).then(i,r)}function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],i=!0,r=!1,s=void 0;try{for(var o,a=t[Symbol.iterator]();!(i=(o=a.next()).done)&&(n.push(o.value),!e||n.length!==e);i=!0);}catch(l){r=!0,s=l}finally{try{i||null==a.return||a.return()}finally{if(r)throw s}}return n}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var l=function(){var e=o((0,t.useState)(null),2),n=e[0],i=e[1],a=o((0,t.useState)(!1),2),l=a[0],u=a[1],c=o((0,t.useState)(""),2),h=c[0],d=c[1],p=o((0,t.useState)(null),2),f=p[0],m=p[1];(0,t.useEffect)((function(){return function(){return f&&clearTimeout(f)}}),[f]);var g=function(){i(null),u(!1),d("")},v=function(){var t,e=(t=r().mark((function t(){var e,s,o,a=arguments;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("number"===typeof(e=a.length>0&&void 0!==a[0]?a[0]:0)){t.next=3;break}throw Error("Duration must be a number");case 3:if(l){t.next=20;break}return t.prev=4,t.next=7,window.navigator.wakeLock.request("screen");case 7:s=t.sent,0!==e&&(o=setTimeout((function(){s.release(),g()}),e),m(o)),i(s),u(!0),d(""),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(4),d("".concat(t.t0.name,", ").concat(t.t0.message)),console.error("".concat(t.t0.name,", ").concat(t.t0.message));case 18:t.next=22;break;case 20:n.release(),g();case 22:case"end":return t.stop()}}),t,null,[[4,14]])})),function(){var e=this,n=arguments;return new Promise((function(i,r){var o=t.apply(e,n);function a(t){s(o,i,r,a,l,"next",t)}function l(t){s(o,i,r,a,l,"throw",t)}a(void 0)}))});return function(){return e.apply(this,arguments)}}();return{toggleWakeLock:v,wakeLockActive:l,wakeLockError:h}};const u="14.7.30";var c=n(998);const h=new WeakSet,d=new WeakMap,p=new WeakMap,f=new WeakMap,m=new WeakMap,g=new WeakMap,v=new WeakMap,_=new WeakMap,y=new WeakMap,b=new WeakMap,w=new WeakMap,x={construct:()=>x},T=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,k=(t,e)=>{const n=[];let i=t.replace(/^[\s]+/,""),r=i.match(T);for(;null!==r;){const t=r[1].slice(1,-1),s=r[0].replace(/([\s]+)?;?$/,"").replace(t,new URL(t,e).toString());n.push(s),i=i.slice(r[0].length).replace(/^[\s]+/,""),r=i.match(T)}return[n.join(";"),i]},C=t=>{if(void 0!==t&&!Array.isArray(t))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},S=t=>{if(!(t=>{try{new new Proxy(t,x)}catch{return!1}return!0})(t))throw new TypeError("The given value for processorCtor should be a constructor.");if(null===t.prototype||"object"!==typeof t.prototype)throw new TypeError("The given value for processorCtor should have a prototype.")},E={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},A=(t,e)=>t.context===e,O=t=>{try{t.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},M=()=>{try{return new DOMException("","IndexSizeError")}catch(t){return t.code=1,t.name="IndexSizeError",t}},D=t=>{var e;t.getChannelData=(e=t.getChannelData,n=>{try{return e.call(t,n)}catch(i){if(12===i.code)throw M();throw i}})},I={numberOfChannels:1},P=-34028234663852886e22,N=-P,R=(t,e)=>{const n=t.get(e);if(void 0===n)throw new Error("A value with the given key could not be found.");return n},V=t=>R(_,t),F=t=>{if(h.has(t))throw new Error("The AudioNode is already stored.");h.add(t),V(t).forEach((t=>t(!0)))},L=t=>{if(!h.has(t))throw new Error("The AudioNode is not stored.");h.delete(t),V(t).forEach((t=>t(!1)))},z={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},q=t=>void 0===t||"number"===typeof t||"string"===typeof t&&("balanced"===t||"interactive"===t||"playback"===t),j=t=>"context"in t,W=t=>j(t[0]),B=t=>"port"in t,U=t=>"inputs"in t,Q=(t,e,n,i)=>{if(U(e)){const r=e.inputs[i];return t.connect(r,n,0),[r,n,0]}return t.connect(e,n,i),[e,n,i]},H=(t,e)=>{if(!V(t).delete(e))throw new Error("Missing the expected event listener.")},$=(t,e,n,i)=>{U(e)?t.disconnect(e.inputs[i],n,0):t.disconnect(e,n,i)},Y=t=>R(d,t),G=t=>R(f,t),X=t=>R(p,t),Z=t=>R(m,t),K=(t,e,n,i)=>{for(const r of t)if(n(r)){if(i)return!1;throw Error("The set contains at least one similar element.")}return t.add(e),!0},J=t=>h.has(t),tt=t=>y.has(t),et=t=>!h.has(t),nt=(t,e)=>{const n=Array.from(t).filter(e);if(n.length>1)throw Error("More than one element was found.");if(0===n.length)throw Error("No element was found.");const[i]=n;return t.delete(i),i},it=(t,e)=>{!B(t)&&e.every((t=>0===t.size))&&L(t)},rt=t=>new Promise((e=>{const n=t.createScriptProcessor(256,1,1),i=t.createGain(),r=t.createBuffer(1,2,44100),s=r.getChannelData(0);s[0]=1,s[1]=1;const o=t.createBufferSource();o.buffer=r,o.loop=!0,o.connect(n).connect(t.destination),o.connect(i),o.disconnect(i),n.onaudioprocess=i=>{const r=i.inputBuffer.getChannelData(0);Array.prototype.some.call(r,(t=>1===t))?e(!0):e(!1),o.stop(),n.onaudioprocess=null,o.disconnect(n),n.disconnect(t.destination)},o.start()})),st=(t,e)=>{const n=new Map;for(const i of t)for(const t of i){const e=n.get(t);n.set(t,void 0===e?1:e+1)}n.forEach(((t,n)=>e(n,t)))},ot=t=>"context"in t,at=t=>{const e=new Map;t.connect=(t=>function(n){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const s=ot(n)?t(n,i,r):t(n,i),o=e.get(n);return void 0===o?e.set(n,[{input:r,output:i}]):o.every((t=>t.input!==r||t.output!==i))&&o.push({input:r,output:i}),s})(t.connect.bind(t)),t.disconnect=(n=>(i,r,s)=>{if(n.apply(t),void 0===i)e.clear();else if("number"===typeof i)for(const[t,n]of e){const r=n.filter((t=>t.output!==i));0===r.length?e.delete(t):e.set(t,r)}else if(e.has(i))if(void 0===r)e.delete(i);else{const t=e.get(i);if(void 0!==t){const n=t.filter((t=>t.output!==r&&(t.input!==s||void 0===s)));0===n.length?e.delete(i):e.set(i,n)}}for(const[n,o]of e)o.forEach((e=>{ot(n)?t.connect(n,e.output,e.input):t.connect(n,e.output)}))})(t.disconnect)},lt=(t,e,n,i)=>{let[r,s,o]=n;K(t[s],[e,r,o],(t=>t[0]===e&&t[1]===r),i)},ut=(t,e,n,i)=>{let[r,s]=n;K(t,[e,r,s],(t=>t[0]===e&&t[1]===r),i)},ct=(t,e,n,i)=>{let[r,s,o]=n;const a=t.get(r);void 0===a?t.set(r,new Set([[s,e,o]])):K(a,[s,e,o],(t=>t[0]===s&&t[1]===e),i)},ht=(t,e,n)=>{let[i,r,s]=e;const o=t.get(i);void 0===o?t.set(i,new Set([[r,s]])):K(o,[r,s],(t=>t[0]===r),n)},dt=(t,e,n,i)=>{const r=R(t,e),s=nt(r,(t=>t[0]===n&&t[1]===i));return 0===r.size&&t.delete(e),s},pt=(t,e,n)=>{const i=R(t,e),r=nt(i,(t=>t[0]===n));return 0===i.size&&t.delete(e),r},ft=(t,e,n,i)=>{const{activeInputs:r,passiveInputs:s}=Y(e),{outputs:o}=Y(t),a=V(t),l=o=>{const a=X(e),l=X(t);if(o){const o=dt(s,t,n,i);lt(r,t,o,!1),tt(t)||Q(l,a,n,i),et(e)&&F(e)}else{const o=((t,e,n,i)=>nt(t[i],(t=>t[0]===e&&t[1]===n)))(r,t,n,i);ct(s,i,o,!1),tt(t)||$(l,a,n,i),J(e)&&it(e,r)}};return!!K(o,[e,n,i],(t=>t[0]===e&&t[1]===n&&t[2]===i),!0)&&(a.add(l),J(t)?lt(r,t,[n,i,l],!0):ct(s,i,[t,n,l],!0),!0)},mt=(t,e,n)=>{const{activeInputs:i,passiveInputs:r}=G(e),{outputs:s}=Y(t),o=V(t),a=s=>{const o=X(t),a=Z(e);if(s){const e=pt(r,t,n);ut(i,t,e,!1),tt(t)||o.connect(a,n)}else{const e=((t,e,n)=>nt(t,(t=>t[0]===e&&t[1]===n)))(i,t,n);ht(r,e,!1),tt(t)||o.disconnect(a,n)}};return!!K(s,[e,n],(t=>t[0]===e&&t[1]===n),!0)&&(o.add(a),J(t)?ut(i,t,[n,a],!0):ht(r,[t,n,a],!0),!0)},gt=(t,e,n)=>{for(const i of t)if(i[0]===e&&i[1]===n)return t.delete(i),i;return null},vt=(t,e,n,i)=>{const[r,s]=((t,e,n,i)=>{const{activeInputs:r,passiveInputs:s}=Y(e),o=gt(r[i],t,n);if(null===o)return[dt(s,t,n,i)[2],!1];return[o[2],!0]})(t,e,n,i);if(null!==r&&(H(t,r),s&&!tt(t)&&$(X(t),X(e),n,i)),J(e)){const{activeInputs:t}=Y(e);it(e,t)}},_t=(t,e,n)=>{const[i,r]=((t,e,n)=>{const{activeInputs:i,passiveInputs:r}=G(e),s=gt(i,t,n);if(null===s)return[pt(r,t,n)[1],!1];return[s[2],!0]})(t,e,n);null!==i&&(H(t,i),r&&!tt(t)&&X(t).disconnect(Z(e),n))};class yt{constructor(t){this._map=new Map(t)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._map.forEach(((n,i)=>t.call(e,n,i,this)))}get(t){return this._map.get(t)}has(t){return this._map.has(t)}keys(){return this._map.keys()}values(){return this._map.values()}}const bt={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,outputChannelCount:void 0,parameterData:{},processorOptions:{}},wt=t=>{const e=[];for(let n=0;n<t;n+=1)e.push(1);return e};function xt(t,e,n,i,r){if("function"===typeof t.copyFromChannel)0===e[n].byteLength&&(e[n]=new Float32Array(128)),t.copyFromChannel(e[n],i,r);else{const s=t.getChannelData(i);if(0===e[n].byteLength)e[n]=s.slice(r,r+128);else{const t=new Float32Array(s.buffer,r*Float32Array.BYTES_PER_ELEMENT,128);e[n].set(t)}}}const Tt=(t,e,n,i,r)=>{"function"===typeof t.copyToChannel?0!==e[n].byteLength&&t.copyToChannel(e[n],i,r):0!==e[n].byteLength&&t.getChannelData(i).set(e[n],r)},kt=(t,e)=>{const n=[];for(let i=0;i<t;i+=1){const t=[],r="number"===typeof e?e:e[i];for(let e=0;e<r;e+=1)t.push(new Float32Array(128));n.push(t)}return n},Ct=async(t,e,n,i,r,s)=>{const o=null===e?128*Math.ceil(t.context.length/128):e.length,a=i.channelCount*i.numberOfInputs,l=i.outputChannelCount.reduce(((t,e)=>t+e),0),u=0===l?null:n.createBuffer(l,o,n.sampleRate);if(void 0===r)throw new Error("Missing the processor constructor.");const c=Y(t),h=await((t,e)=>{const n=R(w,t),i=X(e);return R(n,i)})(n,t),d=kt(i.numberOfInputs,i.channelCount),p=kt(i.numberOfOutputs,i.outputChannelCount),f=Array.from(t.parameters.keys()).reduce(((t,e)=>({...t,[e]:new Float32Array(128)})),{});for(let g=0;g<o;g+=128){if(i.numberOfInputs>0&&null!==e)for(let t=0;t<i.numberOfInputs;t+=1)for(let n=0;n<i.channelCount;n+=1)xt(e,d[t],n,n,g);void 0!==r.parameterDescriptors&&null!==e&&r.parameterDescriptors.forEach(((t,n)=>{let{name:i}=t;xt(e,f,i,a+n,g)}));for(let t=0;t<i.numberOfInputs;t+=1)for(let e=0;e<i.outputChannelCount[t];e+=1)0===p[t][e].byteLength&&(p[t][e]=new Float32Array(128));try{const t=d.map(((t,e)=>0===c.activeInputs[e].size?[]:t)),e=s(g/n.sampleRate,n.sampleRate,(()=>h.process(t,p,f)));if(null!==u)for(let n=0,r=0;n<i.numberOfOutputs;n+=1){for(let t=0;t<i.outputChannelCount[n];t+=1)Tt(u,p[n],t,r+t,g);r+=i.outputChannelCount[n]}if(!e)break}catch(m){t.dispatchEvent(new ErrorEvent("processorerror",{error:m}));break}}return u},St={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},Et={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},At={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},Ot={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},Mt={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},Dt={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},It=(t,e,n)=>{const i=e[n];if(void 0===i)throw t();return i},Pt={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},Nt={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},Rt=()=>{try{return new DOMException("","InvalidStateError")}catch(t){return t.code=11,t.name="InvalidStateError",t}},Vt=()=>{try{return new DOMException("","InvalidAccessError")}catch(t){return t.code=15,t.name="InvalidAccessError",t}},Ft={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},Lt=(t,e,n,i,r,s,o,a,l,u,c)=>{const h=u.length;let d=a;for(let p=0;p<h;p+=1){let a=n[0]*u[p];for(let e=1;e<r;e+=1){const i=d-e&l-1;a+=n[e]*s[i],a-=t[e]*o[i]}for(let t=r;t<i;t+=1)a+=n[t]*s[d-t&l-1];for(let n=r;n<e;n+=1)a-=t[n]*o[d-n&l-1];s[d]=u[p],o[d]=a,d=d+1&l-1,c[p]=a}return d},zt={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},qt=t=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=t.decodeAudioData(e.buffer,(()=>{}));return void 0!==n&&(n.catch((()=>{})),!0)}catch{}return!1},jt={numberOfChannels:1},Wt=(t,e,n)=>{const i=e[n];void 0!==i&&i!==t[n]&&(t[n]=i)},Bt=(t,e)=>{Wt(t,e,"channelCount"),Wt(t,e,"channelCountMode"),Wt(t,e,"channelInterpretation")},Ut=t=>"function"===typeof t.getFloatTimeDomainData,Qt=(t,e,n)=>{const i=e[n];void 0!==i&&i!==t[n].value&&(t[n].value=i)},Ht=t=>{t.start=(e=>function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;if("number"===typeof r&&r<0||i<0||n<0)throw new RangeError("The parameters can't be negative.");e.call(t,n,i,r)})(t.start)},$t=t=>{var e;t.stop=(e=t.stop,function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(n<0)throw new RangeError("The parameter can't be negative.");e.call(t,n)})},Yt=(t,e)=>null===t?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(t*e))))),Gt=async(t,e)=>{const n=await(t=>new Promise(((e,n)=>{const{port1:i,port2:r}=new MessageChannel;i.onmessage=t=>{let{data:n}=t;i.close(),r.close(),e(n)},i.onmessageerror=t=>{let{data:e}=t;i.close(),r.close(),n(e)},r.postMessage(t)})))(e);return new t(n)},Xt=(t,e)=>(t.connect=e.connect.bind(e),t.disconnect=e.disconnect.bind(e),t);function Zt(t,e){const n=e[0]*e[0]+e[1]*e[1];return[(t[0]*e[0]+t[1]*e[1])/n,(t[1]*e[0]-t[0]*e[1])/n]}function Kt(t,e){let n=[0,0];for(let s=t.length-1;s>=0;s-=1)r=e,n=[(i=n)[0]*r[0]-i[1]*r[1],i[0]*r[1]+i[1]*r[0]],n[0]+=t[s];var i,r;return n}const Jt=()=>{try{return new DOMException("","NotSupportedError")}catch(t){return t.code=9,t.name="NotSupportedError",t}},te={numberOfChannels:1},ee={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,type:"sine"},ne={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},ie={disableNormalization:!1},re={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},se=()=>{try{return new DOMException("","UnknownError")}catch(t){return t.name="UnknownError",t}},oe={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},ae=t=>{if(null===t)return!1;const e=t.length;return e%2!==0?0!==t[Math.floor(e/2)]:t[e/2-1]+t[e/2]!==0},le=(t,e,n,i)=>{let r=Object.getPrototypeOf(t);for(;!r.hasOwnProperty(e);)r=Object.getPrototypeOf(r);const{get:s,set:o}=Object.getOwnPropertyDescriptor(r,e);Object.defineProperty(t,e,{get:n(s),set:i(o)})},ue=(t,e)=>n=>{const i={value:t};return Object.defineProperties(n,{currentTarget:i,target:i}),"function"===typeof e?e.call(t,n):e.handleEvent.call(t,n)},ce=(he=new Map,de=new WeakMap,(t,e)=>{const n=de.get(t);if(void 0!==n)return n;const i=he.get(t);if(void 0!==i)return i;try{const n=e();return n instanceof Promise?(he.set(t,n),n.catch((()=>!1)).then((e=>(he.delete(t),de.set(t,e),e)))):(de.set(t,n),n)}catch{return de.set(t,!1),!1}});var he,de;const pe="undefined"===typeof window?null:window,fe=(t=>null===t?null:t.hasOwnProperty("OfflineAudioContext")?t.OfflineAudioContext:t.hasOwnProperty("webkitOfflineAudioContext")?t.webkitOfflineAudioContext:null)(pe),me=(t=>e=>null!==t&&e instanceof t)(fe),ge=(t=>null===t?null:t.hasOwnProperty("AudioContext")?t.AudioContext:t.hasOwnProperty("webkitAudioContext")?t.webkitAudioContext:null)(pe),ve=((t,e,n)=>i=>{if("closed"===i.state&&null!==e&&"webkitAudioContext"!==e.name){if(!t(i)){const t=g.get(i);if(void 0!==t)return t;const n=new e;return g.set(i,n),n}{const t=g.get(i);if(void 0!==t)return t;if(null!==n){const t=new n(1,1,44100);return g.set(i,t),t}}}return null})(me,ge,fe),_e=(t=>(e,n)=>{const i=t(e);return n(null!==i?i:e)})(ve),ye=((t,e,n)=>(i,r)=>{const s=n(i,(t=>t.createAnalyser()));if(Bt(s,r),!(r.maxDecibels>r.minDecibels))throw e();return Wt(s,r,"fftSize"),Wt(s,r,"maxDecibels"),Wt(s,r,"minDecibels"),Wt(s,r,"smoothingTimeConstant"),t(Ut,(()=>Ut(s)))||(t=>{t.getFloatTimeDomainData=e=>{const n=new Uint8Array(e.length);t.getByteTimeDomainData(n);const i=Math.max(n.length,t.fftSize);for(let t=0;t<i;t+=1)e[t]=.0078125*(n[t]-128);return e}})(s),s})(ce,M,_e),be=(t=>e=>{const n=t(e);if(null===n.renderer)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer})(Y),we=((t,e,n)=>async(i,r,s,o)=>{const a=t(i),l=[...o,i];await Promise.all(a.activeInputs.map(((t,o)=>Array.from(t).filter((t=>{let[e]=t;return!l.includes(e)})).map((async t=>{let[a,u]=t;const c=e(a),h=await c.render(a,r,l),d=i.context.destination;n(a)||i===d&&n(i)||h.connect(s,u,o)})))).reduce(((t,e)=>[...t,...e]),[]))})(Y,be,tt),xe=((t,e,n)=>()=>{const i=new WeakMap;return{render(r,s,o){const a=i.get(s);return void 0!==a?Promise.resolve(a):(async(r,s,o)=>{let a=e(r);if(!A(a,s)){const e={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,fftSize:a.fftSize,maxDecibels:a.maxDecibels,minDecibels:a.minDecibels,smoothingTimeConstant:a.smoothingTimeConstant};a=t(s,e)}return i.set(s,a),await n(r,s,a,o),a})(r,s,o)}}})(ye,X,we),Te=new WeakMap,ke=(Ce=v,t=>{const e=Ce.get(t);if(void 0===e)throw Rt();return e});var Ce;const Se=new WeakMap,Ee=(t=>class{constructor(t){this._nativeEventTarget=t,this._listeners=new WeakMap}addEventListener(e,n,i){if(null!==n){let r=this._listeners.get(n);void 0===r&&(r=t(this,n),"function"===typeof n&&this._listeners.set(n,r)),this._nativeEventTarget.addEventListener(e,r,i)}}dispatchEvent(t){return this._nativeEventTarget.dispatchEvent(t)}removeEventListener(t,e,n){const i=null===e?void 0:this._listeners.get(e);this._nativeEventTarget.removeEventListener(t,void 0===i?null:i,n)}})(ue),Ae=(t=>e=>null!==t&&e instanceof t)(ge),Oe=(t=>e=>null!==t&&"function"===typeof t.AudioNode&&e instanceof t.AudioNode)(pe),Me=(t=>e=>null!==t&&"function"===typeof t.AudioParam&&e instanceof t.AudioParam)(pe),De=((t,e,n,i,r,s,o,a,l,u,c,h,d,f,m)=>class extends u{constructor(e,i,r,s){super(r),this._context=e,this._nativeAudioNode=r;const o=c(e);h(o)&&!0!==n(rt,(()=>rt(o)))&&at(r),p.set(this,r),_.set(this,new Set),i&&F(this),t(this,s,r)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(t){this._nativeAudioNode.channelCount=t}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(t){this._nativeAudioNode.channelCountMode=t}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(t){this._nativeAudioNode.channelInterpretation=t}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(n<0||n>=this._nativeAudioNode.numberOfOutputs)throw r();const u=c(this._context),h=m(u);if(d(t)||f(t))throw s();if(j(t)){const r=X(t);try{const i=Q(this._nativeAudioNode,r,n,a);if(h||et(this)?this._nativeAudioNode.disconnect(...i):et(t)&&F(t),B(t)){const t=e.get(r);if(void 0===t){const t=u.createGain();t.connect(i[0],0,i[2]),e.set(r,new Map([[a,t]]))}else if(void 0===t.get(a)){const e=u.createGain();e.connect(i[0],0,i[2]),t.set(a,e)}}}catch(g){if(12===g.code)throw s();throw g}if(h?((t,e,n,i)=>{const{outputs:r}=Y(t);if(K(r,[e,n,i],(t=>t[0]===e&&t[1]===n&&t[2]===i),!0)){const{activeInputs:r}=Y(e);return lt(r,t,[n,i,null],!0),!0}return!1})(this,t,n,a):ft(this,t,n,a)){const e=l([this],t);st(e,i(h))}return t}const p=Z(t);if("playbackRate"===p.name)throw o();try{this._nativeAudioNode.connect(p,n),(h||et(this))&&this._nativeAudioNode.disconnect(p,n)}catch(g){if(12===g.code)throw s();throw g}if(h?((t,e,n)=>{const{outputs:i}=Y(t);if(K(i,[e,n],(t=>t[0]===e&&t[1]===n),!0)){const{activeInputs:i}=G(e);return ut(i,t,[n,null],!0),!0}return!1})(this,t,n):mt(this,t,n)){const e=l([this],t);st(e,i(h))}}disconnect(t,e,n){let i;if(void 0===t)i=(t=>{const e=Y(t),n=[];for(const i of e.outputs)W(i)?vt(t,...i):_t(t,...i),n.push(i[0]);return e.outputs.clear(),n})(this);else if("number"===typeof t){if(t<0||t>=this.numberOfOutputs)throw r();i=((t,e)=>{const n=Y(t),i=[];for(const r of n.outputs)r[1]===e&&(W(r)?vt(t,...r):_t(t,...r),i.push(r[0]),n.outputs.delete(r));return i})(this,t)}else{if(void 0!==e&&(e<0||e>=this.numberOfOutputs))throw r();if(j(t)&&void 0!==n&&(n<0||n>=t.numberOfInputs))throw r();if(i=((t,e,n,i)=>{const r=Y(t);return Array.from(r.outputs).filter((t=>t[0]===e&&(void 0===n||t[1]===n)&&(void 0===i||t[2]===i))).map((e=>(W(e)?vt(t,...e):_t(t,...e),r.outputs.delete(e),e[0])))})(this,t,e,n),0===i.length)throw s()}for(const r of i){const t=l([this],r);st(t,a)}}})((Ie=d,(t,e,n)=>{const i=[];for(let r=0;r<n.numberOfInputs;r+=1)i.push(new Set);Ie.set(t,{activeInputs:i,outputs:new Set,passiveInputs:new WeakMap,renderer:e})}),Te,ce,((t,e,n,i,r,s)=>o=>(a,l)=>{const u=t.get(a);if(void 0===u){if(!o&&s(a)){const t=i(a),{outputs:s}=n(a);for(const n of s)if(W(n)){const r=i(n[0]);e(t,r,n[1],n[2])}else{const e=r(n[0]);t.disconnect(e,n[1])}}t.set(a,l)}else t.set(a,u+l)})(y,$,Y,X,Z,J),M,Vt,Jt,((t,e,n,i,r,s,o,a)=>(l,u)=>{const c=e.get(l);if(void 0===c)throw new Error("Missing the expected cycle count.");const h=s(l.context),d=a(h);if(c===u){if(e.delete(l),!d&&o(l)){const e=i(l),{outputs:s}=n(l);for(const n of s)if(W(n)){const r=i(n[0]);t(e,r,n[1],n[2])}else{const t=r(n[0]);e.connect(t,n[1])}}}else e.set(l,c-u)})(Q,y,Y,X,Z,ke,J,me),((t,e,n)=>function i(r,s){const o=j(s)?s:n(t,s);if((t=>"delayTime"in t)(o))return[];if(r[0]===o)return[r];if(r.includes(o))return[];const{outputs:a}=e(o);return Array.from(a).map((t=>i([...r,o],t[0]))).reduce(((t,e)=>t.concat(e)),[])})(Se,Y,R),Ee,ke,Ae,Oe,Me,me);var Ie;const Pe=((t,e,n,i,r,s)=>class extends t{constructor(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E;const o=r(t),a={...E,...n},l=i(o,a);super(t,!1,l,s(o)?e():null),this._nativeAnalyserNode=l}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(t){this._nativeAnalyserNode.fftSize=t}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(t){const e=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=t,!(t>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=e,n()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(t){const e=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=t,!(this._nativeAnalyserNode.maxDecibels>t))throw this._nativeAnalyserNode.minDecibels=e,n()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(t){this._nativeAnalyserNode.smoothingTimeConstant=t}getByteFrequencyData(t){this._nativeAnalyserNode.getByteFrequencyData(t)}getByteTimeDomainData(t){this._nativeAnalyserNode.getByteTimeDomainData(t)}getFloatFrequencyData(t){this._nativeAnalyserNode.getFloatFrequencyData(t)}getFloatTimeDomainData(t){this._nativeAnalyserNode.getFloatTimeDomainData(t)}})(De,xe,M,ye,ke,me),Ne=new WeakSet,Re=(t=>null===t?null:t.hasOwnProperty("AudioBuffer")?t.AudioBuffer:null)(pe),Ve=(Fe=new Uint32Array(1),t=>(Fe[0]=t,Fe[0]));var Fe;const Le=((t,e)=>n=>{n.copyFromChannel=function(i,r){const s=t(arguments.length>2&&void 0!==arguments[2]?arguments[2]:0),o=t(r);if(o>=n.numberOfChannels)throw e();const a=n.length,l=n.getChannelData(o),u=i.length;for(let t=s<0?-s:0;t+s<a&&t<u;t+=1)i[t]=l[t+s]},n.copyToChannel=function(i,r){const s=t(arguments.length>2&&void 0!==arguments[2]?arguments[2]:0),o=t(r);if(o>=n.numberOfChannels)throw e();const a=n.length,l=n.getChannelData(o),u=i.length;for(let t=s<0?-s:0;t+s<a&&t<u;t+=1)l[t+s]=i[t]}})(Ve,M),ze=(t=>e=>{e.copyFromChannel=(n=>function(i,r){const s=t(arguments.length>2&&void 0!==arguments[2]?arguments[2]:0),o=t(r);if(s<e.length)return n.call(e,i,o,s)})(e.copyFromChannel),e.copyToChannel=(n=>function(i,r){const s=t(arguments.length>2&&void 0!==arguments[2]?arguments[2]:0),o=t(r);if(s<e.length)return n.call(e,i,o,s)})(e.copyToChannel)})(Ve),qe=((t,e,n,i,r,s,o,a)=>{let l=null;return class u{constructor(u){if(null===r)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:c,numberOfChannels:h,sampleRate:d}={...I,...u};null===l&&(l=new r(1,1,44100));const p=null!==i&&e(s,s)?new i({length:c,numberOfChannels:h,sampleRate:d}):l.createBuffer(h,c,d);if(0===p.numberOfChannels)throw n();return"function"!==typeof p.copyFromChannel?(o(p),D(p)):e(O,(()=>O(p)))||a(p),t.add(p),p}static[Symbol.hasInstance](e){return null!==e&&"object"===typeof e&&Object.getPrototypeOf(e)===u.prototype||t.has(e)}}})(Ne,ce,Jt,Re,fe,(t=>()=>{if(null===t)return!1;try{new t({length:1,sampleRate:44100})}catch{return!1}return!0})(Re),Le,ze),je=(t=>(e,n)=>{const i=t(e,(t=>t.createGain()));return Bt(i,n),Qt(i,n,"gain"),i})(_e),We=(t=>(e,n)=>{const i=t(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(i).connect(i.context.destination);const r=()=>{n.removeEventListener("ended",r),n.disconnect(i),i.disconnect()};n.addEventListener("ended",r)})(je),Be=(t=>e=>{const n=t(e,(t=>t.createOscillator()));try{n.start(-1)}catch(i){return i instanceof RangeError}return!1})(_e),Ue=(t=>e=>{const n=e.createBuffer(1,1,44100),i=t(e,(t=>t.createBufferSource()));i.buffer=n,i.start(),i.stop();try{return i.stop(),!0}catch{return!1}})(_e),Qe=(t=>e=>{const n=t(e,(t=>t.createOscillator()));try{n.stop(-1)}catch(i){return i instanceof RangeError}return!1})(_e),He=(t=>(e,n)=>{const i=t(n,(t=>t.createGain()));e.connect(i);const r=(t=>()=>{t.call(e,i),e.removeEventListener("ended",r)})(e.disconnect);e.addEventListener("ended",r),Xt(e,i),e.stop=(t=>{let n=!1;return function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(n)try{t.call(e,r)}catch{i.gain.setValueAtTime(0,r)}else t.call(e,r),n=!0}})(e.stop)})(_e),$e=((t,e,n)=>async(i,r,s,o)=>{const a=e(i);await Promise.all(Array.from(a.activeInputs).map((async e=>{let[i,a]=e;const l=t(i),u=await l.render(i,r,o);n(i)||u.connect(s,a)})))})(be,G,tt),Ye=(t=>(e,n,i,r)=>t(n,e,i,r))($e),Ge=((t,e,n,i,r,s,o,a,l,u,c,h,d)=>(p,f)=>{const m=n(p,(t=>t.createBufferSource()));return Bt(m,f),Qt(m,f,"playbackRate"),Wt(m,f,"buffer"),Wt(m,f,"loop"),Wt(m,f,"loopEnd"),Wt(m,f,"loopStart"),e(i,(()=>i(p)))||(t=>{t.start=(e=>{let n=!1;return function(){let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2?arguments[2]:void 0;if(n)throw Rt();e.call(t,i,r,s),n=!0}})(t.start)})(m),e(r,r)||((t,e)=>{let n=Number.POSITIVE_INFINITY,i=Number.POSITIVE_INFINITY;var r;t.start=((r,s)=>function(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;if(r.call(t,o,a),l>=0&&l<Number.POSITIVE_INFINITY){const r=Math.max(o,e.currentTime),a=l/t.playbackRate.value;n=r+a,s.call(t,Math.min(n,i))}})(t.start,t.stop),t.stop=(r=t.stop,function(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;i=Math.max(s,e.currentTime),r.call(t,Math.min(n,i))})})(m,p),e(s,(()=>s(p)))||c(m),e(o,(()=>o(p)))||h(m,p),e(a,(()=>a(p)))||Ht(m),e(l,(()=>l(p)))||d(m,p),e(u,(()=>u(p)))||$t(m),t(p,m),m})(We,ce,_e,(t=>e=>{const n=t(e,(t=>t.createBufferSource()));n.start();try{n.start()}catch{return!0}return!1})(_e),(t=>()=>{if(null===t)return Promise.resolve(!1);const e=new t(1,1,44100),n=e.createBuffer(1,1,e.sampleRate),i=e.createBufferSource();return n.getChannelData(0)[0]=1,i.buffer=n,i.start(0,0,0),i.connect(e.destination),new Promise((t=>{e.oncomplete=e=>{let{renderedBuffer:n}=e;t(0===n.getChannelData(0)[0])},e.startRendering()}))})(fe),(t=>e=>{const n=t(e,(t=>t.createBufferSource())),i=e.createBuffer(1,1,44100);n.buffer=i;try{n.start(0,1)}catch{return!1}return!0})(_e),(t=>e=>{const n=t(e,(t=>t.createBufferSource()));n.start();try{n.stop()}catch{return!1}return!0})(_e),Be,Ue,Qe,(t=>{t.start=(e=>function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;const s=t.buffer,o=null===s?i:Math.min(s.duration,i);null!==s&&o>s.duration-.5/t.context.sampleRate?e.call(t,n,0,0):e.call(t,n,o,r)})(t.start)}),(t=>(e,n)=>{const i=n.createBuffer(1,1,n.sampleRate);null===e.buffer&&(e.buffer=i),t(e,"buffer",(t=>()=>{const n=t.call(e);return n===i?null:n}),(t=>n=>t.call(e,null===n?i:n)))})(le),He),Xe=((t,e)=>(n,i,r,s)=>(t(i).replay(r),e(i,n,r,s)))((t=>e=>{const n=t(e);if(null===n.renderer)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer})(G),$e),Ze=((t,e,n,i,r)=>()=>{const s=new WeakMap;let o=null,a=null;return{set start(t){o=t},set stop(t){a=t},render(l,u,c){const h=s.get(u);return void 0!==h?Promise.resolve(h):(async(l,u,c)=>{let h=n(l);const d=A(h,u);if(!d){const t={buffer:h.buffer,channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,loop:h.loop,loopEnd:h.loopEnd,loopStart:h.loopStart,playbackRate:h.playbackRate.value};h=e(u,t),null!==o&&h.start(...o),null!==a&&h.stop(a)}return s.set(u,h),d?await t(u,l.playbackRate,h.playbackRate,c):await i(u,l.playbackRate,h.playbackRate,c),await r(l,u,h,c),h})(l,u,c)}}})(Ye,Ge,X,Xe,we),Ke=((t,e,n,i,r,s,o,a,l,u,h,d)=>function(p,f,m){let g=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,v=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;const _=new c.AutomationEventList(m.defaultValue),y=f?i(_):null,b={get defaultValue(){return m.defaultValue},get maxValue(){return null===g?m.maxValue:g},get minValue(){return null===v?m.minValue:v},get value(){return m.value},set value(t){m.value=t,b.setValueAtTime(t,p.context.currentTime)},cancelAndHoldAtTime(t){if("function"===typeof m.cancelAndHoldAtTime)null===y&&_.flush(p.context.currentTime),_.add(r(t)),m.cancelAndHoldAtTime(t);else{const e=Array.from(_).pop();null===y&&_.flush(p.context.currentTime),_.add(r(t));const n=Array.from(_).pop();m.cancelScheduledValues(t),e!==n&&void 0!==n&&("exponentialRampToValue"===n.type?m.exponentialRampToValueAtTime(n.value,n.endTime):"linearRampToValue"===n.type?m.linearRampToValueAtTime(n.value,n.endTime):"setValue"===n.type?m.setValueAtTime(n.value,n.startTime):"setValueCurve"===n.type&&m.setValueCurveAtTime(n.values,n.startTime,n.duration))}return b},cancelScheduledValues:t=>(null===y&&_.flush(p.context.currentTime),_.add(s(t)),m.cancelScheduledValues(t),b),exponentialRampToValueAtTime:(t,e)=>(null===y&&_.flush(p.context.currentTime),_.add(o(t,e)),m.exponentialRampToValueAtTime(t,e),b),linearRampToValueAtTime:(t,e)=>(null===y&&_.flush(p.context.currentTime),_.add(a(t,e)),m.linearRampToValueAtTime(t,e),b),setTargetAtTime:(t,e,n)=>(null===y&&_.flush(p.context.currentTime),_.add(l(t,e,n)),m.setTargetAtTime(t,e,n),b),setValueAtTime:(t,e)=>(null===y&&_.flush(p.context.currentTime),_.add(u(t,e)),m.setValueAtTime(t,e),b),setValueCurveAtTime(t,e,n){if(null!==d&&"webkitAudioContext"===d.name){const i=e+n,r=p.context.sampleRate,s=Math.ceil(e*r),o=Math.floor(i*r),a=o-s,l=new Float32Array(a);for(let c=0;c<a;c+=1){const i=(t.length-1)/n*((s+c)/r-e),o=Math.floor(i),a=Math.ceil(i);l[c]=o===a?t[o]:(1-(i-o))*t[o]+(1-(a-i))*t[a]}null===y&&_.flush(p.context.currentTime),_.add(h(l,e,n)),m.setValueCurveAtTime(l,e,n);const u=o/r;u<i&&b.setValueAtTime(l[l.length-1],u),b.setValueAtTime(t[t.length-1],i)}else null===y&&_.flush(p.context.currentTime),_.add(h(t,e,n)),m.setValueCurveAtTime(t,e,n);return b}};return n.set(b,m),e.set(b,p),t(b,y),b})((Je=f,(t,e)=>{Je.set(t,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:e})}),Se,m,(t=>({replay(e){for(const n of t)if("exponentialRampToValue"===n.type){const{endTime:t,value:i}=n;e.exponentialRampToValueAtTime(i,t)}else if("linearRampToValue"===n.type){const{endTime:t,value:i}=n;e.linearRampToValueAtTime(i,t)}else if("setTarget"===n.type){const{startTime:t,target:i,timeConstant:r}=n;e.setTargetAtTime(i,t,r)}else if("setValue"===n.type){const{startTime:t,value:i}=n;e.setValueAtTime(i,t)}else{if("setValueCurve"!==n.type)throw new Error("Can't apply an unknown automation.");{const{duration:t,startTime:i,values:r}=n;e.setValueCurveAtTime(r,i,t)}}}})),c.createCancelAndHoldAutomationEvent,c.createCancelScheduledValuesAutomationEvent,c.createExponentialRampToValueAutomationEvent,c.createLinearRampToValueAutomationEvent,c.createSetTargetAutomationEvent,c.createSetValueAutomationEvent,c.createSetValueCurveAutomationEvent,ge);var Je;const tn=((t,e,n,i,r,s,o,a)=>class extends t{constructor(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:z;const a=s(t),l={...z,...i},u=r(a,l),c=o(a),h=c?e():null;super(t,!1,u,h),this._audioBufferSourceNodeRenderer=h,this._isBufferNullified=!1,this._isBufferSet=null!==i.buffer&&void 0!==i.buffer,this._nativeAudioBufferSourceNode=u,this._onended=null,this._playbackRate=n(this,c,u.playbackRate,N,P)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(t){try{this._nativeAudioBufferSourceNode.buffer=t}catch(e){if(null!==t||17!==e.code)throw e;if(null!==this._nativeAudioBufferSourceNode.buffer){const t=this._nativeAudioBufferSourceNode.buffer,e=t.numberOfChannels;for(let n=0;n<e;n+=1)t.getChannelData(n).fill(0);this._isBufferNullified=!0}}if(null!==t){if(this._isBufferSet)throw i();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(t){this._nativeAudioBufferSourceNode.loop=t}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(t){this._nativeAudioBufferSourceNode.loopEnd=t}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(t){this._nativeAudioBufferSourceNode.loopStart=t}get onended(){return this._onended}set onended(t){const e="function"===typeof t?a(this,t):null;this._nativeAudioBufferSourceNode.onended=e;const n=this._nativeAudioBufferSourceNode.onended;this._onended=null!==n&&n===e?t:n}get playbackRate(){return this._playbackRate}start(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;if(this._nativeAudioBufferSourceNode.start(t,e,n),null!==this._audioBufferSourceNodeRenderer)this._audioBufferSourceNodeRenderer.start=void 0===n?[t,e]:[t,e,n];else{F(this);const t=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",t),setTimeout((()=>L(this)),1e3)};this._nativeAudioBufferSourceNode.addEventListener("ended",t)}}stop(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this._nativeAudioBufferSourceNode.stop(t),null!==this._audioBufferSourceNodeRenderer&&(this._audioBufferSourceNodeRenderer.stop=t)}})(De,Ze,Ke,Rt,Ge,ke,me,ue),en=((t,e,n,i,r,s,o,a)=>class extends t{constructor(t,n){const i=s(t),l=o(i),u=r(i,n,l);super(t,!1,u,l?e(a):null),this._isNodeOfNativeOfflineAudioContext=l,this._nativeAudioDestinationNode=u}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(t){if(this._isNodeOfNativeOfflineAudioContext)throw i();if(t>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=t}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(t){if(this._isNodeOfNativeOfflineAudioContext)throw i();this._nativeAudioDestinationNode.channelCountMode=t}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}})(De,(t=>{let e=null;return{render:(n,i,r)=>(null===e&&(e=(async(e,n,i)=>{const r=n.destination;return await t(e,n,r,i),r})(n,i,r)),e)}}),M,Rt,((t,e)=>(n,i,r)=>{const s=n.destination;if(s.channelCount!==i)try{s.channelCount=i}catch{}r&&"explicit"!==s.channelCountMode&&(s.channelCountMode="explicit"),0===s.maxChannelCount&&Object.defineProperty(s,"maxChannelCount",{value:i});const o=t(n,{channelCount:i,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation,gain:1});return e(o,"channelCount",(t=>()=>t.call(o)),(t=>e=>{t.call(o,e);try{s.channelCount=e}catch(n){if(e>s.maxChannelCount)throw n}})),e(o,"channelCountMode",(t=>()=>t.call(o)),(t=>e=>{t.call(o,e),s.channelCountMode=e})),e(o,"channelInterpretation",(t=>()=>t.call(o)),(t=>e=>{t.call(o,e),s.channelInterpretation=e})),Object.defineProperty(o,"maxChannelCount",{get:()=>s.maxChannelCount}),o.connect(s),o})(je,le),ke,me,we),nn=(t=>(e,n)=>{const i=t(e,(t=>t.createBiquadFilter()));return Bt(i,n),Qt(i,n,"Q"),Qt(i,n,"detune"),Qt(i,n,"frequency"),Qt(i,n,"gain"),Wt(i,n,"type"),i})(_e),rn=((t,e,n,i,r)=>()=>{const s=new WeakMap;return{render(o,a,l){const u=s.get(a);return void 0!==u?Promise.resolve(u):(async(o,a,l)=>{let u=n(o);const c=A(u,a);if(!c){const t={Q:u.Q.value,channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,detune:u.detune.value,frequency:u.frequency.value,gain:u.gain.value,type:u.type};u=e(a,t)}return s.set(a,u),c?(await t(a,o.Q,u.Q,l),await t(a,o.detune,u.detune,l),await t(a,o.frequency,u.frequency,l),await t(a,o.gain,u.gain,l)):(await i(a,o.Q,u.Q,l),await i(a,o.detune,u.detune,l),await i(a,o.frequency,u.frequency,l),await i(a,o.gain,u.gain,l)),await r(o,a,u,l),u})(o,a,l)}}})(Ye,nn,X,Xe,we),sn=((t,e,n,i,r,s,o)=>class extends t{constructor(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:St;const a=s(t),l={...St,...i},u=r(a,l),c=o(a);super(t,!1,u,c?n():null),this._Q=e(this,c,u.Q,N,P),this._detune=e(this,c,u.detune,1200*Math.log2(N),-1200*Math.log2(N)),this._frequency=e(this,c,u.frequency,t.sampleRate/2,0),this._gain=e(this,c,u.gain,40*Math.log10(N),P),this._nativeBiquadFilterNode=u}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(t){this._nativeBiquadFilterNode.type=t}getFrequencyResponse(t,e,n){if(this._nativeBiquadFilterNode.getFrequencyResponse(t,e,n),t.length!==e.length||e.length!==n.length)throw i()}})(De,Ke,rn,Vt,nn,ke,me),on=((t,e)=>(n,i,r)=>{const s=new Set;return n.connect=(r=>function(o){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const u=0===s.size;if(e(o))return r.call(n,o,a,l),t(s,[o,a,l],(t=>t[0]===o&&t[1]===a&&t[2]===l),!0),u&&i(),o;r.call(n,o,a),t(s,[o,a],(t=>t[0]===o&&t[1]===a),!0),u&&i()})(n.connect),n.disconnect=(t=>(i,o,a)=>{const l=s.size>0;if(void 0===i)t.apply(n),s.clear();else if("number"===typeof i){t.call(n,i);for(const t of s)t[1]===i&&s.delete(t)}else{e(i)?t.call(n,i,o,a):t.call(n,i,o);for(const t of s)t[0]!==i||void 0!==o&&t[1]!==o||void 0!==a&&t[2]!==a||s.delete(t)}const u=0===s.size;l&&u&&r()})(n.disconnect),n})(K,Oe),an=((t,e,n)=>(i,r)=>{r.channelCount=1,r.channelCountMode="explicit",Object.defineProperty(r,"channelCount",{get:()=>1,set:()=>{throw t()}}),Object.defineProperty(r,"channelCountMode",{get:()=>"explicit",set:()=>{throw t()}});const s=e(i,(t=>t.createBufferSource()));n(r,(()=>{const t=r.numberOfInputs;for(let e=0;e<t;e+=1)s.connect(r,0,e)}),(()=>s.disconnect(r)))})(Rt,_e,on),ln=((t,e)=>(n,i)=>{const r=t(n,(t=>t.createChannelMerger(i.numberOfInputs)));return 1!==r.channelCount&&"explicit"!==r.channelCountMode&&e(n,r),Bt(r,i),r})(_e,an),un=((t,e,n)=>()=>{const i=new WeakMap;return{render(r,s,o){const a=i.get(s);return void 0!==a?Promise.resolve(a):(async(r,s,o)=>{let a=e(r);if(!A(a,s)){const e={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfInputs:a.numberOfInputs};a=t(s,e)}return i.set(s,a),await n(r,s,a,o),a})(r,s,o)}}})(ln,X,we),cn=((t,e,n,i,r)=>class extends t{constructor(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Et;const o=i(t),a={...Et,...s};super(t,!1,n(o,a),r(o)?e():null)}})(De,un,ln,ke,me),hn=(t=>(e,n)=>{const i=t(e,(t=>t.createChannelSplitter(n.numberOfOutputs)));return Bt(i,n),(t=>{const e=t.numberOfOutputs;Object.defineProperty(t,"channelCount",{get:()=>e,set:t=>{if(t!==e)throw Rt()}}),Object.defineProperty(t,"channelCountMode",{get:()=>"explicit",set:t=>{if("explicit"!==t)throw Rt()}}),Object.defineProperty(t,"channelInterpretation",{get:()=>"discrete",set:t=>{if("discrete"!==t)throw Rt()}})})(i),i})(_e),dn=((t,e,n)=>()=>{const i=new WeakMap;return{render(r,s,o){const a=i.get(s);return void 0!==a?Promise.resolve(a):(async(r,s,o)=>{let a=e(r);if(!A(a,s)){const e={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfOutputs:a.numberOfOutputs};a=t(s,e)}return i.set(s,a),await n(r,s,a,o),a})(r,s,o)}}})(hn,X,we),pn=((t,e,n,i,r)=>class extends t{constructor(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:At;const o=i(t),a=(t=>({...t,channelCount:t.numberOfOutputs}))({...At,...s});super(t,!1,n(o,a),r(o)?e():null)}})(De,dn,hn,ke,me),fn=((t,e,n,i)=>(r,s)=>{let{offset:o,...a}=s;const l=r.createBuffer(1,2,r.sampleRate),u=e(r,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),c=n(r,{...a,gain:o}),h=l.getChannelData(0);h[0]=1,h[1]=1,u.buffer=l,u.loop=!0;const d={get bufferSize(){},get channelCount(){return c.channelCount},set channelCount(t){c.channelCount=t},get channelCountMode(){return c.channelCountMode},set channelCountMode(t){c.channelCountMode=t},get channelInterpretation(){return c.channelInterpretation},set channelInterpretation(t){c.channelInterpretation=t},get context(){return c.context},get inputs(){return[]},get numberOfInputs(){return u.numberOfInputs},get numberOfOutputs(){return c.numberOfOutputs},get offset(){return c.gain},get onended(){return u.onended},set onended(t){u.onended=t},addEventListener(){return u.addEventListener(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2])},dispatchEvent(){return u.dispatchEvent(arguments.length<=0?void 0:arguments[0])},removeEventListener(){return u.removeEventListener(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2])},start(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;u.start.call(u,t)},stop(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;u.stop.call(u,t)}};return t(r,u),i(Xt(d,c),(()=>u.connect(c)),(()=>u.disconnect(c)))})(We,Ge,je,on),mn=((t,e,n,i,r,s)=>(o,a)=>{if(void 0===o.createConstantSource)return i(o,a);const l=n(o,(t=>t.createConstantSource()));return Bt(l,a),Qt(l,a,"offset"),e(r,(()=>r(o)))||Ht(l),e(s,(()=>s(o)))||$t(l),t(o,l),l})(We,ce,_e,fn,Be,Qe),gn=((t,e,n,i,r)=>()=>{const s=new WeakMap;let o=null,a=null;return{set start(t){o=t},set stop(t){a=t},render(l,u,c){const h=s.get(u);return void 0!==h?Promise.resolve(h):(async(l,u,c)=>{let h=n(l);const d=A(h,u);if(!d){const t={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,offset:h.offset.value};h=e(u,t),null!==o&&h.start(o),null!==a&&h.stop(a)}return s.set(u,h),d?await t(u,l.offset,h.offset,c):await i(u,l.offset,h.offset,c),await r(l,u,h,c),h})(l,u,c)}}})(Ye,mn,X,Xe,we),vn=((t,e,n,i,r,s,o)=>class extends t{constructor(t){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ot;const a=r(t),l={...Ot,...o},u=i(a,l),c=s(a),h=c?n():null;super(t,!1,u,h),this._constantSourceNodeRenderer=h,this._nativeConstantSourceNode=u,this._offset=e(this,c,u.offset,N,P),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(t){const e="function"===typeof t?o(this,t):null;this._nativeConstantSourceNode.onended=e;const n=this._nativeConstantSourceNode.onended;this._onended=null!==n&&n===e?t:n}start(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this._nativeConstantSourceNode.start(t),null!==this._constantSourceNodeRenderer)this._constantSourceNodeRenderer.start=t;else{F(this);const t=()=>{this._nativeConstantSourceNode.removeEventListener("ended",t),setTimeout((()=>L(this)),1e3)};this._nativeConstantSourceNode.addEventListener("ended",t)}}stop(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this._nativeConstantSourceNode.stop(t),null!==this._constantSourceNodeRenderer&&(this._constantSourceNodeRenderer.stop=t)}})(De,Ke,gn,mn,ke,me,ue),_n=((t,e,n)=>(i,r)=>{let{buffer:s,channelCount:o,channelCountMode:a,channelInterpretation:l,disableNormalization:u}=r;const c=t(i,(t=>t.createConvolver()));Bt(c,{channelCount:Math.max(o,2),channelCountMode:"max"===a?a:"clamped-max",channelInterpretation:l});const h=e(i,{channelCount:o,channelCountMode:a,channelInterpretation:l,gain:1}),d={get buffer(){return c.buffer},set buffer(t){c.buffer=t},get bufferSize(){},get channelCount(){return h.channelCount},set channelCount(t){t>2&&(c.channelCount=t),h.channelCount=t},get channelCountMode(){return h.channelCountMode},set channelCountMode(t){"max"===t&&(c.channelCountMode=t),h.channelCountMode=t},get channelInterpretation(){return c.channelInterpretation},set channelInterpretation(t){c.channelInterpretation=t,h.channelInterpretation=t},get context(){return c.context},get inputs(){return[c]},get numberOfInputs(){return c.numberOfInputs},get numberOfOutputs(){return c.numberOfOutputs},get normalize(){return c.normalize},set normalize(t){c.normalize=t},addEventListener(){return c.addEventListener(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2])},dispatchEvent(){return c.dispatchEvent(arguments.length<=0?void 0:arguments[0])},removeEventListener(){return c.removeEventListener(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2])}};u===d.normalize&&(d.normalize=!u),s!==d.buffer&&(d.buffer=s);return n(Xt(d,h),(()=>c.connect(h)),(()=>c.disconnect(h)))})(_e,je,on),yn=((t,e,n,i)=>(r,s)=>{const o=t(r,(t=>t.createConvolver()));try{o.channelCount=1}catch(a){return e(r,s)}if(Bt(o,s),s.disableNormalization===o.normalize&&(o.normalize=!s.disableNormalization),Wt(o,s,"buffer"),s.channelCount>2)throw n();if(i(o,"channelCount",(t=>()=>t.call(o)),(t=>e=>{if(e>2)throw n();return t.call(o,e)})),"max"===s.channelCountMode)throw n();return i(o,"channelCountMode",(t=>()=>t.call(o)),(t=>e=>{if("max"===e)throw n();return t.call(o,e)})),o})(_e,_n,Jt,le),bn=((t,e,n)=>()=>{const i=new WeakMap;return{render(r,s,o){const a=i.get(s);return void 0!==a?Promise.resolve(a):(async(r,s,o)=>{let a=e(r);if(!A(a,s)){const e={buffer:a.buffer,channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,disableNormalization:!a.normalize};a=t(s,e)}return i.set(s,a),U(a)?await n(r,s,a.inputs[0],o):await n(r,s,a,o),a})(r,s,o)}}})(yn,X,we),wn=((t,e,n,i,r)=>class extends t{constructor(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Mt;const o=i(t),a={...Mt,...s},l=n(o,a);super(t,!1,l,r(o)?e():null),this._isBufferNullified=!1,this._nativeConvolverNode=l}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(t){if(this._nativeConvolverNode.buffer=t,null===t&&null!==this._nativeConvolverNode.buffer){const t=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=t.createBuffer(1,1,t.sampleRate),this._isBufferNullified=!0}else this._isBufferNullified=!1}get normalize(){return this._nativeConvolverNode.normalize}set normalize(t){this._nativeConvolverNode.normalize=t}})(De,bn,yn,ke,me),xn=(t=>(e,n)=>{const i=t(e,(t=>t.createDelay(n.maxDelayTime)));return Bt(i,n),Qt(i,n,"delayTime"),i})(_e),Tn=((t,e,n,i,r)=>s=>{const o=new WeakMap;return{render(a,l,u){const c=o.get(l);return void 0!==c?Promise.resolve(c):(async(a,l,u)=>{let c=n(a);const h=A(c,l);if(!h){const t={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,delayTime:c.delayTime.value,maxDelayTime:s};c=e(l,t)}return o.set(l,c),h?await t(l,a.delayTime,c.delayTime,u):await i(l,a.delayTime,c.delayTime,u),await r(a,l,c,u),c})(a,l,u)}}})(Ye,xn,X,Xe,we),kn=((t,e,n,i,r,s)=>class extends t{constructor(t){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Dt;const a=r(t),l={...Dt,...o},u=i(a,l),c=s(a);super(t,!1,u,c?n(l.maxDelayTime):null),this._delayTime=e(this,c,u.delayTime,l.maxDelayTime,0)}get delayTime(){return this._delayTime}})(De,Ke,Tn,xn,ke,me),Cn=((t,e)=>(n,i)=>{const r=t(n,(t=>t.createDynamicsCompressor()));if(Bt(r,i),i.channelCount>2)throw e();if("max"===i.channelCountMode)throw e();return Qt(r,i,"attack"),Qt(r,i,"knee"),Qt(r,i,"ratio"),Qt(r,i,"release"),Qt(r,i,"threshold"),r})(_e,Jt),Sn=((t,e,n,i,r)=>()=>{const s=new WeakMap;return{render(o,a,l){const u=s.get(a);return void 0!==u?Promise.resolve(u):(async(o,a,l)=>{let u=n(o);const c=A(u,a);if(!c){const t={attack:u.attack.value,channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,knee:u.knee.value,ratio:u.ratio.value,release:u.release.value,threshold:u.threshold.value};u=e(a,t)}return s.set(a,u),c?(await t(a,o.attack,u.attack,l),await t(a,o.knee,u.knee,l),await t(a,o.ratio,u.ratio,l),await t(a,o.release,u.release,l),await t(a,o.threshold,u.threshold,l)):(await i(a,o.attack,u.attack,l),await i(a,o.knee,u.knee,l),await i(a,o.ratio,u.ratio,l),await i(a,o.release,u.release,l),await i(a,o.threshold,u.threshold,l)),await r(o,a,u,l),u})(o,a,l)}}})(Ye,Cn,X,Xe,we),En=((t,e,n,i,r,s,o)=>class extends t{constructor(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pt;const a=s(t),l={...Pt,...r},u=i(a,l),c=o(a);super(t,!1,u,c?n():null),this._attack=e(this,c,u.attack,1,0),this._knee=e(this,c,u.knee,40,0),this._nativeDynamicsCompressorNode=u,this._ratio=e(this,c,u.ratio,20,1),this._release=e(this,c,u.release,1,0),this._threshold=e(this,c,u.threshold,0,-100)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(t){const e=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=t,t>2)throw this._nativeDynamicsCompressorNode.channelCount=e,r()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(t){const e=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=t,"max"===t)throw this._nativeDynamicsCompressorNode.channelCountMode=e,r()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return"number"===typeof this._nativeDynamicsCompressorNode.reduction.value?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}})(De,Ke,Sn,Cn,Jt,ke,me),An=((t,e,n,i,r)=>()=>{const s=new WeakMap;return{render(o,a,l){const u=s.get(a);return void 0!==u?Promise.resolve(u):(async(o,a,l)=>{let u=n(o);const c=A(u,a);if(!c){const t={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,gain:u.gain.value};u=e(a,t)}return s.set(a,u),c?await t(a,o.gain,u.gain,l):await i(a,o.gain,u.gain,l),await r(o,a,u,l),u})(o,a,l)}}})(Ye,je,X,Xe,we),On=((t,e,n,i,r,s)=>class extends t{constructor(t){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Nt;const a=r(t),l={...Nt,...o},u=i(a,l),c=s(a);super(t,!1,u,c?n():null),this._gain=e(this,c,u.gain,N,P)}get gain(){return this._gain}})(De,Ke,An,je,ke,me),Mn=(t=>(e,n,i,r)=>t(e,(t=>t.createScriptProcessor(n,i,r))))(_e),Dn=((t,e,n,i)=>(r,s,o)=>{let{channelCount:a,channelCountMode:l,channelInterpretation:u,feedback:c,feedforward:h}=o;const d=Yt(s,r.sampleRate),p=c.length,f=h.length,m=Math.min(p,f);if(0===c.length||c.length>20)throw i();if(0===c[0])throw e();if(0===h.length||h.length>20)throw i();if(0===h[0])throw e();if(1!==c[0]){for(let t=0;t<f;t+=1)h[t]/=c[0];for(let t=1;t<p;t+=1)c[t]/=c[0]}const g=n(r,d,a,a);g.channelCount=a,g.channelCountMode=l,g.channelInterpretation=u;const v=[],_=[],y=[];for(let t=0;t<a;t+=1){v.push(0);const t=new Float32Array(32),e=new Float32Array(32);t.fill(0),e.fill(0),_.push(t),y.push(e)}g.onaudioprocess=t=>{const e=t.inputBuffer,n=t.outputBuffer,i=e.numberOfChannels;for(let r=0;r<i;r+=1){const t=e.getChannelData(r),i=n.getChannelData(r);v[r]=Lt(c,p,h,f,m,_[r],y[r],v[r],32,t,i)}};const b=r.sampleRate/2;return Xt({get bufferSize(){return d},get channelCount(){return g.channelCount},set channelCount(t){g.channelCount=t},get channelCountMode(){return g.channelCountMode},set channelCountMode(t){g.channelCountMode=t},get channelInterpretation(){return g.channelInterpretation},set channelInterpretation(t){g.channelInterpretation=t},get context(){return g.context},get inputs(){return[g]},get numberOfInputs(){return g.numberOfInputs},get numberOfOutputs(){return g.numberOfOutputs},addEventListener(){return g.addEventListener(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2])},dispatchEvent(){return g.dispatchEvent(arguments.length<=0?void 0:arguments[0])},getFrequencyResponse(e,n,i){if(e.length!==n.length||n.length!==i.length)throw t();const r=e.length;for(let t=0;t<r;t+=1){const r=-Math.PI*(e[t]/b),s=[Math.cos(r),Math.sin(r)],o=Zt(Kt(h,s),Kt(c,s));n[t]=Math.sqrt(o[0]*o[0]+o[1]*o[1]),i[t]=Math.atan2(o[1],o[0])}},removeEventListener(){return g.removeEventListener(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2])}},g)})(Vt,Rt,Mn,Jt),In=((t,e,n,i)=>r=>t(qt,(()=>qt(r)))?Promise.resolve(t(i,i)).then((t=>{if(!t){const t=n(r,512,0,1);r.oncomplete=()=>{t.onaudioprocess=null,t.disconnect()},t.onaudioprocess=()=>r.currentTime,t.connect(r.destination)}return r.startRendering()})):new Promise((t=>{const n=e(r,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});r.oncomplete=e=>{n.disconnect(),t(e.renderedBuffer)},n.connect(r.destination),r.startRendering()})))(ce,je,Mn,((t,e)=>()=>{if(null===e)return Promise.resolve(!1);const n=new e(1,1,44100),i=t(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise((t=>{n.oncomplete=()=>{i.disconnect(),t(0!==n.currentTime)},n.startRendering()}))})(je,fe)),Pn=((t,e,n,i,r,s)=>(o,a)=>{const l=new WeakMap;let u=null;const c=async(c,h,d)=>{let p=null,f=n(c);const m=A(f,h);if(void 0===h.createIIRFilter?p=t(h,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):m||(f=e(h,(t=>t.createIIRFilter(a,o)))),l.set(h,null===p?f:p),null!==p){if(null===u){if(null===i)throw new Error("Missing the native OfflineAudioContext constructor.");const t=new i(c.context.destination.channelCount,c.context.length,h.sampleRate);u=(async()=>{await r(c,t,t.destination,d);return((t,e,n,i)=>{const r=n.length,s=i.length,o=Math.min(r,s);if(1!==n[0]){for(let t=0;t<r;t+=1)i[t]/=n[0];for(let t=1;t<s;t+=1)n[t]/=n[0]}const a=new Float32Array(32),l=new Float32Array(32),u=e.createBuffer(t.numberOfChannels,t.length,t.sampleRate),c=t.numberOfChannels;for(let h=0;h<c;h+=1){const e=t.getChannelData(h),c=u.getChannelData(h);a.fill(0),l.fill(0),Lt(n,r,i,s,o,a,l,0,32,e,c)}return u})(await s(t),h,o,a)})()}const t=await u;return p.buffer=t,p.start(0),p}return await r(c,h,f,d),f};return{render(t,e,n){const i=l.get(e);return void 0!==i?Promise.resolve(i):c(t,e,n)}}})(Ge,_e,X,fe,we,In),Nn=((t,e)=>(n,i,r)=>{if(void 0===n.createIIRFilter)return e(n,i,r);const s=t(n,(t=>t.createIIRFilter(r.feedforward,r.feedback)));return Bt(s,r),s})(_e,Dn),Rn=((t,e,n,i,r)=>class extends t{constructor(t,s){const o=i(t),a=r(o),l={...Ft,...s},u=e(o,a?null:t.baseLatency,l);super(t,!1,u,a?n(l.feedback,l.feedforward):null),(t=>{var e;t.getFrequencyResponse=(e=t.getFrequencyResponse,(n,i,r)=>{if(n.length!==i.length||i.length!==r.length)throw Vt();return e.call(t,n,i,r)})})(u),this._nativeIIRFilterNode=u}getFrequencyResponse(t,e,n){return this._nativeIIRFilterNode.getFrequencyResponse(t,e,n)}})(De,Nn,Pn,ke,me),Vn=((t,e,n,i,r)=>(s,o)=>{const a=o.listener,{forwardX:l,forwardY:u,forwardZ:c,positionX:h,positionY:d,positionZ:p,upX:f,upY:m,upZ:g}=void 0===a.forwardX?(()=>{const l=e(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),u=r(o),c=i(o,256,9,0),h=(e,i)=>{const r=n(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:i});return r.connect(l,0,e),r.start(),Object.defineProperty(r.offset,"defaultValue",{get:()=>i}),t({context:s},u,r.offset,N,P)};let d=[0,0,-1,0,1,0],p=[0,0,0];return c.onaudioprocess=t=>{let{inputBuffer:e}=t;const n=[e.getChannelData(0)[0],e.getChannelData(1)[0],e.getChannelData(2)[0],e.getChannelData(3)[0],e.getChannelData(4)[0],e.getChannelData(5)[0]];n.some(((t,e)=>t!==d[e]))&&(a.setOrientation(...n),d=n);const i=[e.getChannelData(6)[0],e.getChannelData(7)[0],e.getChannelData(8)[0]];i.some(((t,e)=>t!==p[e]))&&(a.setPosition(...i),p=i)},l.connect(c),{forwardX:h(0,0),forwardY:h(1,0),forwardZ:h(2,-1),positionX:h(6,0),positionY:h(7,0),positionZ:h(8,0),upX:h(3,0),upY:h(4,1),upZ:h(5,0)}})():a;return{get forwardX(){return l},get forwardY(){return u},get forwardZ(){return c},get positionX(){return h},get positionY(){return d},get positionZ(){return p},get upX(){return f},get upY(){return m},get upZ(){return g}}})(Ke,ln,mn,Mn,me),Fn=new WeakMap,Ln=((t,e,n,i,r,s)=>class extends n{constructor(n,s){super(n),this._nativeContext=n,v.set(this,n);const o=n.sampleRate;Object.defineProperty(n,"sampleRate",{get:()=>o}),i(n)&&r.set(n,new Set),this._destination=new t(this,s),this._listener=e(this,n),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(t){const e="function"===typeof t?s(this,t):null;this._nativeContext.onstatechange=e;const n=this._nativeContext.onstatechange;this._onstatechange=null!==n&&n===e?t:n}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}})(en,Vn,Ee,me,Fn,ue),zn=((t,e,n,i,r,s,o)=>(a,l)=>{const u=n(a,(t=>t.createOscillator()));return Bt(u,l),Qt(u,l,"detune"),Qt(u,l,"frequency"),void 0!==l.periodicWave?u.setPeriodicWave(l.periodicWave):Wt(u,l,"type"),e(i,(()=>i(a)))||Ht(u),e(r,(()=>r(a)))||o(u,a),e(s,(()=>s(a)))||$t(u),t(a,u),u})(We,ce,_e,Be,Ue,Qe,He),qn=((t,e,n,i,r)=>()=>{const s=new WeakMap;let o=null,a=null,l=null;return{set periodicWave(t){o=t},set start(t){a=t},set stop(t){l=t},render(u,c,h){const d=s.get(c);return void 0!==d?Promise.resolve(d):(async(u,c,h)=>{let d=n(u);const p=A(d,c);if(!p){const t={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,detune:d.detune.value,frequency:d.frequency.value,periodicWave:null===o?void 0:o,type:d.type};d=e(c,t),null!==a&&d.start(a),null!==l&&d.stop(l)}return s.set(c,d),p?(await t(c,u.detune,d.detune,h),await t(c,u.frequency,d.frequency,h)):(await i(c,u.detune,d.detune,h),await i(c,u.frequency,d.frequency,h)),await r(u,c,d,h),d})(u,c,h)}}})(Ye,zn,X,Xe,we),jn=((t,e,n,i,r,s,o,a)=>class extends t{constructor(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ee;const a=s(t),l={...ee,...n},u=i(a,l),c=o(a),h=c?r():null,d=t.sampleRate/2;super(t,!1,u,h),this._detune=e(this,c,u.detune,153600,-153600),this._frequency=e(this,c,u.frequency,d,-d),this._nativeOscillatorNode=u,this._onended=null,this._oscillatorNodeRenderer=h,null!==this._oscillatorNodeRenderer&&void 0!==l.periodicWave&&(this._oscillatorNodeRenderer.periodicWave=l.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(t){const e="function"===typeof t?a(this,t):null;this._nativeOscillatorNode.onended=e;const n=this._nativeOscillatorNode.onended;this._onended=null!==n&&n===e?t:n}get type(){return this._nativeOscillatorNode.type}set type(t){if(this._nativeOscillatorNode.type=t,"custom"===t)throw n();null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(t){this._nativeOscillatorNode.setPeriodicWave(t),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=t)}start(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this._nativeOscillatorNode.start(t),null!==this._oscillatorNodeRenderer)this._oscillatorNodeRenderer.start=t;else{F(this);const t=()=>{this._nativeOscillatorNode.removeEventListener("ended",t),setTimeout((()=>L(this)),1e3)};this._nativeOscillatorNode.addEventListener("ended",t)}}stop(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this._nativeOscillatorNode.stop(t),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.stop=t)}})(De,Ke,Rt,zn,qn,ke,me,ue),Wn=(t=>(e,n)=>{const i=t(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),r=e.createBuffer(1,2,e.sampleRate);return i.buffer=r,i.loop=!0,i.connect(n),i.start(),()=>{i.stop(),i.disconnect(n)}})(Ge),Bn=((t,e,n,i,r,s)=>(o,a)=>{let{curve:l,oversample:u,...c}=a;const h=n(o,(t=>t.createWaveShaper())),d=n(o,(t=>t.createWaveShaper()));Bt(h,c),Bt(d,c);const p=i(o,{...c,gain:1}),f=i(o,{...c,gain:-1}),m=i(o,{...c,gain:1}),g=i(o,{...c,gain:-1});let v=null,_=!1,y=null;const b={get bufferSize(){},get channelCount(){return h.channelCount},set channelCount(t){p.channelCount=t,f.channelCount=t,h.channelCount=t,m.channelCount=t,d.channelCount=t,g.channelCount=t},get channelCountMode(){return h.channelCountMode},set channelCountMode(t){p.channelCountMode=t,f.channelCountMode=t,h.channelCountMode=t,m.channelCountMode=t,d.channelCountMode=t,g.channelCountMode=t},get channelInterpretation(){return h.channelInterpretation},set channelInterpretation(t){p.channelInterpretation=t,f.channelInterpretation=t,h.channelInterpretation=t,m.channelInterpretation=t,d.channelInterpretation=t,g.channelInterpretation=t},get context(){return h.context},get curve(){return y},set curve(n){if(null!==l&&l.length<2)throw e();if(null===n)h.curve=n,d.curve=n;else{const t=n.length,e=new Float32Array(t+2-t%2),i=new Float32Array(t+2-t%2);e[0]=n[0],i[0]=-n[t-1];const r=Math.ceil((t+1)/2),s=(t+1)/2-1;for(let o=1;o<r;o+=1){const a=o/r*s,l=Math.floor(a),u=Math.ceil(a);e[o]=l===u?n[l]:(1-(a-l))*n[l]+(1-(u-a))*n[u],i[o]=l===u?-n[t-1-l]:-(1-(a-l))*n[t-1-l]-(1-(u-a))*n[t-1-u]}e[r]=t%2===1?n[r-1]:(n[r-2]+n[r-1])/2,h.curve=e,d.curve=i}y=n,_&&(r(y)&&null===v?v=t(o,p):null!==v&&(v(),v=null))},get inputs(){return[p]},get numberOfInputs(){return h.numberOfInputs},get numberOfOutputs(){return h.numberOfOutputs},get oversample(){return h.oversample},set oversample(t){h.oversample=t,d.oversample=t},addEventListener(){return p.addEventListener(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2])},dispatchEvent(){return p.dispatchEvent(arguments.length<=0?void 0:arguments[0])},removeEventListener(){return p.removeEventListener(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2])}};l!==b.curve&&(b.curve=l),u!==b.oversample&&(b.oversample=u);return s(Xt(b,m),(()=>{p.connect(h).connect(m),p.connect(f).connect(d).connect(g).connect(m),_=!0,r(y)&&(v=t(o,p))}),(()=>{p.disconnect(h),h.disconnect(m),p.disconnect(f),f.disconnect(d),d.disconnect(g),g.disconnect(m),_=!1,null!==v&&(v(),v=null)}))})(Wn,Rt,_e,je,ae,on),Un=((t,e,n,i,r,s,o)=>(a,l)=>{const u=n(a,(t=>t.createWaveShaper()));try{return u.curve=new Float32Array([1]),i(a,l)}catch{}Bt(u,l);const c=l.curve;if(null!==c&&c.length<2)throw e();Wt(u,l,"curve"),Wt(u,l,"oversample");let h=null,d=!1;o(u,"curve",(t=>()=>t.call(u)),(e=>n=>(e.call(u,n),d&&(r(n)&&null===h?h=t(a,u):r(n)||null===h||(h(),h=null)),n)));return s(u,(()=>{d=!0,r(u.curve)&&(h=t(a,u))}),(()=>{d=!1,null!==h&&(h(),h=null)}))})(Wn,Rt,_e,Bn,ae,on,le),Qn=((t,e,n,i,r,s,o,a,l,u)=>(c,h)=>{let{coneInnerAngle:d,coneOuterAngle:p,coneOuterGain:f,distanceModel:m,maxDistance:g,orientationX:v,orientationY:_,orientationZ:y,panningModel:b,positionX:w,positionY:x,positionZ:T,refDistance:k,rolloffFactor:C,...S}=h;const E=n(c,(t=>t.createPanner()));if(S.channelCount>2)throw a();if("max"===S.channelCountMode)throw a();Bt(E,S);const A={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},O=i(c,{...A,channelInterpretation:"speakers",numberOfInputs:6}),M=r(c,{...S,gain:1}),D=r(c,{...A,gain:1}),I=r(c,{...A,gain:0}),P=r(c,{...A,gain:0}),N=r(c,{...A,gain:0}),R=r(c,{...A,gain:0}),V=r(c,{...A,gain:0}),F=s(c,256,6,1),L=o(c,{...A,curve:new Float32Array([1,1]),oversample:"none"});let z=[v,_,y],q=[w,x,T];F.onaudioprocess=t=>{let{inputBuffer:e}=t;const n=[e.getChannelData(0)[0],e.getChannelData(1)[0],e.getChannelData(2)[0]];n.some(((t,e)=>t!==z[e]))&&(E.setOrientation(...n),z=n);const i=[e.getChannelData(3)[0],e.getChannelData(4)[0],e.getChannelData(5)[0]];i.some(((t,e)=>t!==q[e]))&&(E.setPosition(...i),q=i)},Object.defineProperty(I.gain,"defaultValue",{get:()=>0}),Object.defineProperty(P.gain,"defaultValue",{get:()=>0}),Object.defineProperty(N.gain,"defaultValue",{get:()=>0}),Object.defineProperty(R.gain,"defaultValue",{get:()=>0}),Object.defineProperty(V.gain,"defaultValue",{get:()=>0});const j={get bufferSize(){},get channelCount(){return E.channelCount},set channelCount(t){if(t>2)throw a();M.channelCount=t,E.channelCount=t},get channelCountMode(){return E.channelCountMode},set channelCountMode(t){if("max"===t)throw a();M.channelCountMode=t,E.channelCountMode=t},get channelInterpretation(){return E.channelInterpretation},set channelInterpretation(t){M.channelInterpretation=t,E.channelInterpretation=t},get coneInnerAngle(){return E.coneInnerAngle},set coneInnerAngle(t){E.coneInnerAngle=t},get coneOuterAngle(){return E.coneOuterAngle},set coneOuterAngle(t){E.coneOuterAngle=t},get coneOuterGain(){return E.coneOuterGain},set coneOuterGain(t){if(t<0||t>1)throw e();E.coneOuterGain=t},get context(){return E.context},get distanceModel(){return E.distanceModel},set distanceModel(t){E.distanceModel=t},get inputs(){return[M]},get maxDistance(){return E.maxDistance},set maxDistance(t){if(t<0)throw new RangeError;E.maxDistance=t},get numberOfInputs(){return E.numberOfInputs},get numberOfOutputs(){return E.numberOfOutputs},get orientationX(){return D.gain},get orientationY(){return I.gain},get orientationZ(){return P.gain},get panningModel(){return E.panningModel},set panningModel(t){if(E.panningModel=t,E.panningModel!==t&&"HRTF"===t)throw a()},get positionX(){return N.gain},get positionY(){return R.gain},get positionZ(){return V.gain},get refDistance(){return E.refDistance},set refDistance(t){if(t<0)throw new RangeError;E.refDistance=t},get rolloffFactor(){return E.rolloffFactor},set rolloffFactor(t){if(t<0)throw new RangeError;E.rolloffFactor=t},addEventListener(){return M.addEventListener(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2])},dispatchEvent(){return M.dispatchEvent(arguments.length<=0?void 0:arguments[0])},removeEventListener(){return M.removeEventListener(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2])}};d!==j.coneInnerAngle&&(j.coneInnerAngle=d),p!==j.coneOuterAngle&&(j.coneOuterAngle=p),f!==j.coneOuterGain&&(j.coneOuterGain=f),m!==j.distanceModel&&(j.distanceModel=m),g!==j.maxDistance&&(j.maxDistance=g),v!==j.orientationX.value&&(j.orientationX.value=v),_!==j.orientationY.value&&(j.orientationY.value=_),y!==j.orientationZ.value&&(j.orientationZ.value=y),b!==j.panningModel&&(j.panningModel=b),w!==j.positionX.value&&(j.positionX.value=w),x!==j.positionY.value&&(j.positionY.value=x),T!==j.positionZ.value&&(j.positionZ.value=T),k!==j.refDistance&&(j.refDistance=k),C!==j.rolloffFactor&&(j.rolloffFactor=C),1===z[0]&&0===z[1]&&0===z[2]||E.setOrientation(...z),0===q[0]&&0===q[1]&&0===q[2]||E.setPosition(...q);return u(Xt(j,E),(()=>{M.connect(E),t(M,L,0,0),L.connect(D).connect(O,0,0),L.connect(I).connect(O,0,1),L.connect(P).connect(O,0,2),L.connect(N).connect(O,0,3),L.connect(R).connect(O,0,4),L.connect(V).connect(O,0,5),O.connect(F).connect(c.destination)}),(()=>{M.disconnect(E),l(M,L,0,0),L.disconnect(D),D.disconnect(O),L.disconnect(I),I.disconnect(O),L.disconnect(P),P.disconnect(O),L.disconnect(N),N.disconnect(O),L.disconnect(R),R.disconnect(O),L.disconnect(V),V.disconnect(O),O.disconnect(F),F.disconnect(c.destination)}))})(Q,Rt,_e,ln,je,Mn,Un,Jt,$,on),Hn=((t,e)=>(n,i)=>{const r=t(n,(t=>t.createPanner()));return void 0===r.orientationX?e(n,i):(Bt(r,i),Qt(r,i,"orientationX"),Qt(r,i,"orientationY"),Qt(r,i,"orientationZ"),Qt(r,i,"positionX"),Qt(r,i,"positionY"),Qt(r,i,"positionZ"),Wt(r,i,"coneInnerAngle"),Wt(r,i,"coneOuterAngle"),Wt(r,i,"coneOuterGain"),Wt(r,i,"distanceModel"),Wt(r,i,"maxDistance"),Wt(r,i,"panningModel"),Wt(r,i,"refDistance"),Wt(r,i,"rolloffFactor"),r)})(_e,Qn),$n=((t,e,n,i,r,s,o,a,l,u)=>()=>{const c=new WeakMap;let h=null;return{render(d,p,f){const m=c.get(p);return void 0!==m?Promise.resolve(m):(async(d,p,f)=>{let m=null,g=s(d);const v={channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation},_={...v,coneInnerAngle:g.coneInnerAngle,coneOuterAngle:g.coneOuterAngle,coneOuterGain:g.coneOuterGain,distanceModel:g.distanceModel,maxDistance:g.maxDistance,panningModel:g.panningModel,refDistance:g.refDistance,rolloffFactor:g.rolloffFactor},y=A(g,p);if("bufferSize"in g)m=i(p,{...v,gain:1});else if(!y){const t={..._,orientationX:g.orientationX.value,orientationY:g.orientationY.value,orientationZ:g.orientationZ.value,positionX:g.positionX.value,positionY:g.positionY.value,positionZ:g.positionZ.value};g=r(p,t)}if(c.set(p,null===m?g:m),null!==m){if(null===h){if(null===o)throw new Error("Missing the native OfflineAudioContext constructor.");const t=new o(6,d.context.length,p.sampleRate),i=e(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});i.connect(t.destination),h=(async()=>{const e=await Promise.all([d.orientationX,d.orientationY,d.orientationZ,d.positionX,d.positionY,d.positionZ].map((async(e,i)=>{const r=n(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:0===i?1:0});return await a(t,e,r.offset,f),r})));for(let t=0;t<6;t+=1)e[t].connect(i,0,t),e[t].start(0);return u(t)})()}const t=await h,s=i(p,{...v,gain:1});await l(d,p,s,f);const c=[];for(let e=0;e<t.numberOfChannels;e+=1)c.push(t.getChannelData(e));let g=[c[0][0],c[1][0],c[2][0]],y=[c[3][0],c[4][0],c[5][0]],b=i(p,{...v,gain:1}),w=r(p,{..._,orientationX:g[0],orientationY:g[1],orientationZ:g[2],positionX:y[0],positionY:y[1],positionZ:y[2]});s.connect(b).connect(w.inputs[0]),w.connect(m);for(let e=128;e<t.length;e+=128){const t=[c[0][e],c[1][e],c[2][e]],n=[c[3][e],c[4][e],c[5][e]];if(t.some(((t,e)=>t!==g[e]))||n.some(((t,e)=>t!==y[e]))){g=t,y=n;const o=e/p.sampleRate;b.gain.setValueAtTime(0,o),b=i(p,{...v,gain:0}),w=r(p,{..._,orientationX:g[0],orientationY:g[1],orientationZ:g[2],positionX:y[0],positionY:y[1],positionZ:y[2]}),b.gain.setValueAtTime(1,o),s.connect(b).connect(w.inputs[0]),w.connect(m)}}return m}return y?(await t(p,d.orientationX,g.orientationX,f),await t(p,d.orientationY,g.orientationY,f),await t(p,d.orientationZ,g.orientationZ,f),await t(p,d.positionX,g.positionX,f),await t(p,d.positionY,g.positionY,f),await t(p,d.positionZ,g.positionZ,f)):(await a(p,d.orientationX,g.orientationX,f),await a(p,d.orientationY,g.orientationY,f),await a(p,d.orientationZ,g.orientationZ,f),await a(p,d.positionX,g.positionX,f),await a(p,d.positionY,g.positionY,f),await a(p,d.positionZ,g.positionZ,f)),U(g)?await l(d,p,g.inputs[0],f):await l(d,p,g,f),g})(d,p,f)}}})(Ye,ln,mn,je,Hn,X,fe,Xe,we,In),Yn=((t,e,n,i,r,s)=>class extends t{constructor(t){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ne;const a=r(t),l={...ne,...o},u=n(a,l),c=s(a);super(t,!1,u,c?i():null),this._nativePannerNode=u,this._orientationX=e(this,c,u.orientationX,N,P),this._orientationY=e(this,c,u.orientationY,N,P),this._orientationZ=e(this,c,u.orientationZ,N,P),this._positionX=e(this,c,u.positionX,N,P),this._positionY=e(this,c,u.positionY,N,P),this._positionZ=e(this,c,u.positionZ,N,P)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(t){this._nativePannerNode.coneInnerAngle=t}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(t){this._nativePannerNode.coneOuterAngle=t}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(t){this._nativePannerNode.coneOuterGain=t}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(t){this._nativePannerNode.distanceModel=t}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(t){this._nativePannerNode.maxDistance=t}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(t){this._nativePannerNode.panningModel=t}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(t){this._nativePannerNode.refDistance=t}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(t){this._nativePannerNode.rolloffFactor=t}})(De,Ke,Hn,$n,ke,me),Gn=(t=>(e,n)=>{let{disableNormalization:i,imag:r,real:s}=n;const o=t(e),a=new Float32Array(r),l=new Float32Array(s);return null!==o?o.createPeriodicWave(l,a,{disableNormalization:i}):e.createPeriodicWave(l,a,{disableNormalization:i})})(ve),Xn=((t,e,n)=>class i{constructor(i,r){const s=e(i),o={...ie,...r},a=t(s,o);return n.add(a),a}static[Symbol.hasInstance](t){return null!==t&&"object"===typeof t&&Object.getPrototypeOf(t)===i.prototype||n.has(t)}})(Gn,ke,new WeakSet),Zn=((t,e,n,i,r,s)=>{const o=16385,a=new Float32Array([1,1]),l=Math.PI/2,u={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},c={...u,oversample:"none"},h=(t,s,h,d,p)=>{if(1===s)return((t,e,r,s)=>{const h=new Float32Array(o),d=new Float32Array(o);for(let n=0;n<o;n+=1){const t=n/16384*l;h[n]=Math.cos(t),d[n]=Math.sin(t)}const p=n(t,{...u,gain:0}),f=i(t,{...c,curve:h}),m=i(t,{...c,curve:a}),g=n(t,{...u,gain:0}),v=i(t,{...c,curve:d});return{connectGraph(){e.connect(p),e.connect(m.inputs[0]),e.connect(g),m.connect(r),r.connect(f.inputs[0]),r.connect(v.inputs[0]),f.connect(p.gain),v.connect(g.gain),p.connect(s,0,0),g.connect(s,0,1)},disconnectGraph(){e.disconnect(p),e.disconnect(m.inputs[0]),e.disconnect(g),m.disconnect(r),r.disconnect(f.inputs[0]),r.disconnect(v.inputs[0]),f.disconnect(p.gain),v.disconnect(g.gain),p.disconnect(s,0,0),g.disconnect(s,0,1)}}})(t,h,d,p);if(2===s)return((t,r,s,h)=>{const d=new Float32Array(o),p=new Float32Array(o),f=new Float32Array(o),m=new Float32Array(o),g=Math.floor(8192.5);for(let e=0;e<o;e+=1)if(e>g){const t=(e-g)/(16384-g)*l;d[e]=Math.cos(t),p[e]=Math.sin(t),f[e]=0,m[e]=1}else{const t=e/(16384-g)*l;d[e]=1,p[e]=0,f[e]=Math.cos(t),m[e]=Math.sin(t)}const v=e(t,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),_=n(t,{...u,gain:0}),y=i(t,{...c,curve:d}),b=n(t,{...u,gain:0}),w=i(t,{...c,curve:p}),x=i(t,{...c,curve:a}),T=n(t,{...u,gain:0}),k=i(t,{...c,curve:f}),C=n(t,{...u,gain:0}),S=i(t,{...c,curve:m});return{connectGraph(){r.connect(v),r.connect(x.inputs[0]),v.connect(_,1),v.connect(b,1),v.connect(T,1),v.connect(C,1),x.connect(s),s.connect(y.inputs[0]),s.connect(w.inputs[0]),s.connect(k.inputs[0]),s.connect(S.inputs[0]),y.connect(_.gain),w.connect(b.gain),k.connect(T.gain),S.connect(C.gain),_.connect(h,0,0),T.connect(h,0,0),b.connect(h,0,1),C.connect(h,0,1)},disconnectGraph(){r.disconnect(v),r.disconnect(x.inputs[0]),v.disconnect(_,1),v.disconnect(b,1),v.disconnect(T,1),v.disconnect(C,1),x.disconnect(s),s.disconnect(y.inputs[0]),s.disconnect(w.inputs[0]),s.disconnect(k.inputs[0]),s.disconnect(S.inputs[0]),y.disconnect(_.gain),w.disconnect(b.gain),k.disconnect(T.gain),S.disconnect(C.gain),_.disconnect(h,0,0),T.disconnect(h,0,0),b.disconnect(h,0,1),C.disconnect(h,0,1)}}})(t,h,d,p);throw r()};return(e,i)=>{let{channelCount:o,channelCountMode:a,pan:l,...u}=i;if("max"===a)throw r();const c=t(e,{...u,channelCount:1,channelCountMode:a,numberOfInputs:2}),d=n(e,{...u,channelCount:o,channelCountMode:a,gain:1}),p=n(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:l});let{connectGraph:f,disconnectGraph:m}=h(e,o,d,p,c);Object.defineProperty(p.gain,"defaultValue",{get:()=>0});const g={get bufferSize(){},get channelCount(){return d.channelCount},set channelCount(t){d.channelCount!==t&&(v&&m(),({connectGraph:f,disconnectGraph:m}=h(e,t,d,p,c)),v&&f()),d.channelCount=t},get channelCountMode(){return d.channelCountMode},set channelCountMode(t){if("clamped-max"===t||"max"===t)throw r();d.channelCountMode=t},get channelInterpretation(){return d.channelInterpretation},set channelInterpretation(t){d.channelInterpretation=t},get context(){return d.context},get inputs(){return[d]},get numberOfInputs(){return d.numberOfInputs},get numberOfOutputs(){return d.numberOfOutputs},get pan(){return p.gain},addEventListener(){return d.addEventListener(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2])},dispatchEvent(){return d.dispatchEvent(arguments.length<=0?void 0:arguments[0])},removeEventListener(){return d.removeEventListener(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2])}};let v=!1;return s(Xt(g,c),(()=>{f(),v=!0}),(()=>{m(),v=!1}))}})(ln,hn,je,Un,Jt,on),Kn=((t,e,n)=>(i,r)=>t(i,(t=>{const s=r.channelCountMode;if("clamped-max"===s)throw n();if(void 0===i.createStereoPanner)return e(i,r);const o=t.createStereoPanner();return Bt(o,r),Qt(o,r,"pan"),Object.defineProperty(o,"channelCountMode",{get:()=>s,set:t=>{if(t!==s)throw n()}}),o})))(_e,Zn,Jt),Jn=((t,e,n,i,r)=>()=>{const s=new WeakMap;return{render(o,a,l){const u=s.get(a);return void 0!==u?Promise.resolve(u):(async(o,a,l)=>{let u=n(o);const c=A(u,a);if(!c){const t={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,pan:u.pan.value};u=e(a,t)}return s.set(a,u),c?await t(a,o.pan,u.pan,l):await i(a,o.pan,u.pan,l),U(u)?await r(o,a,u.inputs[0],l):await r(o,a,u,l),u})(o,a,l)}}})(Ye,Kn,X,Xe,we),ti=((t,e,n,i,r,s)=>class extends t{constructor(t){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:re;const a=r(t),l={...re,...o},u=n(a,l),c=s(a);super(t,!1,u,c?i():null),this._pan=e(this,c,u.pan,1,-1)}get pan(){return this._pan}})(De,Ke,Kn,Jn,ke,me),ei=((t,e,n)=>()=>{const i=new WeakMap;return{render(r,s,o){const a=i.get(s);return void 0!==a?Promise.resolve(a):(async(r,s,o)=>{let a=e(r);if(!A(a,s)){const e={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,curve:a.curve,oversample:a.oversample};a=t(s,e)}return i.set(s,a),U(a)?await n(r,s,a.inputs[0],o):await n(r,s,a,o),a})(r,s,o)}}})(Un,X,we),ni=((t,e,n,i,r,s)=>class extends t{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:oe;const o=r(t),a={...oe,...e},l=n(o,a);super(t,!0,l,s(o)?i():null),this._isCurveNullified=!1,this._nativeWaveShaperNode=l}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(t){if(null===t)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(t.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=t}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(t){this._nativeWaveShaperNode.oversample=t}})(De,Rt,Un,ei,ke,me),ii=(t=>null!==t&&t.isSecureContext)(pe),ri=(t=>(e,n,i)=>{Object.defineProperties(t,{currentFrame:{configurable:!0,get:()=>Math.round(e*n)},currentTime:{configurable:!0,get:()=>e}});try{return i()}finally{null!==t&&(delete t.currentFrame,delete t.currentTime)}})(pe),si=ii?((t,e,n,i,r,s,o,a,l)=>function(u,c){let h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{credentials:"omit"};const d=s(u),p=new URL(c,l.location.href).toString();if(void 0!==d.audioWorklet)return i(c).then((t=>{const[e,n]=k(t,p),i=new Blob([`${e};(registerProcessor=>{${n}\n})((n,p)=>registerProcessor(n,class extends p{process(i,o,p){return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}))`],{type:"application/javascript; charset=utf-8"}),s=URL.createObjectURL(i),o=r(d);return(null!==o?o:d).audioWorklet.addModule(s,h).then((()=>URL.revokeObjectURL(s))).catch((t=>{throw URL.revokeObjectURL(s),void 0!==t.code&&"SyntaxError"!==t.name||(t.code=12),t}))}));const f=a.get(u);if(void 0!==f&&f.has(c))return Promise.resolve();const m=o.get(u);if(void 0!==m){const t=m.get(c);if(void 0!==t)return t}const g=i(c).then((t=>{const[n,i]=k(t,p);return e(`${n};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${i}\n})})(window,'_AWGS')`)})).then((()=>{const e=l._AWGS.pop();if(void 0===e)throw new SyntaxError;n(d.currentTime,d.sampleRate,(()=>e(class{},void 0,((e,n)=>{if(""===e.trim())throw t();const i=b.get(d);if(void 0!==i){if(i.has(e))throw t();S(n),C(n.parameterDescriptors),i.set(e,n)}else S(n),C(n.parameterDescriptors),b.set(d,new Map([[e,n]]))}),d.sampleRate,void 0,void 0)))})).catch((t=>{throw void 0!==t.code&&"SyntaxError"!==t.name||(t.code=12),t}));return void 0===m?o.set(u,new Map([[c,g]])):m.set(c,g),g.then((()=>{const t=a.get(u);void 0===t?a.set(u,new Set([c])):t.add(c)})).catch((()=>{})).then((()=>{const t=o.get(u);void 0!==t&&t.delete(c)})),g})(Jt,(t=>e=>new Promise(((n,i)=>{if(null===t)return void i(new SyntaxError);const r=t.document.head;if(null===r)i(new SyntaxError);else{const s=t.document.createElement("script"),o=new Blob([e],{type:"application/javascript"}),a=URL.createObjectURL(o),l=t.onerror,u=()=>{t.onerror=l,URL.revokeObjectURL(a)};t.onerror=(e,n,r,s,o)=>n===a||n===t.location.href&&1===r&&1===s?(u(),i(o),!1):null!==l?l(e,n,r,s,o):void 0,s.onerror=()=>{u(),i(new SyntaxError)},s.onload=()=>{u(),n()},s.src=a,s.type="module",r.appendChild(s)}})))(pe),ri,(t=>async e=>{try{const t=await fetch(e);if(t.ok)return t.text()}catch{}throw t()})((()=>{try{return new DOMException("","AbortError")}catch(t){return t.code=20,t.name="AbortError",t}})),ve,ke,new WeakMap,new WeakMap,pe):void 0,oi=((t,e)=>n=>t(n)||e(n))(Ae,me),ai=((t,e,n,i,r,s,o,a,l,u,c,h,d)=>(p,f)=>{const m=o(p)?p:s(p);if(r.has(f)){const t=n();return Promise.reject(t)}try{r.add(f)}catch{}if(e(c,(()=>c(m)))){return("closed"===m.state&&null!==l&&a(m)?new l(1,1,m.sampleRate):m).decodeAudioData(f).catch((t=>{if(t instanceof DOMException&&"NotSupportedError"===t.name)throw new TypeError;throw t})).then((n=>(e(u,(()=>u(n)))||d(n),t.add(n),n)))}return new Promise(((e,n)=>{const r=()=>{try{(t=>{const{port1:e}=new MessageChannel;e.postMessage(t,[t])})(f)}catch{}},s=t=>{n(t),r()};try{m.decodeAudioData(f,(n=>{"function"!==typeof n.copyFromChannel&&(h(n),D(n)),t.add(n),r(),e(n)}),(t=>{s(null===t?i():t)}))}catch(o){s(o)}}))})(Ne,ce,(()=>{try{return new DOMException("","DataCloneError")}catch(t){return t.code=25,t.name="DataCloneError",t}}),(()=>{try{return new DOMException("","EncodingError")}catch(t){return t.code=0,t.name="EncodingError",t}}),new WeakSet,ke,oi,me,fe,O,qt,Le,ze),li=((t,e,n,i,r,s,o,a,l,u,c,h,d,p,f,m,g,v,_,y)=>class extends f{constructor(e,n){super(e,n),this._nativeContext=e,this._audioWorklet=void 0===t?void 0:{addModule:(e,n)=>t(this,e,n)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new r(this)}createBuffer(t,e,i){return new n({length:e,numberOfChannels:t,sampleRate:i})}createBufferSource(){return new i(this)}createChannelMerger(){return new s(this,{numberOfInputs:arguments.length>0&&void 0!==arguments[0]?arguments[0]:6})}createChannelSplitter(){return new o(this,{numberOfOutputs:arguments.length>0&&void 0!==arguments[0]?arguments[0]:6})}createConstantSource(){return new a(this)}createConvolver(){return new l(this)}createDelay(){return new c(this,{maxDelayTime:arguments.length>0&&void 0!==arguments[0]?arguments[0]:1})}createDynamicsCompressor(){return new h(this)}createGain(){return new d(this)}createIIRFilter(t,e){return new p(this,{feedback:e,feedforward:t})}createOscillator(){return new m(this)}createPanner(){return new g(this)}createPeriodicWave(t,e){return new v(this,{...arguments.length>2&&void 0!==arguments[2]?arguments[2]:{disableNormalization:!1},imag:e,real:t})}createStereoPanner(){return new _(this)}createWaveShaper(){return new y(this)}decodeAudioData(t,e,n){return u(this._nativeContext,t).then((t=>("function"===typeof e&&e(t),t))).catch((t=>{throw"function"===typeof n&&n(t),t}))}})(si,Pe,qe,tn,sn,cn,pn,vn,wn,ai,kn,En,On,Rn,Ln,jn,Yn,Xn,ti,ni),ui=(t=>(e,n)=>t(e,(t=>t.createMediaElementSource(n.mediaElement))))(_e),ci=((t,e,n,i)=>class extends t{constructor(t,r){const s=n(t),o=e(s,r);if(i(s))throw TypeError();super(t,!0,o,null),this._mediaElement=r.mediaElement,this._nativeMediaElementAudioSourceNode=o}get mediaElement(){return void 0===this._nativeMediaElementAudioSourceNode.mediaElement?this._mediaElement:this._nativeMediaElementAudioSourceNode.mediaElement}})(De,ui,ke,me),hi=((t,e)=>(n,i)=>{if(void 0===n.createMediaStreamDestination)throw e();const r=t(n,(t=>t.createMediaStreamDestination()));return Bt(r,i),1===r.numberOfOutputs&&Object.defineProperty(r,"numberOfOutputs",{get:()=>0}),r})(_e,Jt),di=((t,e,n,i)=>class extends t{constructor(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:zt;const s=n(t);if(i(s))throw new TypeError;const o={...zt,...r},a=e(s,o);super(t,!1,a,null),this._nativeMediaStreamAudioDestinationNode=a}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}})(De,hi,ke,me),pi=(t=>(e,n)=>{let{mediaStream:i}=n;const r=i.getAudioTracks(),s=t(e,(t=>{const e=r.sort(((t,e)=>t.id<e.id?-1:t.id>e.id?1:0)).slice(0,1);return t.createMediaStreamSource(new MediaStream(e))}));return Object.defineProperty(s,"mediaStream",{value:i}),s})(_e),fi=((t,e,n,i)=>class extends t{constructor(t,r){const s=n(t),o=e(s,r);if(i(s))throw new TypeError;super(t,!0,o,null),this._nativeMediaStreamAudioSourceNode=o}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}})(De,pi,ke,me),mi=((t,e,n)=>(i,r)=>{let{mediaStreamTrack:s}=r;return"function"===typeof i.createMediaStreamTrackSource?e(i,(t=>t.createMediaStreamTrackSource(s))):e(i,(e=>{const i=new MediaStream([s]),r=e.createMediaStreamSource(i);if("audio"!==s.kind)throw t();if(n(e))throw new TypeError;return r}))})(Rt,_e,me),gi=((t,e,n)=>class extends t{constructor(t,i){const r=n(t);super(t,!0,e(r,i),null)}})(De,mi,ke),vi=((t,e,n,i,r,s,o,a,l)=>class extends t{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(null===l)throw new Error("Missing the native AudioContext constructor.");const e=new l(t);if(null===e)throw i();if(!q(t.latencyHint))throw new TypeError(`The provided value '${t.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(void 0!==t.sampleRate&&e.sampleRate!==t.sampleRate)throw n();super(e,2);const{latencyHint:r}=t,{sampleRate:s}=e;if(this._baseLatency="number"===typeof e.baseLatency?e.baseLatency:"balanced"===r?512/s:"interactive"===r||void 0===r?256/s:"playback"===r?1024/s:128*Math.max(2,Math.min(128,Math.round(r*s/128)))/s,this._nativeAudioContext=e,this._state=null,"running"===e.state){this._state="suspended";const t=()=>{"suspended"===this._state&&(this._state=null),e.removeEventListener("statechange",t)};e.addEventListener("statechange",t)}}get baseLatency(){return this._baseLatency}get state(){return null!==this._state?this._state:this._nativeAudioContext.state}close(){return"closed"===this.state?this._nativeAudioContext.close().then((()=>{throw e()})):("suspended"===this._state&&(this._state=null),this._nativeAudioContext.close())}createMediaElementSource(t){return new r(this,{mediaElement:t})}createMediaStreamDestination(){return new s(this)}createMediaStreamSource(t){return new o(this,{mediaStream:t})}createMediaStreamTrackSource(t){return new a(this,{mediaStreamTrack:t})}resume(){return"suspended"===this._state?new Promise(((t,e)=>{const n=()=>{this._nativeAudioContext.removeEventListener("statechange",n),"running"===this._nativeAudioContext.state?t():this.resume().then(t,e)};this._nativeAudioContext.addEventListener("statechange",n)})):this._nativeAudioContext.resume().catch((t=>{if(void 0===t||15===t.code)throw e();throw t}))}suspend(){return this._nativeAudioContext.suspend().catch((t=>{if(void 0===t)throw e();throw t}))}})(li,Rt,Jt,se,ci,di,fi,gi,ge),_i=(t=>e=>{const n=t.get(e);if(void 0===n)throw new Error("The context has no set of AudioWorkletNodes.");return n})(Fn),yi=(t=>(e,n)=>{t(e).add(n)})(_i),bi=(t=>function(e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const r=e[arguments.length>2&&void 0!==arguments[2]?arguments[2]:0];if(void 0===r)throw t();return ot(n)?r.connect(n,0,i):r.connect(n,0)})(M),wi=(t=>(e,n)=>{t(e).delete(n)})(_i),xi=(t=>function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return void 0===n?e.forEach((t=>t.disconnect())):"number"===typeof n?It(t,e,n).disconnect():ot(n)?void 0===i?e.forEach((t=>t.disconnect(n))):void 0===r?It(t,e,i).disconnect(n,0):It(t,e,i).disconnect(n,0,r):void 0===i?e.forEach((t=>t.disconnect(n))):It(t,e,i).disconnect(n,0)})(M),Ti=((t,e,n,i,r,s,o,a,l,u,c,h,d)=>(p,f,m,g)=>{if(0===g.numberOfInputs&&0===g.numberOfOutputs)throw u();if(void 0!==g.outputChannelCount){if(g.outputChannelCount.some((t=>t<1)))throw u();if(g.outputChannelCount.length!==g.numberOfOutputs)throw n()}if("explicit"!==g.channelCountMode)throw u();const v=g.channelCount*g.numberOfInputs,_=g.outputChannelCount.reduce(((t,e)=>t+e),0),y=void 0===m.parameterDescriptors?0:m.parameterDescriptors.length;if(v+y>6||_>6)throw u();const b=new MessageChannel,x=[],T=[];for(let t=0;t<g.numberOfInputs;t+=1)x.push(a(p,{channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,gain:1})),T.push(s(p,{channelCount:g.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:g.channelCount}));const k=[];if(void 0!==m.parameterDescriptors)for(const{defaultValue:t,maxValue:e,minValue:n,name:i}of m.parameterDescriptors){const r=o(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:void 0!==g.parameterData[i]?g.parameterData[i]:void 0===t?0:t});Object.defineProperties(r.offset,{defaultValue:{get:()=>void 0===t?0:t},maxValue:{get:()=>void 0===e?N:e},minValue:{get:()=>void 0===n?P:n}}),k.push(r)}const C=r(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,v+y)}),S=Yt(f,p.sampleRate),E=l(p,S,v+y,Math.max(1,_)),A=s(p,{channelCount:Math.max(1,_),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,_)}),O=[];for(let t=0;t<g.numberOfOutputs;t+=1)O.push(r(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:g.outputChannelCount[t]}));for(let t=0;t<g.numberOfInputs;t+=1){x[t].connect(T[t]);for(let e=0;e<g.channelCount;e+=1)T[t].connect(C,e,t*g.channelCount+e)}const M=new yt(void 0===m.parameterDescriptors?[]:m.parameterDescriptors.map(((t,e)=>{let{name:n}=t;const i=k[e];return i.connect(C,0,v+e),i.start(0),[n,i.offset]})));C.connect(E);let D=g.channelInterpretation,I=null;const R=0===g.numberOfOutputs?[E]:O,V={get bufferSize(){return S},get channelCount(){return g.channelCount},set channelCount(t){throw i()},get channelCountMode(){return g.channelCountMode},set channelCountMode(t){throw i()},get channelInterpretation(){return D},set channelInterpretation(t){for(const e of x)e.channelInterpretation=t;D=t},get context(){return E.context},get inputs(){return x},get numberOfInputs(){return g.numberOfInputs},get numberOfOutputs(){return g.numberOfOutputs},get onprocessorerror(){return I},set onprocessorerror(t){"function"===typeof I&&V.removeEventListener("processorerror",I),I="function"===typeof t?t:null,"function"===typeof I&&V.addEventListener("processorerror",I)},get parameters(){return M},get port(){return b.port2},addEventListener(){return E.addEventListener(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2])},connect:e.bind(null,R),disconnect:c.bind(null,R),dispatchEvent(){return E.dispatchEvent(arguments.length<=0?void 0:arguments[0])},removeEventListener(){return E.removeEventListener(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2])}},F=new Map;var L,z;b.port1.addEventListener=(L=b.port1.addEventListener,function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if("message"===e[0]){const t="function"===typeof e[1]?e[1]:"object"===typeof e[1]&&null!==e[1]&&"function"===typeof e[1].handleEvent?e[1].handleEvent:null;if(null!==t){const n=F.get(e[1]);void 0!==n?e[1]=n:(e[1]=e=>{h(p.currentTime,p.sampleRate,(()=>t(e)))},F.set(t,e[1]))}}return L.call(b.port1,e[0],e[1],e[2])}),b.port1.removeEventListener=(z=b.port1.removeEventListener,function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if("message"===e[0]){const t=F.get(e[1]);void 0!==t&&(F.delete(e[1]),e[1]=t)}return z.call(b.port1,e[0],e[1],e[2])});let q=null;Object.defineProperty(b.port1,"onmessage",{get:()=>q,set:t=>{"function"===typeof q&&b.port1.removeEventListener("message",q),q="function"===typeof t?t:null,"function"===typeof q&&(b.port1.addEventListener("message",q),b.port1.start())}}),m.prototype.port=b.port1;let j=null;const W=((t,e,n,i)=>{let r=w.get(t);void 0===r&&(r=new WeakMap,w.set(t,r));const s=Gt(n,i);return r.set(e,s),s})(p,V,m,g);W.then((t=>j=t));const B=kt(g.numberOfInputs,g.channelCount),U=kt(g.numberOfOutputs,g.outputChannelCount),Q=void 0===m.parameterDescriptors?[]:m.parameterDescriptors.reduce(((t,e)=>{let{name:n}=e;return{...t,[n]:new Float32Array(128)}}),{});let H=!0;const $=()=>{g.numberOfOutputs>0&&E.disconnect(A);for(let t=0,e=0;t<g.numberOfOutputs;t+=1){const n=O[t];for(let i=0;i<g.outputChannelCount[t];i+=1)A.disconnect(n,e+i,i);e+=g.outputChannelCount[t]}};E.onaudioprocess=e=>{let{inputBuffer:n,outputBuffer:i}=e;if(null!==j)for(let s=0;s<S;s+=128){for(let t=0;t<g.numberOfInputs;t+=1)for(let e=0;e<g.channelCount;e+=1)xt(n,B[t],e,e,s);void 0!==m.parameterDescriptors&&m.parameterDescriptors.forEach(((t,e)=>{let{name:i}=t;xt(n,Q,i,v+e,s)}));for(let t=0;t<g.numberOfInputs;t+=1)for(let e=0;e<g.outputChannelCount[t];e+=1)0===U[t][e].byteLength&&(U[t][e]=new Float32Array(128));try{const e=B.map(((e,n)=>{const i=t.get(V);return void 0===i||void 0===i.get(n)?[]:e})),n=h(p.currentTime+s/p.sampleRate,p.sampleRate,(()=>j.process(e,U,Q)));H=n;for(let t=0,r=0;t<g.numberOfOutputs;t+=1){for(let e=0;e<g.outputChannelCount[t];e+=1)Tt(i,U[t],e,r+e,s);r+=g.outputChannelCount[t]}}catch(r){H=!1,V.dispatchEvent(new ErrorEvent("processorerror",{error:r}))}if(!H){for(let t=0;t<g.numberOfInputs;t+=1){x[t].disconnect(T[t]);for(let e=0;e<g.channelCount;e+=1)T[s].disconnect(C,e,t*g.channelCount+e)}if(void 0!==m.parameterDescriptors){const t=m.parameterDescriptors.length;for(let e=0;e<t;e+=1){const t=k[e];t.disconnect(C,0,v+e),t.stop()}}C.disconnect(E),E.onaudioprocess=null,Y?$():Z();break}}};let Y=!1;const G=a(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),X=()=>E.connect(G).connect(G.context.destination),Z=()=>{E.disconnect(G),G.disconnect()};return X(),d(V,(()=>{if(H){Z(),g.numberOfOutputs>0&&E.connect(A);for(let t=0,e=0;t<g.numberOfOutputs;t+=1){const n=O[t];for(let i=0;i<g.outputChannelCount[t];i+=1)A.connect(n,e+i,i);e+=g.outputChannelCount[t]}}Y=!0}),(()=>{H&&(X(),$()),Y=!1}))})(Te,bi,M,Rt,ln,hn,mn,je,Mn,Jt,xi,ri,on),ki=((t,e,n,i,r,s)=>(o,a,l,u,c,h)=>{if(null!==l)try{const n=e(o,(t=>new l(t,u,h))),r=new Map;let a=null;if(Object.defineProperties(n,{channelCount:{get:()=>h.channelCount,set:()=>{throw t()}},channelCountMode:{get:()=>"explicit",set:()=>{throw t()}},onprocessorerror:{get:()=>a,set:t=>{"function"===typeof a&&n.removeEventListener("processorerror",a),a="function"===typeof t?t:null,"function"===typeof a&&n.addEventListener("processorerror",a)}}}),n.addEventListener=(p=n.addEventListener,function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];if("processorerror"===e[0]){const t="function"===typeof e[1]?e[1]:"object"===typeof e[1]&&null!==e[1]&&"function"===typeof e[1].handleEvent?e[1].handleEvent:null;if(null!==t){const n=r.get(e[1]);void 0!==n?e[1]=n:(e[1]=n=>{t(new ErrorEvent(e[0],{...n,error:new Error}))},r.set(t,e[1]))}}return p.call(n,e[0],e[1],e[2])}),n.removeEventListener=(d=n.removeEventListener,function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];if("processorerror"===e[0]){const t=r.get(e[1]);void 0!==t&&(r.delete(e[1]),e[1]=t)}return d.call(n,e[0],e[1],e[2])}),0!==h.numberOfOutputs){const t=i(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(t).connect(t.context.destination);return s(n,(()=>t.disconnect()),(()=>t.connect(t.context.destination)))}return n}catch(f){if(11===f.code)throw r();throw f}var d,p;if(void 0===c)throw r();return(t=>{const{port1:e}=new MessageChannel;try{e.postMessage(t)}finally{e.close()}})(h),n(o,a,c,h)})(Rt,_e,Ti,je,Jt,on),Ci=(t=>null===t?null:t.hasOwnProperty("AudioWorkletNode")?t.AudioWorkletNode:null)(pe),Si=((t,e,n,i,r,s,o,a,l,u,c,h,d,p,f,m)=>(g,v,_)=>{const y=new WeakMap;let b=null;return{render(w,x,T){a(x,w);const k=y.get(x);return void 0!==k?Promise.resolve(k):(async(a,w,x)=>{let T=c(a),k=null;const C=A(T,w);if(null===h){const t=v.outputChannelCount.reduce(((t,e)=>t+e),0),n=r(w,{channelCount:Math.max(1,t),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,t)}),s=[];for(let e=0;e<a.numberOfOutputs;e+=1)s.push(i(w,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:v.outputChannelCount[e]}));const u=o(w,{channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,gain:1});u.connect=e.bind(null,s),u.disconnect=l.bind(null,s),k=[n,s,u]}else C||(T=new h(w,g));if(y.set(w,null===k?T:k[2]),null!==k){if(null===b){if(void 0===_)throw new Error("Missing the processor constructor.");if(null===d)throw new Error("Missing the native OfflineAudioContext constructor.");const t=a.channelCount*a.numberOfInputs,e=void 0===_.parameterDescriptors?0:_.parameterDescriptors.length,n=t+e,l=async()=>{const l=new d(n,128*Math.ceil(a.context.length/128),w.sampleRate),u=[],c=[];for(let t=0;t<v.numberOfInputs;t+=1)u.push(o(l,{channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,gain:1})),c.push(r(l,{channelCount:v.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:v.channelCount}));const h=await Promise.all(Array.from(a.parameters.values()).map((async t=>{const e=s(l,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:t.value});return await p(l,t,e.offset,x),e}))),g=i(l,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,t+e)});for(let t=0;t<v.numberOfInputs;t+=1){u[t].connect(c[t]);for(let e=0;e<v.channelCount;e+=1)c[t].connect(g,e,t*v.channelCount+e)}for(const[e,n]of h.entries())n.connect(g,0,t+e),n.start(0);return g.connect(l.destination),await Promise.all(u.map((t=>f(a,l,t,x)))),m(l)};b=Ct(a,0===n?null:await l(),w,v,_,u)}const t=await b,e=n(w,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[l,c,h]=k;null!==t&&(e.buffer=t,e.start(0)),e.connect(l);for(let n=0,i=0;n<a.numberOfOutputs;n+=1){const t=c[n];for(let e=0;e<v.outputChannelCount[n];e+=1)l.connect(t,i+e,e);i+=v.outputChannelCount[n]}return h}if(C)for(const[e,n]of a.parameters.entries())await t(w,n,T.parameters.get(e),x);else for(const[t,e]of a.parameters.entries())await p(w,e,T.parameters.get(t),x);return await f(a,w,T,x),T})(w,x,T)}}})(Ye,bi,Ge,ln,hn,mn,je,wi,xi,ri,X,Ci,fe,Xe,we,In),Ei=ii?((t,e,n,i,r,s,o,a,l)=>class extends e{constructor(e,l){let u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:bt;const c=s(e),h=o(c),d=(t=>({...t,outputChannelCount:void 0!==t.outputChannelCount?t.outputChannelCount:1===t.numberOfInputs&&1===t.numberOfOutputs?[t.channelCount]:wt(t.numberOfOutputs)}))({...bt,...u}),p=b.get(c),f=void 0===p?void 0:p.get(l),m=r(c,h?null:e.baseLatency,a,l,f,d);super(e,!0,m,h?i(l,d,f):null);const g=[];m.parameters.forEach(((t,e)=>{const i=n(this,h,t);g.push([e,i])})),this._nativeAudioWorkletNode=m,this._onprocessorerror=null,this._parameters=new yt(g),h&&t(c,this)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(t){const e="function"===typeof t?l(this,t):null;this._nativeAudioWorkletNode.onprocessorerror=e;const n=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=null!==n&&n===e?t:n}get parameters(){return null===this._parameters?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}})(yi,De,Ke,Si,ki,ke,me,Ci,ue):void 0,Ai=(((t,e,n,i,r)=>{})(Rt,Jt,se,Ln,ge),((t,e)=>(n,i,r)=>{if(null===e)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(n,i,r)}catch(s){if("IndexSizeError"===s.name||"SyntaxError"===s.name)throw t();throw s}})(Jt,fe)),Oi=((t,e,n,i,r,s,o,a)=>{const l=[];return(u,c)=>n(u).render(u,c,l).then((()=>Promise.all(Array.from(i(c)).map((t=>n(t).render(t,c,l)))))).then((()=>r(c))).then((n=>("function"!==typeof n.copyFromChannel?(o(n),D(n)):e(s,(()=>s(n)))||a(n),t.add(n),n)))})(Ne,ce,be,_i,In,O,Le,ze),Mi=(((t,e,n,i,r)=>{})(ce,Rt,Ai,Ln,Oi),((t,e,n,i,r)=>class extends t{constructor(t,n,r){let s;if("number"===typeof t&&void 0!==n&&void 0!==r)s={length:n,numberOfChannels:t,sampleRate:r};else{if("object"!==typeof t)throw new Error("The given parameters are not valid.");s=t}const{length:o,numberOfChannels:a,sampleRate:l}={...te,...s},u=i(a,o,l);e(qt,(()=>qt(u)))||u.addEventListener("statechange",(()=>{let t=0;const e=n=>{"running"===this._state&&(t>0?(u.removeEventListener("statechange",e),n.stopImmediatePropagation(),this._waitForThePromiseToSettle(n)):t+=1)};return e})()),super(u,a),this._length=o,this._nativeOfflineAudioContext=u,this._state=null}get length(){return void 0===this._nativeOfflineAudioContext.length?this._length:this._nativeOfflineAudioContext.length}get state(){return null===this._state?this._nativeOfflineAudioContext.state:this._state}startRendering(){return"running"===this._state?Promise.reject(n()):(this._state="running",r(this.destination,this._nativeOfflineAudioContext).then((t=>(this._state=null,t))).catch((t=>{throw this._state=null,t})))}_waitForThePromiseToSettle(t){null===this._state?this._nativeOfflineAudioContext.dispatchEvent(t):setTimeout((()=>this._waitForThePromiseToSettle(t)))}})(li,ce,Rt,Ai,Oi)),Di=((t,e)=>n=>{const i=t.get(n);return e(i)||e(n)})(v,Ae),Ii=((t,e)=>n=>t.has(n)||e(n))(p,Oe),Pi=((t,e)=>n=>t.has(n)||e(n))(m,Me),Ni=((t,e)=>n=>{const i=t.get(n);return e(i)||e(n)})(v,me);function Ri(t,e){if(!t)throw new Error(e)}function Vi(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;if(!(e<=t&&t<=n))throw new RangeError(`Value must be within [${e}, ${n}], got: ${t}`)}function Fi(t){t.isOffline||"running"===t.state||zi('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let Li=console;function zi(){Li.warn(...arguments)}function qi(t){return"undefined"===typeof t}function ji(t){return!qi(t)}function Wi(t){return"number"===typeof t}function Bi(t){return"[object Object]"===Object.prototype.toString.call(t)&&t.constructor===Object}function Ui(t){return"boolean"===typeof t}function Qi(t){return Array.isArray(t)}function Hi(t){return"string"===typeof t}function $i(t){return Hi(t)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(t)}const Yi="object"===typeof self?self:null,Gi=Yi&&(Yi.hasOwnProperty("AudioContext")||Yi.hasOwnProperty("webkitAudioContext"));function Xi(t,e,n,i){var r,s=arguments.length,o=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(o=(s<3?r(o):s>3?r(e,n,o):r(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o}function Zi(t,e,n,i){return new(n||(n=Promise))((function(r,s){function o(t){try{l(i.next(t))}catch(e){s(e)}}function a(t){try{l(i.throw(t))}catch(e){s(e)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}l((i=i.apply(t,e||[])).next())}))}class Ki{constructor(t,e,n){this._callback=t,this._type=e,this._updateInterval=n,this._createClock()}_createWorker(){const t=new Blob([`\n\t\t\t// the initial timeout time\n\t\t\tlet timeoutTime =  ${(1e3*this._updateInterval).toFixed(1)};\n\t\t\t// onmessage callback\n\t\t\tself.onmessage = function(msg){\n\t\t\t\ttimeoutTime = parseInt(msg.data);\n\t\t\t};\n\t\t\t// the tick function which posts a message\n\t\t\t// and schedules a new tick\n\t\t\tfunction tick(){\n\t\t\t\tsetTimeout(tick, timeoutTime);\n\t\t\t\tself.postMessage('tick');\n\t\t\t}\n\t\t\t// call tick initially\n\t\t\ttick();\n\t\t\t`],{type:"text/javascript"}),e=URL.createObjectURL(t),n=new Worker(e);n.onmessage=this._callback.bind(this),this._worker=n}_createTimeout(){this._timeout=setTimeout((()=>{this._createTimeout(),this._callback()}),1e3*this._updateInterval)}_createClock(){if("worker"===this._type)try{this._createWorker()}catch(t){this._type="timeout",this._createClock()}else"timeout"===this._type&&this._createTimeout()}_disposeClock(){this._timeout&&(clearTimeout(this._timeout),this._timeout=0),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(t){this._updateInterval=Math.max(t,128/44100),"worker"===this._type&&this._worker.postMessage(Math.max(1e3*t,1))}get type(){return this._type}set type(t){this._disposeClock(),this._type=t,this._createClock()}dispose(){this._disposeClock()}}function Ji(t){return Pi(t)}function tr(t){return Ii(t)}function er(t){return Ni(t)}function nr(t){return Di(t)}function ir(t){return t instanceof AudioBuffer}function rr(t,e){return"value"===t||Ji(e)||tr(e)||ir(e)}function sr(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];if(!n.length)return t;const r=n.shift();if(Bi(t)&&Bi(r))for(const s in r)rr(s,r[s])?t[s]=r[s]:Bi(r[s])?(t[s]||Object.assign(t,{[s]:{}}),sr(t[s],r[s])):Object.assign(t,{[s]:r[s]});return sr(t,...n)}function or(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3?arguments[3]:void 0;const r={},s=Array.from(e);if(Bi(s[0])&&i&&!Reflect.has(s[0],i)){Object.keys(s[0]).some((e=>Reflect.has(t,e)))||(sr(r,{[i]:s[0]}),n.splice(n.indexOf(i),1),s.shift())}if(1===s.length&&Bi(s[0]))sr(r,s[0]);else for(let o=0;o<n.length;o++)ji(s[o])&&(r[n[o]]=s[o]);return sr(t,r)}function ar(t,e){return qi(t)?e:t}function lr(t,e){return e.forEach((e=>{Reflect.has(t,e)&&delete t[e]})),t}class ur{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(){if(this.debug||Yi&&this.toString()===Yi.TONE_DEBUG_CLASS){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];!function(){Li.log(...arguments)}(this,...e)}}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}ur.version=u;const cr=1e-6;function hr(t,e){return t>e+cr}function dr(t,e){return hr(t,e)||fr(t,e)}function pr(t,e){return t+cr<e}function fr(t,e){return Math.abs(t-e)<cr}function mr(t,e,n){return Math.max(Math.min(t,n),e)}class gr extends ur{constructor(){super(),this.name="Timeline",this._timeline=[];const t=or(gr.getDefaults(),arguments,["memory"]);this.memory=t.memory,this.increasing=t.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(t){if(Ri(Reflect.has(t,"time"),"Timeline: events must have a time attribute"),t.time=t.time.valueOf(),this.increasing&&this.length){const e=this._timeline[this.length-1];Ri(dr(t.time,e.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(t)}else{const e=this._search(t.time);this._timeline.splice(e+1,0,t)}if(this.length>this.memory){const t=this.length-this.memory;this._timeline.splice(0,t)}return this}remove(t){const e=this._timeline.indexOf(t);return-1!==e&&this._timeline.splice(e,1),this}get(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"time";const n=this._search(t,e);return-1!==n?this._timeline[n]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"time";const n=this._search(t,e);return n+1<this._timeline.length?this._timeline[n+1]:null}getBefore(t){const e=this._timeline.length;if(e>0&&this._timeline[e-1].time<t)return this._timeline[e-1];const n=this._search(t);return n-1>=0?this._timeline[n-1]:null}cancel(t){if(this._timeline.length>1){let e=this._search(t);if(e>=0)if(fr(this._timeline[e].time,t)){for(let n=e;n>=0&&fr(this._timeline[n].time,t);n--)e=n;this._timeline=this._timeline.slice(0,e)}else this._timeline=this._timeline.slice(0,e+1);else this._timeline=[]}else 1===this._timeline.length&&dr(this._timeline[0].time,t)&&(this._timeline=[]);return this}cancelBefore(t){const e=this._search(t);return e>=0&&(this._timeline=this._timeline.slice(e+1)),this}previousEvent(t){const e=this._timeline.indexOf(t);return e>0?this._timeline[e-1]:null}_search(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"time";if(0===this._timeline.length)return-1;let n=0;const i=this._timeline.length;let r=i;if(i>0&&this._timeline[i-1][e]<=t)return i-1;for(;n<r;){let i=Math.floor(n+(r-n)/2);const s=this._timeline[i],o=this._timeline[i+1];if(fr(s[e],t)){for(let n=i;n<this._timeline.length;n++){if(!fr(this._timeline[n][e],t))break;i=n}return i}if(pr(s[e],t)&&hr(o[e],t))return i;hr(s[e],t)?r=i:n=i+1}return-1}_iterate(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._timeline.length-1;this._timeline.slice(e,n+1).forEach(t)}forEach(t){return this._iterate(t),this}forEachBefore(t,e){const n=this._search(t);return-1!==n&&this._iterate(e,0,n),this}forEachAfter(t,e){const n=this._search(t);return this._iterate(e,n+1),this}forEachBetween(t,e,n){let i=this._search(t),r=this._search(e);return-1!==i&&-1!==r?(this._timeline[i].time!==t&&(i+=1),this._timeline[r].time===e&&(r-=1),this._iterate(n,i,r)):-1===i&&this._iterate(n,0,r),this}forEachFrom(t,e){let n=this._search(t);for(;n>=0&&this._timeline[n].time>=t;)n--;return this._iterate(e,n+1),this}forEachAtTime(t,e){const n=this._search(t);if(-1!==n&&fr(this._timeline[n].time,t)){let i=n;for(let e=n;e>=0&&fr(this._timeline[e].time,t);e--)i=e;this._iterate((t=>{e(t)}),i,n)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const vr=[];function _r(t){vr.push(t)}const yr=[];function br(t){yr.push(t)}class wr extends ur{constructor(){super(...arguments),this.name="Emitter"}on(t,e){return t.split(/\W+/).forEach((t=>{qi(this._events)&&(this._events={}),this._events.hasOwnProperty(t)||(this._events[t]=[]),this._events[t].push(e)})),this}once(t,e){var n=this;const i=function(){e(...arguments),n.off(t,i)};return this.on(t,i),this}off(t,e){return t.split(/\W+/).forEach((n=>{if(qi(this._events)&&(this._events={}),this._events.hasOwnProperty(t))if(qi(e))this._events[t]=[];else{const n=this._events[t];for(let t=0;t<n.length;t++)n[t]===e&&n.splice(t,1)}})),this}emit(t){if(this._events&&this._events.hasOwnProperty(t)){const r=this._events[t].slice(0);for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];for(let t=0,e=r.length;t<e;t++)r[t].apply(this,n)}return this}static mixin(t){["on","once","off","emit"].forEach((e=>{const n=Object.getOwnPropertyDescriptor(wr.prototype,e);Object.defineProperty(t.prototype,e,n)}))}dispose(){return super.dispose(),this._events=void 0,this}}class xr extends wr{constructor(){super(...arguments),this.isOffline=!1}}class Tr extends xr{constructor(){super(),this.name="Context",this._constants=new Map,this._timeouts=new gr,this._timeoutIds=0,this._initialized=!1,this.isOffline=!1,this._workletModules=new Map;const t=or(Tr.getDefaults(),arguments,["context"]);t.context?this._context=t.context:this._context=function(t){return new vi(t)}({latencyHint:t.latencyHint}),this._ticker=new Ki(this.emit.bind(this,"tick"),t.clockSource,t.updateInterval),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this._setLatencyHint(t.latencyHint),this.lookAhead=t.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){var t;return this._initialized||(t=this,vr.forEach((e=>e(t))),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(t,e,n){return this._context.createBuffer(t,e,n)}createChannelMerger(t){return this._context.createChannelMerger(t)}createChannelSplitter(t){return this._context.createChannelSplitter(t)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(t){return this._context.createDelay(t)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(t,e){return this._context.createIIRFilter(t,e)}createPanner(){return this._context.createPanner()}createPeriodicWave(t,e,n){return this._context.createPeriodicWave(t,e,n)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(t){Ri(nr(this._context),"Not available if OfflineAudioContext");return this._context.createMediaStreamSource(t)}createMediaStreamDestination(){Ri(nr(this._context),"Not available if OfflineAudioContext");return this._context.createMediaStreamDestination()}decodeAudioData(t){return this._context.decodeAudioData(t)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(t){Ri(!this._initialized,"The listener cannot be set after initialization."),this._listener=t}get transport(){return this.initialize(),this._transport}set transport(t){Ri(!this._initialized,"The transport cannot be set after initialization."),this._transport=t}get draw(){return this.initialize(),this._draw}set draw(t){Ri(!this._initialized,"Draw cannot be set after initialization."),this._draw=t}get destination(){return this.initialize(),this._destination}set destination(t){Ri(!this._initialized,"The destination cannot be set after initialization."),this._destination=t}createAudioWorkletNode(t,e){return function(t,e,n){return Ri(ji(Ei),"This node only works in a secure context (https or localhost)"),new Ei(t,e,n)}(this.rawContext,t,e)}addAudioWorkletModule(t,e){return Zi(this,void 0,void 0,(function*(){Ri(ji(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletModules.has(e)||this._workletModules.set(e,this.rawContext.audioWorklet.addModule(t)),yield this._workletModules.get(e)}))}workletsAreReady(){return Zi(this,void 0,void 0,(function*(){const t=[];this._workletModules.forEach((e=>t.push(e))),yield Promise.all(t)}))}get updateInterval(){return this._ticker.updateInterval}set updateInterval(t){this._ticker.updateInterval=t}get clockSource(){return this._ticker.type}set clockSource(t){this._ticker.type=t}get latencyHint(){return this._latencyHint}_setLatencyHint(t){let e=0;if(this._latencyHint=t,Hi(t))switch(t){case"interactive":e=.1;break;case"playback":e=.5;break;case"balanced":e=.25}this.lookAhead=e,this.updateInterval=e/2}get rawContext(){return this._context}now(){return this._context.currentTime+this.lookAhead}immediate(){return this._context.currentTime}resume(){return"suspended"===this._context.state&&nr(this._context)?this._context.resume():Promise.resolve()}close(){return Zi(this,void 0,void 0,(function*(){var t;nr(this._context)&&(yield this._context.close()),this._initialized&&(t=this,yr.forEach((e=>e(t))))}))}getConstant(t){if(this._constants.has(t))return this._constants.get(t);{const e=this._context.createBuffer(1,128,this._context.sampleRate),n=e.getChannelData(0);for(let r=0;r<n.length;r++)n[r]=t;const i=this._context.createBufferSource();return i.channelCount=1,i.channelCountMode="explicit",i.buffer=e,i.loop=!0,i.start(0),this._constants.set(t,i),i}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map((t=>this._constants[t].disconnect())),this}_timeoutLoop(){const t=this.now();let e=this._timeouts.peek();for(;this._timeouts.length&&e&&e.time<=t;)e.callback(),this._timeouts.shift(),e=this._timeouts.peek()}setTimeout(t,e){this._timeoutIds++;const n=this.now();return this._timeouts.add({callback:t,id:this._timeoutIds,time:n+e}),this._timeoutIds}clearTimeout(t){return this._timeouts.forEach((e=>{e.id===t&&this._timeouts.remove(e)})),this}clearInterval(t){return this.clearTimeout(t)}setInterval(t,e){const n=++this._timeoutIds,i=()=>{const r=this.now();this._timeouts.add({callback:()=>{t(),i()},id:n,time:r+e})};return i(),n}}function kr(t,e){Qi(e)?e.forEach((e=>kr(t,e))):Object.defineProperty(t,e,{enumerable:!0,writable:!1})}function Cr(t,e){Qi(e)?e.forEach((e=>Cr(t,e))):Object.defineProperty(t,e,{writable:!0})}const Sr=()=>{};class Er extends ur{constructor(){super(),this.name="ToneAudioBuffer",this.onload=Sr;const t=or(Er.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=t.reverse,this.onload=t.onload,t.url&&ir(t.url)||t.url instanceof Er?this.set(t.url):Hi(t.url)&&this.load(t.url).catch(t.onerror)}static getDefaults(){return{onerror:Sr,onload:Sr,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:Dr().sampleRate}set(t){return t instanceof Er?t.loaded?this._buffer=t.get():t.onload=()=>{this.set(t),this.onload(this)}:this._buffer=t,this._reversed&&this._reverse(),this}get(){return this._buffer}load(t){return Zi(this,void 0,void 0,(function*(){const e=Er.load(t).then((t=>{this.set(t),this.onload(this)}));Er.downloads.push(e);try{yield e}finally{const t=Er.downloads.indexOf(e);Er.downloads.splice(t,1)}return this}))}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(t){const e=Qi(t)&&t[0].length>0,n=e?t.length:1,i=e?t[0].length:t.length,r=Dr(),s=r.createBuffer(n,i,r.sampleRate),o=e||1!==n?t:[t];for(let a=0;a<n;a++)s.copyToChannel(o[a],a);return this._buffer=s,this}toMono(t){if(Wi(t))this.fromArray(this.toArray(t));else{let t=new Float32Array(this.length);const e=this.numberOfChannels;for(let n=0;n<e;n++){const e=this.toArray(n);for(let n=0;n<e.length;n++)t[n]+=e[n]}t=t.map((t=>t/e)),this.fromArray(t)}return this}toArray(t){if(Wi(t))return this.getChannelData(t);if(1===this.numberOfChannels)return this.toArray(0);{const t=[];for(let e=0;e<this.numberOfChannels;e++)t[e]=this.getChannelData(e);return t}}getChannelData(t){return this._buffer?this._buffer.getChannelData(t):new Float32Array(0)}slice(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.duration;const n=Math.floor(t*this.sampleRate),i=Math.floor(e*this.sampleRate);Ri(n<i,"The start time must be less than the end time");const r=i-n,s=Dr().createBuffer(this.numberOfChannels,r,this.sampleRate);for(let o=0;o<this.numberOfChannels;o++)s.copyToChannel(this.getChannelData(o).subarray(n,i),o);return new Er(s)}_reverse(){if(this.loaded)for(let t=0;t<this.numberOfChannels;t++)this.getChannelData(t).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(t){this._reversed!==t&&(this._reversed=t,this._reverse())}static fromArray(t){return(new Er).fromArray(t)}static fromUrl(t){return Zi(this,void 0,void 0,(function*(){const e=new Er;return yield e.load(t)}))}static load(t){return Zi(this,void 0,void 0,(function*(){const e=t.match(/\[(.+\|?)+\]$/);if(e){const n=e[1].split("|");let i=n[0];for(const t of n)if(Er.supportsType(t)){i=t;break}t=t.replace(e[0],i)}const n=""===Er.baseUrl||Er.baseUrl.endsWith("/")?Er.baseUrl:Er.baseUrl+"/",i=yield fetch(n+t);if(!i.ok)throw new Error(`could not load url: ${t}`);const r=yield i.arrayBuffer();return yield Dr().decodeAudioData(r)}))}static supportsType(t){const e=t.split("."),n=e[e.length-1];return""!==document.createElement("audio").canPlayType("audio/"+n)}static loaded(){return Zi(this,void 0,void 0,(function*(){for(yield Promise.resolve();Er.downloads.length;)yield Er.downloads[0]}))}}Er.baseUrl="",Er.downloads=[];class Ar extends Tr{constructor(){var t,e,n;super({clockSource:"offline",context:er(arguments[0])?arguments[0]:(t=arguments[0],e=arguments[1]*arguments[2],n=arguments[2],new Mi(t,e,n)),lookAhead:0,updateInterval:er(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=er(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(t){return Zi(this,void 0,void 0,(function*(){let e=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,e++;const n=Math.floor(this.sampleRate/128);t&&e%n===0&&(yield new Promise((t=>setTimeout(t,1))))}}))}render(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return Zi(this,void 0,void 0,(function*(){yield this.workletsAreReady(),yield this._renderClock(t);const e=yield this._context.startRendering();return new Er(e)}))}close(){return Promise.resolve()}}const Or=new class extends xr{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(t,e,n){return{}}createChannelMerger(t){return{}}createChannelSplitter(t){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(t){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(t,e){return{}}createPanner(){return{}}createPeriodicWave(t,e,n){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(t){return{}}createMediaStreamDestination(){return{}}decodeAudioData(t){return Promise.resolve({})}createAudioWorkletNode(t,e){return{}}get rawContext(){return{}}addAudioWorkletModule(t,e){return Zi(this,void 0,void 0,(function*(){return Promise.resolve()}))}resume(){return Promise.resolve()}setTimeout(t,e){return 0}clearTimeout(t){return this}setInterval(t,e){return 0}clearInterval(t){return this}getConstant(t){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(t){}get destination(){return{}}set destination(t){}now(){return 0}immediate(){return 0}};let Mr=Or;function Dr(){return Mr===Or&&Gi&&function(t){Mr=nr(t)?new Tr(t):er(t)?new Ar(t):t}(new Tr),Mr}function Ir(){return Mr.resume()}if(Yi&&!Yi.TONE_SILENCE_LOGGING){let t="v";0;const e=` * Tone.js ${t}${u} * `;console.log(`%c${e}`,"background: #000; color: #fff")}function Pr(t){return Math.pow(10,t/20)}function Nr(t){return Math.log(t)/Math.LN10*20}function Rr(t){return Math.pow(2,t/12)}let Vr=440;function Fr(t){return Math.round(Lr(t))}function Lr(t){return 69+12*Math.log2(t/Vr)}function zr(t){return Vr*Math.pow(2,(t-69)/12)}class qr extends ur{constructor(t,e,n){super(),this.defaultUnits="s",this._val=e,this._units=n,this.context=t,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:t=>this._frequencyToUnits(parseFloat(t)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:t=>this._ticksToUnits(parseInt(t,10)),regexp:/^(\d+)i$/i},m:{method:t=>this._beatsToUnits(parseInt(t,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(t,e)=>{const n=parseInt(t,10),i="."===e?1.5:1;return 1===n?this._beatsToUnits(this._getTimeSignature())*i:this._beatsToUnits(4/n)*i},regexp:/^(\d+)n(\.?)$/i},number:{method:t=>this._expressions[this.defaultUnits].method.call(this,t),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:t=>this._secondsToUnits(parseFloat(t)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:t=>parseInt(t,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:t=>{const e=parseInt(t,10);return this._beatsToUnits(8/(3*Math.floor(e)))},regexp:/^(\d+)t$/i},tr:{method:(t,e,n)=>{let i=0;return t&&"0"!==t&&(i+=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),e&&"0"!==e&&(i+=this._beatsToUnits(parseFloat(e))),n&&"0"!==n&&(i+=this._beatsToUnits(parseFloat(n)/4)),i},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof qr&&this.fromType(this._val),qi(this._val))return this._noArg();if(Hi(this._val)&&qi(this._units)){for(const t in this._expressions)if(this._expressions[t].regexp.test(this._val.trim())){this._units=t;break}}else if(Bi(this._val)){let t=0;for(const e in this._val)if(ji(this._val[e])){const n=this._val[e];t+=new this.constructor(this.context,e).valueOf()*n}return t}if(ji(this._units)){const t=this._expressions[this._units],e=this._val.toString().trim().match(t.regexp);return e?t.method.apply(this,e.slice(1)):t.method.call(this,this._val)}return Hi(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(t){return 1/t}_beatsToUnits(t){return 60/this._getBpm()*t}_secondsToUnits(t){return t}_ticksToUnits(t){return t*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(t){switch(this._units=void 0,this.defaultUnits){case"s":this._val=t.toSeconds();break;case"i":this._val=t.toTicks();break;case"hz":this._val=t.toFrequency();break;case"midi":this._val=t.toMidi()}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return 1e3*this.toSeconds()}}class jr extends qr{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:t=>this._now()+new this.constructor(this.context,t).valueOf(),regexp:/^\+(.+)/},quantize:{method:t=>{const e=new jr(this.context,t).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(e))},regexp:/^@(.+)/}})}quantize(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=new this.constructor(this.context,t).valueOf(),i=this.valueOf();return i+(Math.round(i/n)*n-i)*e}toNotation(){const t=this.toSeconds(),e=["1m"];for(let r=1;r<9;r++){const t=Math.pow(2,r);e.push(t+"n."),e.push(t+"n"),e.push(t+"t")}e.push("0");let n=e[0],i=new jr(this.context,e[0]).toSeconds();return e.forEach((e=>{const r=new jr(this.context,e).toSeconds();Math.abs(r-t)<Math.abs(i-t)&&(n=e,i=r)})),n}toBarsBeatsSixteenths(){const t=this._beatsToUnits(1);let e=this.valueOf()/t;e=parseFloat(e.toFixed(4));const n=Math.floor(e/this._getTimeSignature());let i=e%1*4;e=Math.floor(e)%this._getTimeSignature();const r=i.toString();r.length>3&&(i=parseFloat(parseFloat(r).toFixed(3)));return[n,e,i].join(":")}toTicks(){const t=this._beatsToUnits(1),e=this.valueOf()/t;return Math.round(e*this._getPPQ())}toSeconds(){return this.valueOf()}toMidi(){return Fr(this.toFrequency())}_now(){return this.context.now()}}class Wr extends jr{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return Vr}static set A4(t){!function(t){Vr=t}(t)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(t){return"midi"===this.defaultUnits?t:Wr.mtof(t)}},note:{regexp:/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,method(t,e){const n=Br[t.toLowerCase()]+12*(parseInt(e,10)+1);return"midi"===this.defaultUnits?n:Wr.mtof(n)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(t,e,n){let i=1;return t&&"0"!==t&&(i*=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),e&&"0"!==e&&(i*=this._beatsToUnits(parseFloat(e))),n&&"0"!==n&&(i*=this._beatsToUnits(parseFloat(n)/4)),i}}})}transpose(t){return new Wr(this.context,this.valueOf()*Rr(t))}harmonize(t){return t.map((t=>this.transpose(t)))}toMidi(){return Fr(this.valueOf())}toNote(){const t=this.toFrequency(),e=Math.log2(t/Wr.A4);let n=Math.round(12*e)+57;const i=Math.floor(n/12);i<0&&(n+=-12*i);return Ur[n%12]+i.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const t=this._beatsToUnits(1),e=this.valueOf()/t;return Math.floor(e*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(t){return t}_ticksToUnits(t){return 1/(60*t/(this._getBpm()*this._getPPQ()))}_beatsToUnits(t){return 1/super._beatsToUnits(t)}_secondsToUnits(t){return 1/t}static mtof(t){return zr(t)}static ftom(t){return Fr(t)}}const Br={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13},Ur=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];function Qr(t,e){return new Wr(Dr(),t,e)}class Hr extends jr{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class $r extends ur{constructor(){super();const t=or($r.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=t.context}static getDefaults(){return{context:Dr()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(t){return new jr(this.context,t).toSeconds()}toFrequency(t){return new Wr(this.context,t).toFrequency()}toTicks(t){return new Hr(this.context,t).toTicks()}_getPartialProperties(t){const e=this.get();return Object.keys(e).forEach((n=>{qi(t[n])&&delete e[n]})),e}get(){const t=this.constructor.getDefaults();return Object.keys(t).forEach((e=>{if(Reflect.has(this,e)){const n=this[e];ji(n)&&ji(n.value)&&ji(n.setValueAtTime)?t[e]=n.value:n instanceof $r?t[e]=n._getPartialProperties(t[e]):Qi(n)||Wi(n)||Hi(n)||Ui(n)?t[e]=n:delete t[e]}})),t}set(t){return Object.keys(t).forEach((e=>{Reflect.has(this,e)&&ji(this[e])&&(this[e]&&ji(this[e].value)&&ji(this[e].setValueAtTime)?this[e].value!==t[e]&&(this[e].value=t[e]):this[e]instanceof $r?this[e].set(t[e]):this[e]=t[e])})),this}}class Yr extends gr{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"stopped";super(),this.name="StateTimeline",this._initial=t,this.setStateAtTime(this._initial,0)}getValueAtTime(t){const e=this.get(t);return null!==e?e.state:this._initial}setStateAtTime(t,e,n){return Vi(e,0),this.add(Object.assign({},n,{state:t,time:e})),this}getLastState(t,e){for(let n=this._search(e);n>=0;n--){const e=this._timeline[n];if(e.state===t)return e}}getNextState(t,e){const n=this._search(e);if(-1!==n)for(let i=n;i<this._timeline.length;i++){const e=this._timeline[i];if(e.state===t)return e}}}class Gr extends $r{constructor(){super(or(Gr.getDefaults(),arguments,["param","units","convert"])),this.name="Param",this.overridden=!1,this._minOutput=1e-7;const t=or(Gr.getDefaults(),arguments,["param","units","convert"]);for(Ri(ji(t.param)&&(Ji(t.param)||t.param instanceof Gr),"param must be an AudioParam");!Ji(t.param);)t.param=t.param._param;this._swappable=!!ji(t.swappable)&&t.swappable,this._swappable?(this.input=this.context.createGain(),this._param=t.param,this.input.connect(this._param)):this._param=this.input=t.param,this._events=new gr(1e3),this._initialValue=this._param.defaultValue,this.units=t.units,this.convert=t.convert,this._minValue=t.minValue,this._maxValue=t.maxValue,ji(t.value)&&t.value!==this._toType(this._initialValue)&&this.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign($r.getDefaults(),{convert:!0,units:"number"})}get value(){const t=this.now();return this.getValueAtTime(t)}set value(t){this.cancelScheduledValues(this.now()),this.setValueAtTime(t,this.now())}get minValue(){return ji(this._minValue)?this._minValue:"time"===this.units||"frequency"===this.units||"normalRange"===this.units||"positive"===this.units||"transportTime"===this.units||"ticks"===this.units||"bpm"===this.units||"hertz"===this.units||"samples"===this.units?0:"audioRange"===this.units?-1:"decibels"===this.units?-1/0:this._param.minValue}get maxValue(){return ji(this._maxValue)?this._maxValue:"normalRange"===this.units||"audioRange"===this.units?1:this._param.maxValue}_is(t,e){return this.units===e}_assertRange(t){return ji(this.maxValue)&&ji(this.minValue)&&Vi(t,this._fromType(this.minValue),this._fromType(this.maxValue)),t}_fromType(t){return this.convert&&!this.overridden?this._is(t,"time")?this.toSeconds(t):this._is(t,"decibels")?Pr(t):this._is(t,"frequency")?this.toFrequency(t):t:this.overridden?0:t}_toType(t){return this.convert&&"decibels"===this.units?Nr(t):t}setValueAtTime(t,e){const n=this.toSeconds(e),i=this._fromType(t);return Ri(isFinite(i)&&isFinite(n),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._assertRange(i),this.log(this.units,"setValueAtTime",t,n),this._events.add({time:n,type:"setValueAtTime",value:i}),this._param.setValueAtTime(i,n),this}getValueAtTime(t){const e=Math.max(this.toSeconds(t),0),n=this._events.getAfter(e),i=this._events.get(e);let r=this._initialValue;if(null===i)r=this._initialValue;else if("setTargetAtTime"!==i.type||null!==n&&"setValueAtTime"!==n.type)if(null===n)r=i.value;else if("linearRampToValueAtTime"===n.type||"exponentialRampToValueAtTime"===n.type){let t=i.value;if("setTargetAtTime"===i.type){const e=this._events.getBefore(i.time);t=null===e?this._initialValue:e.value}r="linearRampToValueAtTime"===n.type?this._linearInterpolate(i.time,t,n.time,n.value,e):this._exponentialInterpolate(i.time,t,n.time,n.value,e)}else r=i.value;else{const t=this._events.getBefore(i.time);let n;n=null===t?this._initialValue:t.value,"setTargetAtTime"===i.type&&(r=this._exponentialApproach(i.time,n,i.value,i.constant,e))}return this._toType(r)}setRampPoint(t){t=this.toSeconds(t);let e=this.getValueAtTime(t);return this.cancelAndHoldAtTime(t),0===this._fromType(e)&&(e=this._toType(this._minOutput)),this.setValueAtTime(e,t),this}linearRampToValueAtTime(t,e){const n=this._fromType(t),i=this.toSeconds(e);return Ri(isFinite(n)&&isFinite(i),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._assertRange(n),this._events.add({time:i,type:"linearRampToValueAtTime",value:n}),this.log(this.units,"linearRampToValueAtTime",t,i),this._param.linearRampToValueAtTime(n,i),this}exponentialRampToValueAtTime(t,e){let n=this._fromType(t);n=Math.max(this._minOutput,n),this._assertRange(n);const i=this.toSeconds(e);return Ri(isFinite(n)&&isFinite(i),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._events.add({time:i,type:"exponentialRampToValueAtTime",value:n}),this.log(this.units,"exponentialRampToValueAtTime",t,i),this._param.exponentialRampToValueAtTime(n,i),this}exponentialRampTo(t,e,n){return n=this.toSeconds(n),this.setRampPoint(n),this.exponentialRampToValueAtTime(t,n+this.toSeconds(e)),this}linearRampTo(t,e,n){return n=this.toSeconds(n),this.setRampPoint(n),this.linearRampToValueAtTime(t,n+this.toSeconds(e)),this}targetRampTo(t,e,n){return n=this.toSeconds(n),this.setRampPoint(n),this.exponentialApproachValueAtTime(t,n,e),this}exponentialApproachValueAtTime(t,e,n){e=this.toSeconds(e),n=this.toSeconds(n);const i=Math.log(n+1)/Math.log(200);return this.setTargetAtTime(t,e,i),this.cancelAndHoldAtTime(e+.9*n),this.linearRampToValueAtTime(t,e+n),this}setTargetAtTime(t,e,n){const i=this._fromType(t);Ri(isFinite(n)&&n>0,"timeConstant must be a number greater than 0");const r=this.toSeconds(e);return this._assertRange(i),Ri(isFinite(i)&&isFinite(r),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._events.add({constant:n,time:r,type:"setTargetAtTime",value:i}),this.log(this.units,"setTargetAtTime",t,r,n),this._param.setTargetAtTime(i,r,n),this}setValueCurveAtTime(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;n=this.toSeconds(n),e=this.toSeconds(e);const r=this._fromType(t[0])*i;this.setValueAtTime(this._toType(r),e);const s=n/(t.length-1);for(let o=1;o<t.length;o++){const n=this._fromType(t[o])*i;this.linearRampToValueAtTime(this._toType(n),e+o*s)}return this}cancelScheduledValues(t){const e=this.toSeconds(t);return Ri(isFinite(e),`Invalid argument to cancelScheduledValues: ${JSON.stringify(t)}`),this._events.cancel(e),this._param.cancelScheduledValues(e),this.log(this.units,"cancelScheduledValues",e),this}cancelAndHoldAtTime(t){const e=this.toSeconds(t),n=this._fromType(this.getValueAtTime(e));Ri(isFinite(e),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(t)}`),this.log(this.units,"cancelAndHoldAtTime",e,"value="+n);const i=this._events.get(e),r=this._events.getAfter(e);return i&&fr(i.time,e)?r?(this._param.cancelScheduledValues(r.time),this._events.cancel(r.time)):(this._param.cancelAndHoldAtTime(e),this._events.cancel(e+this.sampleTime)):r&&(this._param.cancelScheduledValues(r.time),this._events.cancel(r.time),"linearRampToValueAtTime"===r.type?this.linearRampToValueAtTime(this._toType(n),e):"exponentialRampToValueAtTime"===r.type&&this.exponentialRampToValueAtTime(this._toType(n),e)),this._events.add({time:e,type:"setValueAtTime",value:n}),this._param.setValueAtTime(n,e),this}rampTo(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1,n=arguments.length>2?arguments[2]:void 0;return"frequency"===this.units||"bpm"===this.units||"decibels"===this.units?this.exponentialRampTo(t,e,n):this.linearRampTo(t,e,n),this}apply(t){const e=this.context.currentTime;t.setValueAtTime(this.getValueAtTime(e),e);const n=this._events.get(e);if(n&&"setTargetAtTime"===n.type){const i=this._events.getAfter(n.time),r=i?i.time:e+2,s=(r-e)/10;for(let n=e;n<r;n+=s)t.linearRampToValueAtTime(this.getValueAtTime(n),n)}return this._events.forEachAfter(this.context.currentTime,(e=>{"cancelScheduledValues"===e.type?t.cancelScheduledValues(e.time):"setTargetAtTime"===e.type?t.setTargetAtTime(e.value,e.time,e.constant):t[e.type](e.value,e.time)})),this}setParam(t){Ri(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const e=this.input;return e.disconnect(this._param),this.apply(t),this._param=t,e.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(t,e,n,i,r){return n+(e-n)*Math.exp(-(r-t)/i)}_linearInterpolate(t,e,n,i,r){return e+(r-t)/(n-t)*(i-e)}_exponentialInterpolate(t,e,n,i,r){return e*Math.pow(i/e,(r-t)/(n-t))}}class Xr extends $r{constructor(){super(...arguments),this.name="ToneAudioNode",this._internalChannels=[]}get numberOfInputs(){return ji(this.input)?Ji(this.input)||this.input instanceof Gr?1:this.input.numberOfInputs:0}get numberOfOutputs(){return ji(this.output)?this.output.numberOfOutputs:0}_isAudioNode(t){return ji(t)&&(t instanceof Xr||tr(t))}_getInternalNodes(){const t=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&t.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&t.push(this.output),t}_setChannelProperties(t){this._getInternalNodes().forEach((e=>{e.channelCount=t.channelCount,e.channelCountMode=t.channelCountMode,e.channelInterpretation=t.channelInterpretation}))}_getChannelProperties(){const t=this._getInternalNodes();Ri(t.length>0,"ToneAudioNode does not have any internal nodes");const e=t[0];return{channelCount:e.channelCount,channelCountMode:e.channelCountMode,channelInterpretation:e.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(t){const e=this._getChannelProperties();this._setChannelProperties(Object.assign(e,{channelCount:t}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(t){const e=this._getChannelProperties();this._setChannelProperties(Object.assign(e,{channelCountMode:t}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(t){const e=this._getChannelProperties();this._setChannelProperties(Object.assign(e,{channelInterpretation:t}))}connect(t){return Kr(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return zi("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(t){return Jr(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0),this}chain(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Zr(this,...e),this}fan(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.forEach((t=>this.connect(t))),this}dispose(){return super.dispose(),ji(this.input)&&(this.input instanceof Xr?this.input.dispose():tr(this.input)&&this.input.disconnect()),ji(this.output)&&(this.output instanceof Xr?this.output.dispose():tr(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function Zr(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const i=e.shift();e.reduce(((t,e)=>(t instanceof Xr?t.connect(e):tr(t)&&Kr(t,e),e)),i)}function Kr(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;for(Ri(ji(t),"Cannot connect from undefined node"),Ri(ji(e),"Cannot connect to undefined node"),(e instanceof Xr||tr(e))&&Ri(e.numberOfInputs>0,"Cannot connect to node with no inputs"),Ri(t.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof Xr||e instanceof Gr;)ji(e.input)&&(e=e.input);for(;t instanceof Xr;)ji(t.output)&&(t=t.output);Ji(e)?t.connect(e,n):t.connect(e,n,i)}function Jr(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(ji(e))for(;e instanceof Xr;)e=e.input;for(;!tr(t);)ji(t.output)&&(t=t.output);Ji(e)?t.disconnect(e,n):tr(e)?t.disconnect(e,n,i):t.disconnect()}class ts extends Xr{constructor(){super(or(ts.getDefaults(),arguments,["gain","units"])),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode;const t=or(ts.getDefaults(),arguments,["gain","units"]);this.gain=new Gr({context:this.context,convert:t.convert,param:this._gainNode.gain,units:t.units,value:t.gain,minValue:t.minValue,maxValue:t.maxValue}),kr(this,"gain")}static getDefaults(){return Object.assign(Xr.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class es extends Xr{constructor(t){super(t),this.onended=Sr,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new ts({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(t){const e=this.toSeconds(t);return-1!==this._startTime&&e>=this._startTime&&(-1===this._stopTime||e<=this._stopTime)?"started":"stopped"},this._fadeIn=t.fadeIn,this._fadeOut=t.fadeOut,this._curve=t.curve,this.onended=t.onended}static getDefaults(){return Object.assign(Xr.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:Sr})}_startGain(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Ri(-1===this._startTime,"Source cannot be started more than once");const n=this.toSeconds(this._fadeIn);return this._startTime=t+n,this._startTime=Math.max(this._startTime,this.context.currentTime),n>0?(this._gainNode.gain.setValueAtTime(0,t),"linear"===this._curve?this._gainNode.gain.linearRampToValueAtTime(e,t+n):this._gainNode.gain.exponentialApproachValueAtTime(e,t,n)):this._gainNode.gain.setValueAtTime(e,t),this}stop(t){return this.log("stop",t),this._stopGain(this.toSeconds(t)),this}_stopGain(t){Ri(-1!==this._startTime,"'start' must be called before 'stop'"),this.cancelStop();const e=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(t)+e,this._stopTime=Math.max(this._stopTime,this.context.currentTime),e>0?"linear"===this._curve?this._gainNode.gain.linearRampTo(0,e,t):this._gainNode.gain.targetRampTo(0,e,t):(this._gainNode.gain.cancelAndHoldAtTime(t),this._gainNode.gain.setValueAtTime(0,t)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout((()=>{const t="exponential"===this._curve?2*e:0;this._stopSource(this.now()+t),this._onended()}),this._stopTime-this.context.currentTime),this}_onended(){this.onended!==Sr&&(this.onended(this),this.onended=Sr,this.context.isOffline||setTimeout((()=>this.dispose()),1e3))}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),Ri(-1!==this._startTime,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.disconnect(),this}}class ns extends es{constructor(){super(or(ns.getDefaults(),arguments,["offset"])),this.name="ToneConstantSource",this._source=this.context.createConstantSource();const t=or(ns.getDefaults(),arguments,["offset"]);Kr(this._source,this._gainNode),this.offset=new Gr({context:this.context,convert:t.convert,param:this._source.offset,units:t.units,value:t.offset,minValue:t.minValue,maxValue:t.maxValue})}static getDefaults(){return Object.assign(es.getDefaults(),{convert:!0,offset:1,units:"number"})}start(t){const e=this.toSeconds(t);return this.log("start",e),this._startGain(e),this._source.start(e),this}_stopSource(t){this._source.stop(t)}dispose(){return super.dispose(),"started"===this.state&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class is extends Xr{constructor(){super(or(is.getDefaults(),arguments,["value","units"])),this.name="Signal",this.override=!0;const t=or(is.getDefaults(),arguments,["value","units"]);this.output=this._constantSource=new ns({context:this.context,convert:t.convert,offset:t.value,units:t.units,minValue:t.minValue,maxValue:t.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(Xr.getDefaults(),{convert:!0,units:"number",value:0})}connect(t){return rs(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(t,e){return this._param.setValueAtTime(t,e),this}getValueAtTime(t){return this._param.getValueAtTime(t)}setRampPoint(t){return this._param.setRampPoint(t),this}linearRampToValueAtTime(t,e){return this._param.linearRampToValueAtTime(t,e),this}exponentialRampToValueAtTime(t,e){return this._param.exponentialRampToValueAtTime(t,e),this}exponentialRampTo(t,e,n){return this._param.exponentialRampTo(t,e,n),this}linearRampTo(t,e,n){return this._param.linearRampTo(t,e,n),this}targetRampTo(t,e,n){return this._param.targetRampTo(t,e,n),this}exponentialApproachValueAtTime(t,e,n){return this._param.exponentialApproachValueAtTime(t,e,n),this}setTargetAtTime(t,e,n){return this._param.setTargetAtTime(t,e,n),this}setValueCurveAtTime(t,e,n,i){return this._param.setValueCurveAtTime(t,e,n,i),this}cancelScheduledValues(t){return this._param.cancelScheduledValues(t),this}cancelAndHoldAtTime(t){return this._param.cancelAndHoldAtTime(t),this}rampTo(t,e,n){return this._param.rampTo(t,e,n),this}get value(){return this._param.value}set value(t){this._param.value=t}get convert(){return this._param.convert}set convert(t){this._param.convert=t}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(t){this._param.overridden=t}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(t){return this._param.apply(t),this}}function rs(t,e,n,i){(e instanceof Gr||Ji(e)||e instanceof is&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof is&&(e.overridden=!0)),Kr(t,e,n,i)}class ss extends Gr{constructor(){super(or(ss.getDefaults(),arguments,["value"])),this.name="TickParam",this._events=new gr(1/0),this._multiplier=1;const t=or(ss.getDefaults(),arguments,["value"]);this._multiplier=t.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(t.value)}),this.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(Gr.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(t,e,n){e=this.toSeconds(e),this.setRampPoint(e);const i=this._fromType(t),r=this._events.get(e),s=Math.round(Math.max(1/n,1));for(let o=0;o<=s;o++){const t=n*o+e,s=this._exponentialApproach(r.time,r.value,i,n,t);this.linearRampToValueAtTime(this._toType(s),t)}return this}setValueAtTime(t,e){const n=this.toSeconds(e);super.setValueAtTime(t,e);const i=this._events.get(n),r=this._events.previousEvent(i),s=this._getTicksUntilEvent(r,n);return i.ticks=Math.max(s,0),this}linearRampToValueAtTime(t,e){const n=this.toSeconds(e);super.linearRampToValueAtTime(t,e);const i=this._events.get(n),r=this._events.previousEvent(i),s=this._getTicksUntilEvent(r,n);return i.ticks=Math.max(s,0),this}exponentialRampToValueAtTime(t,e){e=this.toSeconds(e);const n=this._fromType(t),i=this._events.get(e),r=Math.round(Math.max(10*(e-i.time),1)),s=(e-i.time)/r;for(let o=0;o<=r;o++){const t=s*o+i.time,r=this._exponentialInterpolate(i.time,i.value,e,n,t);this.linearRampToValueAtTime(this._toType(r),t)}return this}_getTicksUntilEvent(t,e){if(null===t)t={ticks:0,time:0,type:"setValueAtTime",value:0};else if(qi(t.ticks)){const e=this._events.previousEvent(t);t.ticks=this._getTicksUntilEvent(e,t.time)}const n=this._fromType(this.getValueAtTime(t.time));let i=this._fromType(this.getValueAtTime(e));const r=this._events.get(e);return r&&r.time===e&&"setValueAtTime"===r.type&&(i=this._fromType(this.getValueAtTime(e-this.sampleTime))),.5*(e-t.time)*(n+i)+t.ticks}getTicksAtTime(t){const e=this.toSeconds(t),n=this._events.get(e);return Math.max(this._getTicksUntilEvent(n,e),0)}getDurationOfTicks(t,e){const n=this.toSeconds(e),i=this.getTicksAtTime(e);return this.getTimeOfTick(i+t)-n}getTimeOfTick(t){const e=this._events.get(t,"ticks"),n=this._events.getAfter(t,"ticks");if(e&&e.ticks===t)return e.time;if(e&&n&&"linearRampToValueAtTime"===n.type&&e.value!==n.value){const i=this._fromType(this.getValueAtTime(e.time)),r=(this._fromType(this.getValueAtTime(n.time))-i)/(n.time-e.time),s=Math.sqrt(Math.pow(i,2)-2*r*(e.ticks-t)),o=(-i+s)/r;return(o>0?o:(-i-s)/r)+e.time}return e?0===e.value?1/0:e.time+(t-e.ticks)/e.value:t/this._initialValue}ticksToTime(t,e){return this.getDurationOfTicks(t,e)}timeToTicks(t,e){const n=this.toSeconds(e),i=this.toSeconds(t),r=this.getTicksAtTime(n);return this.getTicksAtTime(n+i)-r}_fromType(t){return"bpm"===this.units&&this.multiplier?1/(60/t/this.multiplier):super._fromType(t)}_toType(t){return"bpm"===this.units&&this.multiplier?t/this.multiplier*60:super._toType(t)}get multiplier(){return this._multiplier}set multiplier(t){const e=this.value;this._multiplier=t,this.cancelScheduledValues(0),this.setValueAtTime(e,0)}}class os extends is{constructor(){super(or(os.getDefaults(),arguments,["value"])),this.name="TickSignal";const t=or(os.getDefaults(),arguments,["value"]);this.input=this._param=new ss({context:this.context,convert:t.convert,multiplier:t.multiplier,param:this._constantSource.offset,units:t.units,value:t.value})}static getDefaults(){return Object.assign(is.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(t,e){return this._param.ticksToTime(t,e)}timeToTicks(t,e){return this._param.timeToTicks(t,e)}getTimeOfTick(t){return this._param.getTimeOfTick(t)}getDurationOfTicks(t,e){return this._param.getDurationOfTicks(t,e)}getTicksAtTime(t){return this._param.getTicksAtTime(t)}get multiplier(){return this._param.multiplier}set multiplier(t){this._param.multiplier=t}dispose(){return super.dispose(),this._param.dispose(),this}}class as extends $r{constructor(){super(or(as.getDefaults(),arguments,["frequency"])),this.name="TickSource",this._state=new Yr,this._tickOffset=new gr;const t=or(as.getDefaults(),arguments,["frequency"]);this.frequency=new os({context:this.context,units:t.units,value:t.frequency}),kr(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},$r.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(t,e){const n=this.toSeconds(t);return"started"!==this._state.getValueAtTime(n)&&(this._state.setStateAtTime("started",n),ji(e)&&this.setTicksAtTime(e,n)),this}stop(t){const e=this.toSeconds(t);if("stopped"===this._state.getValueAtTime(e)){const t=this._state.get(e);t&&t.time>0&&(this._tickOffset.cancel(t.time),this._state.cancel(t.time))}return this._state.cancel(e),this._state.setStateAtTime("stopped",e),this.setTicksAtTime(0,e),this}pause(t){const e=this.toSeconds(t);return"started"===this._state.getValueAtTime(e)&&this._state.setStateAtTime("paused",e),this}cancel(t){return t=this.toSeconds(t),this._state.cancel(t),this._tickOffset.cancel(t),this}getTicksAtTime(t){const e=this.toSeconds(t),n=this._state.getLastState("stopped",e),i={state:"paused",time:e};this._state.add(i);let r=n,s=0;return this._state.forEachBetween(n.time,e+this.sampleTime,(t=>{let e=r.time;const n=this._tickOffset.get(t.time);n&&n.time>=r.time&&(s=n.ticks,e=n.time),"started"===r.state&&"started"!==t.state&&(s+=this.frequency.getTicksAtTime(t.time)-this.frequency.getTicksAtTime(e)),r=t})),this._state.remove(i),s}get ticks(){return this.getTicksAtTime(this.now())}set ticks(t){this.setTicksAtTime(t,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(t){const e=this.now(),n=this.frequency.timeToTicks(t,e);this.setTicksAtTime(n,e)}getSecondsAtTime(t){t=this.toSeconds(t);const e=this._state.getLastState("stopped",t),n={state:"paused",time:t};this._state.add(n);let i=e,r=0;return this._state.forEachBetween(e.time,t+this.sampleTime,(t=>{let e=i.time;const n=this._tickOffset.get(t.time);n&&n.time>=i.time&&(r=n.seconds,e=n.time),"started"===i.state&&"started"!==t.state&&(r+=t.time-e),i=t})),this._state.remove(n),r}setTicksAtTime(t,e){return e=this.toSeconds(e),this._tickOffset.cancel(e),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(t,e),ticks:t,time:e}),this}getStateAtTime(t){return t=this.toSeconds(t),this._state.getValueAtTime(t)}getTimeOfTick(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.now();const n=this._tickOffset.get(e),i=this._state.get(e),r=Math.max(n.time,i.time),s=this.frequency.getTicksAtTime(r)+t-n.ticks;return this.frequency.getTimeOfTick(s)}forEachTickBetween(t,e,n){let i=this._state.get(t);this._state.forEachBetween(t,e,(e=>{i&&"started"===i.state&&"started"!==e.state&&this.forEachTickBetween(Math.max(i.time,t),e.time-this.sampleTime,n),i=e}));let r=null;if(i&&"started"===i.state){const o=Math.max(i.time,t),a=this.frequency.getTicksAtTime(o),l=a-this.frequency.getTicksAtTime(i.time);let u=Math.ceil(l)-l;u=fr(u,1)?0:u;let c=this.frequency.getTimeOfTick(a+u);for(;c<e;){try{n(c,Math.round(this.getTicksAtTime(c)))}catch(s){r=s;break}c+=this.frequency.getDurationOfTicks(1,c)}}if(r)throw r;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this.frequency.dispose(),this}}class ls extends $r{constructor(){super(or(ls.getDefaults(),arguments,["callback","frequency"])),this.name="Clock",this.callback=Sr,this._lastUpdate=0,this._state=new Yr("stopped"),this._boundLoop=this._loop.bind(this);const t=or(ls.getDefaults(),arguments,["callback","frequency"]);this.callback=t.callback,this._tickSource=new as({context:this.context,frequency:t.frequency,units:t.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,kr(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign($r.getDefaults(),{callback:Sr,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(t,e){Fi(this.context);const n=this.toSeconds(t);return this.log("start",n),"started"!==this._state.getValueAtTime(n)&&(this._state.setStateAtTime("started",n),this._tickSource.start(n,e),n<this._lastUpdate&&this.emit("start",n,e)),this}stop(t){const e=this.toSeconds(t);return this.log("stop",e),this._state.cancel(e),this._state.setStateAtTime("stopped",e),this._tickSource.stop(e),e<this._lastUpdate&&this.emit("stop",e),this}pause(t){const e=this.toSeconds(t);return"started"===this._state.getValueAtTime(e)&&(this._state.setStateAtTime("paused",e),this._tickSource.pause(e),e<this._lastUpdate&&this.emit("pause",e)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(t){this._tickSource.ticks=t}get seconds(){return this._tickSource.seconds}set seconds(t){this._tickSource.seconds=t}getSecondsAtTime(t){return this._tickSource.getSecondsAtTime(t)}setTicksAtTime(t,e){return this._tickSource.setTicksAtTime(t,e),this}getTimeOfTick(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.now();return this._tickSource.getTimeOfTick(t,e)}getTicksAtTime(t){return this._tickSource.getTicksAtTime(t)}nextTickTime(t,e){const n=this.toSeconds(e),i=this.getTicksAtTime(n);return this._tickSource.getTimeOfTick(i+t,n)}_loop(){const t=this._lastUpdate,e=this.now();this._lastUpdate=e,this.log("loop",t,e),t!==e&&(this._state.forEachBetween(t,e,(t=>{switch(t.state){case"started":const e=this._tickSource.getTicksAtTime(t.time);this.emit("start",t.time,e);break;case"stopped":0!==t.time&&this.emit("stop",t.time);break;case"paused":this.emit("pause",t.time)}})),this._tickSource.forEachTickBetween(t,e,((t,e)=>{this.callback(t,e)})))}getStateAtTime(t){const e=this.toSeconds(t);return this._state.getValueAtTime(e)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}wr.mixin(ls);class us extends ur{constructor(t){super(),this.name="TimelineValue",this._timeline=new gr({memory:10}),this._initialValue=t}set(t,e){return this._timeline.add({value:t,time:e}),this}get(t){const e=this._timeline.get(t);return e?e.value:this._initialValue}}class cs extends Hr{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(t){return this._getPPQ()*t}_secondsToUnits(t){return Math.floor(t/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(t){return t}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class hs extends ur{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(t){Ri(ji(t.time),"Events must have a time property"),Ri(ji(t.duration),"Events must have a duration parameter"),t.time=t.time.valueOf();let e=new ds(t.time,t.time+t.duration,t);for(null===this._root?this._root=e:this._root.insert(e),this._length++;null!==e;)e.updateHeight(),e.updateMax(),this._rebalance(e),e=e.parent;return this}remove(t){if(null!==this._root){const e=[];this._root.search(t.time,e);for(const n of e)if(n.event===t){this._removeNode(n),this._length--;break}}return this}get length(){return this._length}cancel(t){return this.forEachFrom(t,(t=>this.remove(t))),this}_setRoot(t){this._root=t,null!==this._root&&(this._root.parent=null)}_replaceNodeInParent(t,e){null!==t.parent?(t.isLeftChild()?t.parent.left=e:t.parent.right=e,this._rebalance(t.parent)):this._setRoot(e)}_removeNode(t){if(null===t.left&&null===t.right)this._replaceNodeInParent(t,null);else if(null===t.right)this._replaceNodeInParent(t,t.left);else if(null===t.left)this._replaceNodeInParent(t,t.right);else{let e,n=null;if(t.getBalance()>0)if(null===t.left.right)e=t.left,e.right=t.right,n=e;else{for(e=t.left.right;null!==e.right;)e=e.right;e.parent&&(e.parent.right=e.left,n=e.parent,e.left=t.left,e.right=t.right)}else if(null===t.right.left)e=t.right,e.left=t.left,n=e;else{for(e=t.right.left;null!==e.left;)e=e.left;e.parent&&(e.parent.left=e.right,n=e.parent,e.left=t.left,e.right=t.right)}null!==t.parent?t.isLeftChild()?t.parent.left=e:t.parent.right=e:this._setRoot(e),n&&this._rebalance(n)}t.dispose()}_rotateLeft(t){const e=t.parent,n=t.isLeftChild(),i=t.right;i&&(t.right=i.left,i.left=t),null!==e?n?e.left=i:e.right=i:this._setRoot(i)}_rotateRight(t){const e=t.parent,n=t.isLeftChild(),i=t.left;i&&(t.left=i.right,i.right=t),null!==e?n?e.left=i:e.right=i:this._setRoot(i)}_rebalance(t){const e=t.getBalance();e>1&&t.left?t.left.getBalance()<0?this._rotateLeft(t.left):this._rotateRight(t):e<-1&&t.right&&(t.right.getBalance()>0?this._rotateRight(t.right):this._rotateLeft(t))}get(t){if(null!==this._root){const e=[];if(this._root.search(t,e),e.length>0){let t=e[0];for(let n=1;n<e.length;n++)e[n].low>t.low&&(t=e[n]);return t.event}}return null}forEach(t){if(null!==this._root){const e=[];this._root.traverse((t=>e.push(t))),e.forEach((e=>{e.event&&t(e.event)}))}return this}forEachAtTime(t,e){if(null!==this._root){const n=[];this._root.search(t,n),n.forEach((t=>{t.event&&e(t.event)}))}return this}forEachFrom(t,e){if(null!==this._root){const n=[];this._root.searchAfter(t,n),n.forEach((t=>{t.event&&e(t.event)}))}return this}dispose(){return super.dispose(),null!==this._root&&this._root.traverse((t=>t.dispose())),this._root=null,this}}class ds{constructor(t,e,n){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=n,this.low=t,this.high=e,this.max=this.high}insert(t){t.low<=this.low?null===this.left?this.left=t:this.left.insert(t):null===this.right?this.right=t:this.right.insert(t)}search(t,e){t>this.max||(null!==this.left&&this.left.search(t,e),this.low<=t&&this.high>t&&e.push(this),this.low>t||null!==this.right&&this.right.search(t,e))}searchAfter(t,e){this.low>=t&&(e.push(this),null!==this.left&&this.left.searchAfter(t,e)),null!==this.right&&this.right.searchAfter(t,e)}traverse(t){t(this),null!==this.left&&this.left.traverse(t),null!==this.right&&this.right.traverse(t)}updateHeight(){null!==this.left&&null!==this.right?this.height=Math.max(this.left.height,this.right.height)+1:null!==this.right?this.height=this.right.height+1:null!==this.left?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,null!==this.left&&(this.max=Math.max(this.max,this.left.max)),null!==this.right&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let t=0;return null!==this.left&&null!==this.right?t=this.left.height-this.right.height:null!==this.left?t=this.left.height+1:null!==this.right&&(t=-(this.right.height+1)),t}isLeftChild(){return null!==this.parent&&this.parent.left===this}get left(){return this._left}set left(t){this._left=t,null!==t&&(t.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(t){this._right=t,null!==t&&(t.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class ps{constructor(t,e){this.id=ps._eventId++;const n=Object.assign(ps.getDefaults(),e);this.transport=t,this.callback=n.callback,this._once=n.once,this.time=n.time}static getDefaults(){return{callback:Sr,once:!1,time:0}}invoke(t){this.callback&&(this.callback(t),this._once&&this.transport.clear(this.id))}dispose(){return this.callback=void 0,this}}ps._eventId=0;class fs extends ps{constructor(t,e){super(t,e),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const n=Object.assign(fs.getDefaults(),e);this.duration=new cs(t.context,n.duration).valueOf(),this._interval=new cs(t.context,n.interval).valueOf(),this._nextTick=n.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},ps.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(t){this._createEvents(t),super.invoke(t)}_createEvents(t){const e=this.transport.getTicksAtTime(t);e>=this.time&&e>=this._nextTick&&this._nextTick+this._interval<this.time+this.duration&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new cs(this.context,this._nextTick).toSeconds()))}_restart(t){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.time;const e=this.transport.getTicksAtTime(t);e>this.time&&(this._nextTick=this.time+Math.ceil((e-this.time)/this._interval)*this._interval),this._currentId=this.transport.scheduleOnce(this.invoke.bind(this),new cs(this.context,this._nextTick).toSeconds()),this._nextTick+=this._interval,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new cs(this.context,this._nextTick).toSeconds())}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this}}class ms extends $r{constructor(){super(or(ms.getDefaults(),arguments)),this.name="Transport",this._loop=new us(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new gr,this._repeatedEvents=new hs,this._syncedSignals=[],this._swingAmount=0;const t=or(ms.getDefaults(),arguments);this._ppq=t.ppq,this._clock=new ls({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=t.ppq,this.bpm.setValueAtTime(t.bpm,0),kr(this,"bpm"),this._timeSignature=t.timeSignature,this._swingTicks=t.ppq/2}static getDefaults(){return Object.assign($r.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(t,e){if(this._swingAmount>0&&e%this._ppq!==0&&e%(2*this._swingTicks)!==0){const n=e%(2*this._swingTicks)/(2*this._swingTicks),i=Math.sin(n*Math.PI)*this._swingAmount;t+=new cs(this.context,2*this._swingTicks/3).toSeconds()*i}this._loop.get(t)&&e>=this._loopEnd&&(this.emit("loopEnd",t),this._clock.setTicksAtTime(this._loopStart,t),e=this._loopStart,this.emit("loopStart",t,this._clock.getSecondsAtTime(t)),this.emit("loop",t)),this._timeline.forEachAtTime(e,(e=>e.invoke(t)))}schedule(t,e){const n=new ps(this,{callback:t,time:new Hr(this.context,e).toTicks()});return this._addEvent(n,this._timeline)}scheduleRepeat(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;const r=new fs(this,{callback:t,duration:new jr(this.context,i).toTicks(),interval:new jr(this.context,e).toTicks(),time:new Hr(this.context,n).toTicks()});return this._addEvent(r,this._repeatedEvents)}scheduleOnce(t,e){const n=new ps(this,{callback:t,once:!0,time:new Hr(this.context,e).toTicks()});return this._addEvent(n,this._timeline)}clear(t){if(this._scheduledEvents.hasOwnProperty(t)){const e=this._scheduledEvents[t.toString()];e.timeline.remove(e.event),e.event.dispose(),delete this._scheduledEvents[t.toString()]}return this}_addEvent(t,e){return this._scheduledEvents[t.id.toString()]={event:t,timeline:e},e.add(t),t.id}cancel(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const e=this.toTicks(t);return this._timeline.forEachFrom(e,(t=>this.clear(t.id))),this._repeatedEvents.forEachFrom(e,(t=>this.clear(t.id))),this}_bindClockEvents(){this._clock.on("start",((t,e)=>{e=new cs(this.context,e).toSeconds(),this.emit("start",t,e)})),this._clock.on("stop",(t=>{this.emit("stop",t)})),this._clock.on("pause",(t=>{this.emit("pause",t)}))}get state(){return this._clock.getStateAtTime(this.now())}start(t,e){let n;return ji(e)&&(n=this.toTicks(e)),this._clock.start(t,n),this}stop(t){return this._clock.stop(t),this}pause(t){return this._clock.pause(t),this}toggle(t){return t=this.toSeconds(t),"started"!==this._clock.getStateAtTime(t)?this.start(t):this.stop(t),this}get timeSignature(){return this._timeSignature}set timeSignature(t){Qi(t)&&(t=t[0]/t[1]*4),this._timeSignature=t}get loopStart(){return new jr(this.context,this._loopStart,"i").toSeconds()}set loopStart(t){this._loopStart=this.toTicks(t)}get loopEnd(){return new jr(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(t){this._loopEnd=this.toTicks(t)}get loop(){return this._loop.get(this.now())}set loop(t){this._loop.set(t,this.now())}setLoopPoints(t,e){return this.loopStart=t,this.loopEnd=e,this}get swing(){return this._swingAmount}set swing(t){this._swingAmount=t}get swingSubdivision(){return new cs(this.context,this._swingTicks).toNotation()}set swingSubdivision(t){this._swingTicks=this.toTicks(t)}get position(){const t=this.now(),e=this._clock.getTicksAtTime(t);return new cs(this.context,e).toBarsBeatsSixteenths()}set position(t){const e=this.toTicks(t);this.ticks=e}get seconds(){return this._clock.seconds}set seconds(t){const e=this.now(),n=this._clock.frequency.timeToTicks(t,e);this.ticks=n}get progress(){if(this.loop){const t=this.now();return(this._clock.getTicksAtTime(t)-this._loopStart)/(this._loopEnd-this._loopStart)}return 0}get ticks(){return this._clock.ticks}set ticks(t){if(this._clock.ticks!==t){const e=this.now();if("started"===this.state){const n=this._clock.getTicksAtTime(e),i=this._clock.getTimeOfTick(Math.ceil(n));this.emit("stop",i),this._clock.setTicksAtTime(t,i),this.emit("start",i,this._clock.getSecondsAtTime(i))}else this._clock.setTicksAtTime(t,e)}}getTicksAtTime(t){return Math.round(this._clock.getTicksAtTime(t))}getSecondsAtTime(t){return this._clock.getSecondsAtTime(t)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(t){this._clock.frequency.multiplier=t}nextSubdivision(t){if(t=this.toTicks(t),"started"!==this.state)return 0;{const e=this.now(),n=t-this.getTicksAtTime(e)%t;return this._clock.nextTickTime(n,e)}}syncSignal(t,e){if(!e){const n=this.now();if(0!==t.getValueAtTime(n)){const i=1/(60/this.bpm.getValueAtTime(n)/this.PPQ);e=t.getValueAtTime(n)/i}else e=0}const n=new ts(e);return this.bpm.connect(n),n.connect(t._param),this._syncedSignals.push({initial:t.value,ratio:n,signal:t}),t.value=0,this}unsyncSignal(t){for(let e=this._syncedSignals.length-1;e>=0;e--){const n=this._syncedSignals[e];n.signal===t&&(n.ratio.dispose(),n.signal.value=n.initial,this._syncedSignals.splice(e,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),Cr(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}wr.mixin(ms),_r((t=>{t.transport=new ms({context:t})})),br((t=>{t.transport.dispose()}));class gs extends Xr{constructor(){super(or(gs.getDefaults(),arguments,["volume"])),this.name="Volume";const t=or(gs.getDefaults(),arguments,["volume"]);this.input=this.output=new ts({context:this.context,gain:t.volume,units:"decibels"}),this.volume=this.output.gain,kr(this,"volume"),this._unmutedVolume=t.volume,this.mute=t.mute}static getDefaults(){return Object.assign(Xr.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(t){!this.mute&&t?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!t&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class vs extends Xr{constructor(){super(or(vs.getDefaults(),arguments)),this.name="Destination",this.input=new gs({context:this.context}),this.output=new ts({context:this.context}),this.volume=this.input.volume;const t=or(vs.getDefaults(),arguments);Zr(this.input,this.output,this.context.rawContext.destination),this.mute=t.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(Xr.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(t){this.input.mute=t}chain(){this.input.disconnect();for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.unshift(this.input),e.push(this.output),Zr(...e),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}_r((t=>{t.destination=new vs({context:t})})),br((t=>{t.destination.dispose()}));class _s extends ur{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const t=or(_s.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=t.baseUrl,Object.keys(t.urls).forEach((e=>{this._loadingCount++;const n=t.urls[e];this.add(e,n,this._bufferLoaded.bind(this,t.onload),t.onerror)}))}static getDefaults(){return{baseUrl:"",onerror:Sr,onload:Sr,urls:{}}}has(t){return this._buffers.has(t.toString())}get(t){return Ri(this.has(t),`ToneAudioBuffers has no buffer named: ${t}`),this._buffers.get(t.toString())}_bufferLoaded(t){this._loadingCount--,0===this._loadingCount&&t&&t()}get loaded(){return Array.from(this._buffers).every((t=>{let[e,n]=t;return n.loaded}))}add(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Sr,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Sr;return Hi(e)?this._buffers.set(t.toString(),new Er(this.baseUrl+e,n,i)):this._buffers.set(t.toString(),new Er(e,n,i)),this}dispose(){return super.dispose(),this._buffers.forEach((t=>t.dispose())),this._buffers.clear(),this}}class ys extends $r{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new gr,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(t,e){return this._events.add({callback:t,time:this.toSeconds(e)}),1===this._events.length&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(t){return this._events.cancel(this.toSeconds(t)),this}_drawLoop(){const t=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=t;){const e=this._events.shift();e&&t-e.time<=this.expiration&&e.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}_r((t=>{t.draw=new ys({context:t})})),br((t=>{t.draw.dispose()}));class bs extends Xr{constructor(t){super(t),this.input=void 0,this._state=new Yr("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=Sr,this._syncedStop=Sr,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new gs({context:this.context,mute:t.mute,volume:t.volume}),this.volume=this._volume.volume,kr(this,"volume"),this.onstop=t.onstop}static getDefaults(){return Object.assign(Xr.getDefaults(),{mute:!1,onstop:Sr,volume:0})}get state(){return this._synced?"started"===this.context.transport.state?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}_clampToCurrentTime(t){return this._synced?t:Math.max(t,this.context.currentTime)}start(t,e,n){let i=qi(t)&&this._synced?this.context.transport.seconds:this.toSeconds(t);if(i=this._clampToCurrentTime(i),this._synced||"started"!==this._state.getValueAtTime(i))if(this.log("start",i),this._state.setStateAtTime("started",i),this._synced){const t=this._state.get(i);t&&(t.offset=this.toSeconds(ar(e,0)),t.duration=n?this.toSeconds(n):void 0);const r=this.context.transport.schedule((t=>{this._start(t,e,n)}),i);this._scheduled.push(r),"started"===this.context.transport.state&&this.context.transport.getSecondsAtTime(this.immediate())>i&&this._syncedStart(this.now(),this.context.transport.seconds)}else Fi(this.context),this._start(i,e,n);else Ri(hr(i,this._state.get(i).time),"Start time must be strictly greater than previous start time"),this._state.cancel(i),this._state.setStateAtTime("started",i),this.log("restart",i),this.restart(i,e,n);return this}stop(t){let e=qi(t)&&this._synced?this.context.transport.seconds:this.toSeconds(t);if(e=this._clampToCurrentTime(e),"started"===this._state.getValueAtTime(e)||ji(this._state.getNextState("started",e))){if(this.log("stop",e),this._synced){const t=this.context.transport.schedule(this._stop.bind(this),e);this._scheduled.push(t)}else this._stop(e);this._state.cancel(e),this._state.setStateAtTime("stopped",e)}return this}restart(t,e,n){return t=this.toSeconds(t),"started"===this._state.getValueAtTime(t)&&(this._state.cancel(t),this._restart(t,e,n)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(t,e)=>{if(e>0){const n=this._state.get(e);if(n&&"started"===n.state&&n.time!==e){const i=e-this.toSeconds(n.time);let r;n.duration&&(r=this.toSeconds(n.duration)-i),this._start(t,this.toSeconds(n.offset)+i,r)}}},this._syncedStop=t=>{const e=this.context.transport.getSecondsAtTime(Math.max(t-this.sampleTime,0));"started"===this._state.getValueAtTime(e)&&this._stop(t)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach((t=>this.context.transport.clear(t))),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=Sr,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class ws extends es{constructor(){super(or(ws.getDefaults(),arguments,["url","onload"])),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1;const t=or(ws.getDefaults(),arguments,["url","onload"]);Kr(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new Gr({context:this.context,param:this._source.playbackRate,units:"positive",value:t.playbackRate}),this.loop=t.loop,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this._buffer=new Er(t.url,t.onload,t.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(es.getDefaults(),{url:new Er,loop:!1,loopEnd:0,loopStart:0,onload:Sr,onerror:Sr,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(t){this._fadeIn=t}get fadeOut(){return this._fadeOut}set fadeOut(t){this._fadeOut=t}get curve(){return this._curve}set curve(t){this._curve=t}start(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;Ri(this.buffer.loaded,"buffer is either not set or not loaded");const r=this.toSeconds(t);this._startGain(r,i),e=this.loop?ar(e,this.loopStart):ar(e,0);let s=Math.max(this.toSeconds(e),0);if(this.loop){const t=this.toSeconds(this.loopEnd)||this.buffer.duration,e=this.toSeconds(this.loopStart),n=t-e;dr(s,t)&&(s=(s-e)%n+e),fr(s,this.buffer.duration)&&(s=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,pr(s,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(r,s)),ji(n)){let t=this.toSeconds(n);t=Math.max(t,0),this.stop(r+t)}return this}_stopSource(t){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(t)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(t){this._source.loopStart=this.toSeconds(t)}get loopEnd(){return this._source.loopEnd}set loopEnd(t){this._source.loopEnd=this.toSeconds(t)}get buffer(){return this._buffer}set buffer(t){this._buffer.set(t)}get loop(){return this._source.loop}set loop(t){this._source.loop=t,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}class xs extends bs{constructor(){super(or(xs.getDefaults(),arguments,["type"])),this.name="Noise",this._source=null;const t=or(xs.getDefaults(),arguments,["type"]);this._playbackRate=t.playbackRate,this.type=t.type,this._fadeIn=t.fadeIn,this._fadeOut=t.fadeOut}static getDefaults(){return Object.assign(bs.getDefaults(),{fadeIn:0,fadeOut:0,playbackRate:1,type:"white"})}get type(){return this._type}set type(t){if(Ri(t in Cs,"Noise: invalid type: "+t),this._type!==t&&(this._type=t,"started"===this.state)){const t=this.now();this._stop(t),this._start(t)}}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t,this._source&&(this._source.playbackRate.value=t)}_start(t){const e=Cs[this._type];this._source=new ws({url:e,context:this.context,fadeIn:this._fadeIn,fadeOut:this._fadeOut,loop:!0,onended:()=>this.onstop(this),playbackRate:this._playbackRate}).connect(this.output),this._source.start(this.toSeconds(t),Math.random()*(e.duration-.001))}_stop(t){this._source&&(this._source.stop(this.toSeconds(t)),this._source=null)}get fadeIn(){return this._fadeIn}set fadeIn(t){this._fadeIn=t,this._source&&(this._source.fadeIn=this._fadeIn)}get fadeOut(){return this._fadeOut}set fadeOut(t){this._fadeOut=t,this._source&&(this._source.fadeOut=this._fadeOut)}_restart(t){this._stop(t),this._start(t)}dispose(){return super.dispose(),this._source&&this._source.disconnect(),this}}const Ts=220500,ks={brown:null,pink:null,white:null},Cs={get brown(){if(!ks.brown){const t=[];for(let e=0;e<2;e++){const n=new Float32Array(Ts);t[e]=n;let i=0;for(let t=0;t<Ts;t++){const e=2*Math.random()-1;n[t]=(i+.02*e)/1.02,i=n[t],n[t]*=3.5}}ks.brown=(new Er).fromArray(t)}return ks.brown},get pink(){if(!ks.pink){const t=[];for(let e=0;e<2;e++){const n=new Float32Array(Ts);let i,r,s,o,a,l,u;t[e]=n,i=r=s=o=a=l=u=0;for(let t=0;t<Ts;t++){const e=2*Math.random()-1;i=.99886*i+.0555179*e,r=.99332*r+.0750759*e,s=.969*s+.153852*e,o=.8665*o+.3104856*e,a=.55*a+.5329522*e,l=-.7616*l-.016898*e,n[t]=i+r+s+o+a+l+u+.5362*e,n[t]*=.11,u=.115926*e}}ks.pink=(new Er).fromArray(t)}return ks.pink},get white(){if(!ks.white){const t=[];for(let e=0;e<2;e++){const n=new Float32Array(Ts);t[e]=n;for(let t=0;t<Ts;t++)n[t]=2*Math.random()-1}ks.white=(new Er).fromArray(t)}return ks.white}};function Ss(t,e){return Zi(this,void 0,void 0,(function*(){const n=e/t.context.sampleRate,i=new Ar(1,n,t.context.sampleRate);new t.constructor(Object.assign(t.get(),{frequency:2/n,detune:0,context:i})).toDestination().start(0);return(yield i.render()).getChannelData(0)}))}class Es extends es{constructor(){super(or(Es.getDefaults(),arguments,["frequency","type"])),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator];const t=or(Es.getDefaults(),arguments,["frequency","type"]);Kr(this._oscillator,this._gainNode),this.type=t.type,this.frequency=new Gr({context:this.context,param:this._oscillator.frequency,units:"frequency",value:t.frequency}),this.detune=new Gr({context:this.context,param:this._oscillator.detune,units:"cents",value:t.detune}),kr(this,["frequency","detune"])}static getDefaults(){return Object.assign(es.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(t){const e=this.toSeconds(t);return this.log("start",e),this._startGain(e),this._oscillator.start(e),this}_stopSource(t){this._oscillator.stop(t)}setPeriodicWave(t){return this._oscillator.setPeriodicWave(t),this}get type(){return this._oscillator.type}set type(t){this._oscillator.type=t}dispose(){return super.dispose(),"started"===this.state&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class As extends bs{constructor(){super(or(As.getDefaults(),arguments,["frequency","type"])),this.name="Oscillator",this._oscillator=null;const t=or(As.getDefaults(),arguments,["frequency","type"]);this.frequency=new is({context:this.context,units:"frequency",value:t.frequency}),kr(this,"frequency"),this.detune=new is({context:this.context,units:"cents",value:t.detune}),kr(this,"detune"),this._partials=t.partials,this._partialCount=t.partialCount,this._type=t.type,t.partialCount&&"custom"!==t.type&&(this._type=this.baseType+t.partialCount.toString()),this.phase=t.phase}static getDefaults(){return Object.assign(bs.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(t){const e=this.toSeconds(t),n=new Es({context:this.context,onended:()=>this.onstop(this)});this._oscillator=n,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(e)}_stop(t){const e=this.toSeconds(t);this._oscillator&&this._oscillator.stop(e)}_restart(t){const e=this.toSeconds(t);return this.log("restart",e),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(e),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if("custom"===this._type){return As._periodicWaveCache.find((t=>{return t.phase===this._phase&&(e=t.partials,n=this._partials,e.length===n.length&&e.every(((t,e)=>n[e]===t)));var e,n}))}{const t=As._periodicWaveCache.find((t=>t.type===this._type&&t.phase===this._phase));return this._partialCount=t?t.partialCount:this._partialCount,t}}get type(){return this._type}set type(t){this._type=t;const e=-1!==["sine","square","sawtooth","triangle"].indexOf(t);if(0===this._phase&&e)this._wave=void 0,this._partialCount=0,null!==this._oscillator&&(this._oscillator.type=t);else{const e=this._getCachedPeriodicWave();if(ji(e)){const{partials:t,wave:n}=e;this._wave=n,this._partials=t,null!==this._oscillator&&this._oscillator.setPeriodicWave(this._wave)}else{const[e,n]=this._getRealImaginary(t,this._phase),i=this.context.createPeriodicWave(e,n);this._wave=i,null!==this._oscillator&&this._oscillator.setPeriodicWave(this._wave),As._periodicWaveCache.push({imag:n,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:e,type:this._type,wave:this._wave}),As._periodicWaveCache.length>100&&As._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(t){this.partialCount&&"custom"!==this._type&&"custom"!==t?this.type=t+this.partialCount:this.type=t}get partialCount(){return this._partialCount}set partialCount(t){Vi(t,0);let e=this._type;const n=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(n&&(e=n[1]),"custom"!==this._type)this.type=0===t?e:e+t.toString();else{const e=new Float32Array(t);this._partials.forEach(((t,n)=>e[n]=t)),this._partials=Array.from(e),this.type=this._type}}_getRealImaginary(t,e){let n=2048;const i=new Float32Array(n),r=new Float32Array(n);let s=1;if("custom"===t){if(s=this._partials.length+1,this._partialCount=this._partials.length,n=s,0===this._partials.length)return[i,r]}else{const e=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(t);e?(s=parseInt(e[2],10)+1,this._partialCount=parseInt(e[2],10),t=e[1],s=Math.max(s,2),n=s):this._partialCount=0,this._partials=[]}for(let o=1;o<n;++o){const n=2/(o*Math.PI);let a;switch(t){case"sine":a=o<=s?1:0,this._partials[o-1]=a;break;case"square":a=1&o?2*n:0,this._partials[o-1]=a;break;case"sawtooth":a=n*(1&o?1:-1),this._partials[o-1]=a;break;case"triangle":a=1&o?n*n*2*(o-1>>1&1?-1:1):0,this._partials[o-1]=a;break;case"custom":a=this._partials[o-1];break;default:throw new TypeError("Oscillator: invalid type: "+t)}0!==a?(i[o]=-a*Math.sin(e*o),r[o]=a*Math.cos(e*o)):(i[o]=0,r[o]=0)}return[i,r]}_inverseFFT(t,e,n){let i=0;const r=t.length;for(let s=0;s<r;s++)i+=t[s]*Math.cos(s*n)+e[s]*Math.sin(s*n);return i}getInitialValue(){const[t,e]=this._getRealImaginary(this._type,0);let n=0;const i=2*Math.PI;for(let r=0;r<32;r++)n=Math.max(this._inverseFFT(t,e,r/32*i),n);return mr(-this._inverseFFT(t,e,this._phase)/n,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(t){this._partials=t,this._partialCount=this._partials.length,t.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(t){this._phase=t*Math.PI/180,this.type=this._type}asArray(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1024;return Zi(this,void 0,void 0,(function*(){return Ss(this,t)}))}dispose(){return super.dispose(),null!==this._oscillator&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}As._periodicWaveCache=[];class Os extends Xr{constructor(){super(Object.assign(or(Os.getDefaults(),arguments,["context"])))}connect(t){return rs(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0),this}}class Ms extends Os{constructor(){super(Object.assign(or(Ms.getDefaults(),arguments,["mapping","length"]))),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper;const t=or(Ms.getDefaults(),arguments,["mapping","length"]);Qi(t.mapping)||t.mapping instanceof Float32Array?this.curve=Float32Array.from(t.mapping):"function"===typeof t.mapping&&this.setMap(t.mapping,t.length)}static getDefaults(){return Object.assign(is.getDefaults(),{length:1024})}setMap(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=new Float32Array(e);for(let i=0,r=e;i<r;i++){const e=i/(r-1)*2-1;n[i]=t(e,i)}return this.curve=n,this}get curve(){return this._shaper.curve}set curve(t){this._shaper.curve=t}get oversample(){return this._shaper.oversample}set oversample(t){Ri(["none","2x","4x"].some((e=>e.includes(t))),"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=t}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class Ds extends Os{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new Ms({context:this.context,mapping:t=>(t+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Is extends is{constructor(){super(Object.assign(or(Is.getDefaults(),arguments,["value"]))),this.name="Multiply",this.override=!1;const t=or(Is.getDefaults(),arguments,["value"]);this._mult=this.input=this.output=new ts({context:this.context,minValue:t.minValue,maxValue:t.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(is.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class Ps extends bs{constructor(){super(or(Ps.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="AMOscillator",this._modulationScale=new Ds({context:this.context}),this._modulationNode=new ts({context:this.context});const t=or(Ps.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new As({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase,type:t.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new As({context:this.context,phase:t.phase,type:t.modulationType}),this.harmonicity=new Is({context:this.context,units:"positive",value:t.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),kr(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(As.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(t){this._modulator.start(t),this._carrier.start(t)}_stop(t){this._modulator.stop(t),this._carrier.stop(t)}_restart(t){this._modulator.restart(t),this._carrier.restart(t)}get type(){return this._carrier.type}set type(t){this._carrier.type=t}get baseType(){return this._carrier.baseType}set baseType(t){this._carrier.baseType=t}get partialCount(){return this._carrier.partialCount}set partialCount(t){this._carrier.partialCount=t}get modulationType(){return this._modulator.type}set modulationType(t){this._modulator.type=t}get phase(){return this._carrier.phase}set phase(t){this._carrier.phase=t,this._modulator.phase=t}get partials(){return this._carrier.partials}set partials(t){this._carrier.partials=t}asArray(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1024;return Zi(this,void 0,void 0,(function*(){return Ss(this,t)}))}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class Ns extends bs{constructor(){super(or(Ns.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="FMOscillator",this._modulationNode=new ts({context:this.context,gain:0});const t=or(Ns.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new As({context:this.context,detune:t.detune,frequency:0,onstop:()=>this.onstop(this),phase:t.phase,type:t.type}),this.detune=this._carrier.detune,this.frequency=new is({context:this.context,units:"frequency",value:t.frequency}),this._modulator=new As({context:this.context,phase:t.phase,type:t.modulationType}),this.harmonicity=new Is({context:this.context,units:"positive",value:t.harmonicity}),this.modulationIndex=new Is({context:this.context,units:"positive",value:t.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),kr(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(As.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(t){this._modulator.start(t),this._carrier.start(t)}_stop(t){this._modulator.stop(t),this._carrier.stop(t)}_restart(t){return this._modulator.restart(t),this._carrier.restart(t),this}get type(){return this._carrier.type}set type(t){this._carrier.type=t}get baseType(){return this._carrier.baseType}set baseType(t){this._carrier.baseType=t}get partialCount(){return this._carrier.partialCount}set partialCount(t){this._carrier.partialCount=t}get modulationType(){return this._modulator.type}set modulationType(t){this._modulator.type=t}get phase(){return this._carrier.phase}set phase(t){this._carrier.phase=t,this._modulator.phase=t}get partials(){return this._carrier.partials}set partials(t){this._carrier.partials=t}asArray(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1024;return Zi(this,void 0,void 0,(function*(){return Ss(this,t)}))}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class Rs extends bs{constructor(){super(or(Rs.getDefaults(),arguments,["frequency","width"])),this.name="PulseOscillator",this._widthGate=new ts({context:this.context,gain:0}),this._thresh=new Ms({context:this.context,mapping:t=>t<=0?-1:1});const t=or(Rs.getDefaults(),arguments,["frequency","width"]);this.width=new is({context:this.context,units:"audioRange",value:t.width}),this._triangle=new As({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),kr(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(bs.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(t){t=this.toSeconds(t),this._triangle.start(t),this._widthGate.gain.setValueAtTime(1,t)}_stop(t){t=this.toSeconds(t),this._triangle.stop(t),this._widthGate.gain.cancelScheduledValues(t),this._widthGate.gain.setValueAtTime(0,t)}_restart(t){this._triangle.restart(t),this._widthGate.gain.cancelScheduledValues(t),this._widthGate.gain.setValueAtTime(1,t)}get phase(){return this._triangle.phase}set phase(t){this._triangle.phase=t}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(t){this._triangle.type=t}asArray(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1024;return Zi(this,void 0,void 0,(function*(){return Ss(this,t)}))}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class Vs extends bs{constructor(){super(or(Vs.getDefaults(),arguments,["frequency","type","spread"])),this.name="FatOscillator",this._oscillators=[];const t=or(Vs.getDefaults(),arguments,["frequency","type","spread"]);this.frequency=new is({context:this.context,units:"frequency",value:t.frequency}),this.detune=new is({context:this.context,units:"cents",value:t.detune}),this._spread=t.spread,this._type=t.type,this._phase=t.phase,this._partials=t.partials,this._partialCount=t.partialCount,this.count=t.count,kr(this,["frequency","detune"])}static getDefaults(){return Object.assign(As.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(t){t=this.toSeconds(t),this._forEach((e=>e.start(t)))}_stop(t){t=this.toSeconds(t),this._forEach((e=>e.stop(t)))}_restart(t){this._forEach((e=>e.restart(t)))}_forEach(t){for(let e=0;e<this._oscillators.length;e++)t(this._oscillators[e],e)}get type(){return this._type}set type(t){this._type=t,this._forEach((e=>e.type=t))}get spread(){return this._spread}set spread(t){if(this._spread=t,this._oscillators.length>1){const e=-t/2,n=t/(this._oscillators.length-1);this._forEach(((t,i)=>t.detune.value=e+n*i))}}get count(){return this._oscillators.length}set count(t){if(Vi(t,1),this._oscillators.length!==t){this._forEach((t=>t.dispose())),this._oscillators=[];for(let e=0;e<t;e++){const n=new As({context:this.context,volume:-6-1.1*t,type:this._type,phase:this._phase+e/t*360,partialCount:this._partialCount,onstop:0===e?()=>this.onstop(this):Sr});"custom"===this.type&&(n.partials=this._partials),this.frequency.connect(n.frequency),this.detune.connect(n.detune),n.detune.overridden=!1,n.connect(this.output),this._oscillators[e]=n}this.spread=this._spread,"started"===this.state&&this._forEach((t=>t.start()))}}get phase(){return this._phase}set phase(t){this._phase=t,this._forEach((e=>e.phase=t))}get baseType(){return this._oscillators[0].baseType}set baseType(t){this._forEach((e=>e.baseType=t)),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(t){this._partials=t,this._partialCount=this._partials.length,t.length&&(this._type="custom",this._forEach((e=>e.partials=t)))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(t){this._partialCount=t,this._forEach((e=>e.partialCount=t)),this._type=this._oscillators[0].type}asArray(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1024;return Zi(this,void 0,void 0,(function*(){return Ss(this,t)}))}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach((t=>t.dispose())),this}}class Fs extends bs{constructor(){super(or(Fs.getDefaults(),arguments,["frequency","modulationFrequency"])),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new Is({context:this.context,value:2});const t=or(Fs.getDefaults(),arguments,["frequency","modulationFrequency"]);this._pulse=new Rs({context:this.context,frequency:t.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new As({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),kr(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(bs.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(t){t=this.toSeconds(t),this._modulator.start(t),this._pulse.start(t)}_stop(t){t=this.toSeconds(t),this._modulator.stop(t),this._pulse.stop(t)}_restart(t){this._modulator.restart(t),this._pulse.restart(t)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(t){this._modulator.phase=t}asArray(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1024;return Zi(this,void 0,void 0,(function*(){return Ss(this,t)}))}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const Ls={am:Ps,fat:Vs,fm:Ns,oscillator:As,pulse:Rs,pwm:Fs};class zs extends bs{constructor(){super(or(zs.getDefaults(),arguments,["frequency","type"])),this.name="OmniOscillator";const t=or(zs.getDefaults(),arguments,["frequency","type"]);this.frequency=new is({context:this.context,units:"frequency",value:t.frequency}),this.detune=new is({context:this.context,units:"cents",value:t.detune}),kr(this,["frequency","detune"]),this.set(t)}static getDefaults(){return Object.assign(As.getDefaults(),Ns.getDefaults(),Ps.getDefaults(),Vs.getDefaults(),Rs.getDefaults(),Fs.getDefaults())}_start(t){this._oscillator.start(t)}_stop(t){this._oscillator.stop(t)}_restart(t){return this._oscillator.restart(t),this}get type(){let t="";return["am","fm","fat"].some((t=>this._sourceType===t))&&(t=this._sourceType),t+this._oscillator.type}set type(t){"fm"===t.substr(0,2)?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(2)):"am"===t.substr(0,2)?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(2)):"fat"===t.substr(0,3)?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(3)):"pwm"===t?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):"pulse"===t?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=t)}get partials(){return this._oscillator.partials}set partials(t){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||(this._oscillator.partials=t)}get partialCount(){return this._oscillator.partialCount}set partialCount(t){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||(this._oscillator.partialCount=t)}set(t){return Reflect.has(t,"type")&&t.type&&(this.type=t.type),super.set(t),this}_createNewOscillator(t){if(t!==this._sourceType){this._sourceType=t;const e=Ls[t],n=this.now();if(this._oscillator){const t=this._oscillator;t.stop(n),this.context.setTimeout((()=>t.dispose()),this.blockTime)}this._oscillator=new e({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),"started"===this.state&&this._oscillator.start(n)}}get phase(){return this._oscillator.phase}set phase(t){this._oscillator.phase=t}get sourceType(){return this._sourceType}set sourceType(t){let e="sine";"pwm"!==this._oscillator.type&&"pulse"!==this._oscillator.type&&(e=this._oscillator.type),"fm"===t?this.type="fm"+e:"am"===t?this.type="am"+e:"fat"===t?this.type="fat"+e:"oscillator"===t?this.type=e:"pulse"===t?this.type="pulse":"pwm"===t&&(this.type="pwm")}_getOscType(t,e){return t instanceof Ls[e]}get baseType(){return this._oscillator.baseType}set baseType(t){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||"pulse"===t||"pwm"===t||(this._oscillator.baseType=t)}get width(){return this._getOscType(this._oscillator,"pulse")?this._oscillator.width:void 0}get count(){return this._getOscType(this._oscillator,"fat")?this._oscillator.count:void 0}set count(t){this._getOscType(this._oscillator,"fat")&&Wi(t)&&(this._oscillator.count=t)}get spread(){return this._getOscType(this._oscillator,"fat")?this._oscillator.spread:void 0}set spread(t){this._getOscType(this._oscillator,"fat")&&Wi(t)&&(this._oscillator.spread=t)}get modulationType(){return this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am")?this._oscillator.modulationType:void 0}set modulationType(t){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&Hi(t)&&(this._oscillator.modulationType=t)}get modulationIndex(){return this._getOscType(this._oscillator,"fm")?this._oscillator.modulationIndex:void 0}get harmonicity(){return this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am")?this._oscillator.harmonicity:void 0}get modulationFrequency(){return this._getOscType(this._oscillator,"pwm")?this._oscillator.modulationFrequency:void 0}asArray(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1024;return Zi(this,void 0,void 0,(function*(){return Ss(this,t)}))}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}class qs extends is{constructor(){super(Object.assign(or(qs.getDefaults(),arguments,["value"]))),this.override=!1,this.name="Add",this._sum=new ts({context:this.context}),this.input=this._sum,this.output=this._sum,this.addend=this._param,Zr(this._constantSource,this._sum)}static getDefaults(){return Object.assign(is.getDefaults(),{value:0})}dispose(){return super.dispose(),this._sum.dispose(),this}}function js(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;const n=new WeakMap;return function(i,r){Reflect.defineProperty(i,r,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(i){Vi(i,t,e),n.set(this,i)}})}}function Ws(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;const n=new WeakMap;return function(i,r){Reflect.defineProperty(i,r,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(i){Vi(this.toSeconds(i),t,e),n.set(this,i)}})}}class Bs extends bs{constructor(){super(or(Bs.getDefaults(),arguments,["url","onload"])),this.name="Player",this._activeSources=new Set;const t=or(Bs.getDefaults(),arguments,["url","onload"]);this._buffer=new Er({onload:this._onload.bind(this,t.onload),onerror:t.onerror,reverse:t.reverse,url:t.url}),this.autostart=t.autostart,this._loop=t.loop,this._loopStart=t.loopStart,this._loopEnd=t.loopEnd,this._playbackRate=t.playbackRate,this.fadeIn=t.fadeIn,this.fadeOut=t.fadeOut}static getDefaults(){return Object.assign(bs.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:Sr,onerror:Sr,playbackRate:1,reverse:!1})}load(t){return Zi(this,void 0,void 0,(function*(){return yield this._buffer.load(t),this._onload(),this}))}_onload(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sr)(),this.autostart&&this.start()}_onSourceEnd(t){this.onstop(this),this._activeSources.delete(t),0!==this._activeSources.size||this._synced||"started"!==this._state.getValueAtTime(this.now())||this._state.setStateAtTime("stopped",this.now())}start(t,e,n){return super.start(t,e,n),this}_start(t,e,n){e=this._loop?ar(e,this._loopStart):ar(e,0);let i=this.toSeconds(e);this._synced&&(i*=this._playbackRate);const r=n;n=ar(n,Math.max(this._buffer.duration-i,0));let s=this.toSeconds(n);s/=this._playbackRate,t=this.toSeconds(t);const o=new ws({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);this._loop||this._synced||(this._state.cancel(t+s),this._state.setStateAtTime("stopped",t+s,{implicitEnd:!0})),this._activeSources.add(o),this._loop&&qi(r)?o.start(t,i):o.start(t,i,s-this.toSeconds(this.fadeOut))}_stop(t){const e=this.toSeconds(t);this._activeSources.forEach((t=>t.stop(e)))}restart(t,e,n){return super.restart(t,e,n),this}_restart(t,e,n){this._stop(t),this._start(t,e,n)}seek(t,e){const n=this.toSeconds(e);if("started"===this._state.getValueAtTime(n)){const e=this.toSeconds(t);this._stop(n),this._start(n,e)}return this}setLoopPoints(t,e){return this.loopStart=t,this.loopEnd=e,this}get loopStart(){return this._loopStart}set loopStart(t){this._loopStart=t,this.buffer.loaded&&Vi(this.toSeconds(t),0,this.buffer.duration),this._activeSources.forEach((e=>{e.loopStart=t}))}get loopEnd(){return this._loopEnd}set loopEnd(t){this._loopEnd=t,this.buffer.loaded&&Vi(this.toSeconds(t),0,this.buffer.duration),this._activeSources.forEach((e=>{e.loopEnd=t}))}get buffer(){return this._buffer}set buffer(t){this._buffer.set(t)}get loop(){return this._loop}set loop(t){if(this._loop!==t&&(this._loop=t,this._activeSources.forEach((e=>{e.loop=t})),t)){const t=this._state.getNextState("stopped",this.now());t&&this._state.cancel(t.time)}}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t;const e=this.now(),n=this._state.getNextState("stopped",e);n&&n.implicitEnd&&(this._state.cancel(n.time),this._activeSources.forEach((t=>t.cancelStop()))),this._activeSources.forEach((n=>{n.playbackRate.setValueAtTime(t,e)}))}get reverse(){return this._buffer.reverse}set reverse(t){this._buffer.reverse=t}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach((t=>t.dispose())),this._activeSources.clear(),this._buffer.dispose(),this}}Xi([Ws(0)],Bs.prototype,"fadeIn",void 0),Xi([Ws(0)],Bs.prototype,"fadeOut",void 0);class Us extends Os{constructor(){super(...arguments),this.name="GainToAudio",this._norm=new Ms({context:this.context,mapping:t=>2*Math.abs(t)-1}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Qs extends Os{constructor(){super(...arguments),this.name="Negate",this._multiply=new Is({context:this.context,value:-1}),this.input=this._multiply,this.output=this._multiply}dispose(){return super.dispose(),this._multiply.dispose(),this}}class Hs extends is{constructor(){super(Object.assign(or(Hs.getDefaults(),arguments,["value"]))),this.override=!1,this.name="Subtract",this._sum=new ts({context:this.context}),this.input=this._sum,this.output=this._sum,this._neg=new Qs({context:this.context}),this.subtrahend=this._param,Zr(this._constantSource,this._neg,this._sum)}static getDefaults(){return Object.assign(is.getDefaults(),{value:0})}dispose(){return super.dispose(),this._neg.dispose(),this._sum.dispose(),this}}class $s extends Xr{constructor(){super(or($s.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="Envelope",this._sig=new is({context:this.context,value:0}),this.output=this._sig,this.input=void 0;const t=or($s.getDefaults(),arguments,["attack","decay","sustain","release"]);this.attack=t.attack,this.decay=t.decay,this.sustain=t.sustain,this.release=t.release,this.attackCurve=t.attackCurve,this.releaseCurve=t.releaseCurve,this.decayCurve=t.decayCurve}static getDefaults(){return Object.assign(Xr.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(t,e){if(Hi(t))return t;{let n;for(n in Ys)if(Ys[n][e]===t)return n;return t}}_setCurve(t,e,n){if(Hi(n)&&Reflect.has(Ys,n)){const i=Ys[n];Bi(i)?"_decayCurve"!==t&&(this[t]=i[e]):this[t]=i}else{if(!Qi(n)||"_decayCurve"===t)throw new Error("Envelope: invalid curve: "+n);this[t]=n}}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(t){this._setCurve("_attackCurve","In",t)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(t){this._setCurve("_releaseCurve","Out",t)}get decayCurve(){return this._decayCurve}set decayCurve(t){Ri(["linear","exponential"].some((e=>e===t)),`Invalid envelope curve: ${t}`),this._decayCurve=t}triggerAttack(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.log("triggerAttack",t,e),t=this.toSeconds(t);let n=this.toSeconds(this.attack);const i=this.toSeconds(this.decay),r=this.getValueAtTime(t);if(r>0){n=(1-r)/(1/n)}if(n<this.sampleTime)this._sig.cancelScheduledValues(t),this._sig.setValueAtTime(e,t);else if("linear"===this._attackCurve)this._sig.linearRampTo(e,n,t);else if("exponential"===this._attackCurve)this._sig.targetRampTo(e,n,t);else{this._sig.cancelAndHoldAtTime(t);let i=this._attackCurve;for(let t=1;t<i.length;t++)if(i[t-1]<=r&&r<=i[t]){i=this._attackCurve.slice(t),i[0]=r;break}this._sig.setValueCurveAtTime(i,t,n,e)}if(i&&this.sustain<1){const r=e*this.sustain,s=t+n;this.log("decay",s),"linear"===this._decayCurve?this._sig.linearRampToValueAtTime(r,i+s):this._sig.exponentialApproachValueAtTime(r,s,i)}return this}triggerRelease(t){this.log("triggerRelease",t),t=this.toSeconds(t);const e=this.getValueAtTime(t);if(e>0){const n=this.toSeconds(this.release);n<this.sampleTime?this._sig.setValueAtTime(0,t):"linear"===this._releaseCurve?this._sig.linearRampTo(0,n,t):"exponential"===this._releaseCurve?this._sig.targetRampTo(0,n,t):(Ri(Qi(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(t),this._sig.setValueCurveAtTime(this._releaseCurve,t,n,e))}return this}getValueAtTime(t){return this._sig.getValueAtTime(t)}triggerAttackRelease(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e=this.toSeconds(e),this.triggerAttack(e,n),this.triggerRelease(e+this.toSeconds(t)),this}cancel(t){return this._sig.cancelScheduledValues(this.toSeconds(t)),this}connect(t){return rs(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0),this}asArray(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1024;return Zi(this,void 0,void 0,(function*(){const e=t/this.context.sampleRate,n=new Ar(1,e,this.context.sampleRate),i=this.toSeconds(this.attack)+this.toSeconds(this.decay),r=i+this.toSeconds(this.release),s=.1*r,o=r+s,a=new this.constructor(Object.assign(this.get(),{attack:e*this.toSeconds(this.attack)/o,decay:e*this.toSeconds(this.decay)/o,release:e*this.toSeconds(this.release)/o,context:n}));a._sig.toDestination(),a.triggerAttackRelease(e*(i+s)/o,0);return(yield n.render()).getChannelData(0)}))}dispose(){return super.dispose(),this._sig.dispose(),this}}Xi([Ws(0)],$s.prototype,"attack",void 0),Xi([Ws(0)],$s.prototype,"decay",void 0),Xi([js(0,1)],$s.prototype,"sustain",void 0),Xi([Ws(0)],$s.prototype,"release",void 0);const Ys=(()=>{const t=128;let e,n;const i=[];for(e=0;e<t;e++)i[e]=Math.sin(e/127*(Math.PI/2));const r=[];for(e=0;e<127;e++){n=e/127;const t=Math.sin(n*(2*Math.PI)*6.4-Math.PI/2)+1;r[e]=t/10+.83*n}r[127]=1;const s=[];for(e=0;e<t;e++)s[e]=Math.ceil(e/127*5)/5;const o=[];for(e=0;e<t;e++)n=e/127,o[e]=.5*(1-Math.cos(Math.PI*n));const a=[];for(e=0;e<t;e++){n=e/127;const t=4*Math.pow(n,3)+.2,i=Math.cos(t*Math.PI*2*n);a[e]=Math.abs(i*(1-n))}function l(t){const e=new Array(t.length);for(let n=0;n<t.length;n++)e[n]=1-t[n];return e}return{bounce:{In:l(a),Out:a},cosine:{In:i,Out:(u=i,u.slice(0).reverse())},exponential:"exponential",linear:"linear",ripple:{In:r,Out:l(r)},sine:{In:o,Out:l(o)},step:{In:s,Out:l(s)}};var u})();class Gs extends Xr{constructor(){super(or(Gs.getDefaults(),arguments)),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease;const t=or(Gs.getDefaults(),arguments);this._volume=this.output=new gs({context:this.context,volume:t.volume}),this.volume=this._volume.volume,kr(this,"volume")}static getDefaults(){return Object.assign(Xr.getDefaults(),{volume:0})}sync(){return this._synced||(this._synced=!0,this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0)),this}_syncMethod(t,e){var n=this;const i=this["_original_"+t]=this[t];this[t]=function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];const o=r[e],a=n.context.transport.schedule((t=>{r[e]=t,i.apply(n,r)}),o);n._scheduledEvents.push(a)}}unsync(){return this._scheduledEvents.forEach((t=>this.context.transport.clear(t))),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease),this}triggerAttackRelease(t,e,n,i){const r=this.toSeconds(n),s=this.toSeconds(e);return this.triggerAttack(t,r,i),this.triggerRelease(r+s),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class Xs extends Gs{constructor(){super(or(Xs.getDefaults(),arguments));const t=or(Xs.getDefaults(),arguments);this.portamento=t.portamento,this.onsilence=t.onsilence}static getDefaults(){return Object.assign(Gs.getDefaults(),{detune:0,onsilence:Sr,portamento:0})}triggerAttack(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this.log("triggerAttack",t,e,n);const i=this.toSeconds(e);return this._triggerEnvelopeAttack(i,n),this.setNote(t,i),this}triggerRelease(t){this.log("triggerRelease",t);const e=this.toSeconds(t);return this._triggerEnvelopeRelease(e),this}setNote(t,e){const n=this.toSeconds(e),i=t instanceof Wr?t.toFrequency():t;if(this.portamento>0&&this.getLevelAtTime(n)>.05){const t=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(i,t,n)}else this.frequency.setValueAtTime(i,n);return this}}Xi([Ws(0)],Xs.prototype,"portamento",void 0);class Zs extends $s{constructor(){super(or(Zs.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new ts({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class Ks extends Xs{constructor(){super(or(Ks.getDefaults(),arguments)),this.name="Synth";const t=or(Ks.getDefaults(),arguments);this.oscillator=new zs(Object.assign({context:this.context,detune:t.detune,onstop:()=>this.onsilence(this)},t.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new Zs(Object.assign({context:this.context},t.envelope)),this.oscillator.chain(this.envelope,this.output),kr(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(Xs.getDefaults(),{envelope:Object.assign(lr($s.getDefaults(),Object.keys(Xr.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(lr(zs.getDefaults(),[...Object.keys(bs.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(t,e){if(this.envelope.triggerAttack(t,e),this.oscillator.start(t),0===this.envelope.sustain){const e=this.toSeconds(this.envelope.attack),n=this.toSeconds(this.envelope.decay);this.oscillator.stop(t+e+n)}}_triggerEnvelopeRelease(t){this.envelope.triggerRelease(t),this.oscillator.stop(t+this.toSeconds(this.envelope.release))}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class Js extends Xr{constructor(){super(or(Js.getDefaults(),arguments,["frequency","type"])),this.name="BiquadFilter";const t=or(Js.getDefaults(),arguments,["frequency","type"]);this._filter=this.context.createBiquadFilter(),this.input=this.output=this._filter,this.Q=new Gr({context:this.context,units:"number",value:t.Q,param:this._filter.Q}),this.frequency=new Gr({context:this.context,units:"frequency",value:t.frequency,param:this._filter.frequency}),this.detune=new Gr({context:this.context,units:"cents",value:t.detune,param:this._filter.detune}),this.gain=new Gr({context:this.context,units:"gain",value:t.gain,param:this._filter.gain}),this.type=t.type}static getDefaults(){return Object.assign(Xr.getDefaults(),{Q:1,type:"lowpass",frequency:350,detune:0,gain:0})}get type(){return this._filter.type}set type(t){Ri(-1!==["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(t),`Invalid filter type: ${t}`),this._filter.type=t}getFrequencyResponse(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:128;const e=new Float32Array(t);for(let s=0;s<t;s++){const n=19980*Math.pow(s/t,2)+20;e[s]=n}const n=new Float32Array(t),i=new Float32Array(t),r=this.context.createBiquadFilter();return r.type=this.type,r.Q.value=this.Q.value,r.frequency.value=this.frequency.value,r.gain.value=this.gain.value,r.getFrequencyResponse(e,n,i),n}dispose(){return super.dispose(),this._filter.disconnect(),this.Q.dispose(),this.frequency.dispose(),this.gain.dispose(),this.detune.dispose(),this}}class to extends Xr{constructor(){super(or(to.getDefaults(),arguments,["frequency","type","rolloff"])),this.name="Filter",this.input=new ts({context:this.context}),this.output=new ts({context:this.context}),this._filters=[];const t=or(to.getDefaults(),arguments,["frequency","type","rolloff"]);this._filters=[],this.Q=new is({context:this.context,units:"positive",value:t.Q}),this.frequency=new is({context:this.context,units:"frequency",value:t.frequency}),this.detune=new is({context:this.context,units:"cents",value:t.detune}),this.gain=new is({context:this.context,units:"decibels",value:t.gain}),this._type=t.type,this.rolloff=t.rolloff,kr(this,["detune","frequency","gain","Q"])}static getDefaults(){return Object.assign(Xr.getDefaults(),{Q:1,detune:0,frequency:350,gain:0,rolloff:-12,type:"lowpass"})}get type(){return this._type}set type(t){Ri(-1!==["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(t),`Invalid filter type: ${t}`),this._type=t,this._filters.forEach((e=>e.type=t))}get rolloff(){return this._rolloff}set rolloff(t){const e=Wi(t)?t:parseInt(t,10),n=[-12,-24,-48,-96];let i=n.indexOf(e);Ri(-1!==i,`rolloff can only be ${n.join(", ")}`),i+=1,this._rolloff=e,this.input.disconnect(),this._filters.forEach((t=>t.disconnect())),this._filters=new Array(i);for(let r=0;r<i;r++){const t=new Js({context:this.context});t.type=this._type,this.frequency.connect(t.frequency),this.detune.connect(t.detune),this.Q.connect(t.Q),this.gain.connect(t.gain),this._filters[r]=t}this._internalChannels=this._filters,Zr(this.input,...this._internalChannels,this.output)}getFrequencyResponse(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:128;const e=new Js({frequency:this.frequency.value,gain:this.gain.value,Q:this.Q.value,type:this._type,detune:this.detune.value}),n=new Float32Array(t).map((()=>1));return this._filters.forEach((()=>{e.getFrequencyResponse(t).forEach(((t,e)=>n[e]*=t))})),e.dispose(),n}dispose(){return super.dispose(),this._filters.forEach((t=>{t.dispose()})),Cr(this,["detune","frequency","gain","Q"]),this.frequency.dispose(),this.Q.dispose(),this.detune.dispose(),this.gain.dispose(),this}}class eo extends Ks{constructor(){super(or(eo.getDefaults(),arguments)),this.name="MembraneSynth",this.portamento=0;const t=or(eo.getDefaults(),arguments);this.pitchDecay=t.pitchDecay,this.octaves=t.octaves,kr(this,["oscillator","envelope"])}static getDefaults(){return sr(Xs.getDefaults(),Ks.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(t,e){const n=this.toSeconds(e),i=this.toFrequency(t instanceof Wr?t.toFrequency():t),r=i*this.octaves;return this.oscillator.frequency.setValueAtTime(r,n),this.oscillator.frequency.exponentialRampToValueAtTime(i,n+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}Xi([js(0)],eo.prototype,"octaves",void 0),Xi([Ws(0)],eo.prototype,"pitchDecay",void 0);const no=new Set;function io(t){no.add(t)}function ro(t,e){const n=`registerProcessor("${t}", ${e})`;no.add(n)}io('\n\t/**\n\t * The base AudioWorkletProcessor for use in Tone.js. Works with the [[ToneAudioWorklet]]. \n\t */\n\tclass ToneAudioWorkletProcessor extends AudioWorkletProcessor {\n\n\t\tconstructor(options) {\n\t\t\t\n\t\t\tsuper(options);\n\t\t\t/**\n\t\t\t * If the processor was disposed or not. Keep alive until it\'s disposed.\n\t\t\t */\n\t\t\tthis.disposed = false;\n\t\t   \t/** \n\t\t\t * The number of samples in the processing block\n\t\t\t */\n\t\t\tthis.blockSize = 128;\n\t\t\t/**\n\t\t\t * the sample rate\n\t\t\t */\n\t\t\tthis.sampleRate = sampleRate;\n\n\t\t\tthis.port.onmessage = (event) => {\n\t\t\t\t// when it receives a dispose \n\t\t\t\tif (event.data === "dispose") {\n\t\t\t\t\tthis.disposed = true;\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t}\n');io("\n\t/**\n\t * Abstract class for a single input/output processor. \n\t * has a 'generate' function which processes one sample at a time\n\t */\n\tclass SingleIOProcessor extends ToneAudioWorkletProcessor {\n\n\t\tconstructor(options) {\n\t\t\tsuper(Object.assign(options, {\n\t\t\t\tnumberOfInputs: 1,\n\t\t\t\tnumberOfOutputs: 1\n\t\t\t}));\n\t\t\t/**\n\t\t\t * Holds the name of the parameter and a single value of that\n\t\t\t * parameter at the current sample\n\t\t\t * @type { [name: string]: number }\n\t\t\t */\n\t\t\tthis.params = {}\n\t\t}\n\n\t\t/**\n\t\t * Generate an output sample from the input sample and parameters\n\t\t * @abstract\n\t\t * @param input number\n\t\t * @param channel number\n\t\t * @param parameters { [name: string]: number }\n\t\t * @returns number\n\t\t */\n\t\tgenerate(){}\n\n\t\t/**\n\t\t * Update the private params object with the \n\t\t * values of the parameters at the given index\n\t\t * @param parameters { [name: string]: Float32Array },\n\t\t * @param index number\n\t\t */\n\t\tupdateParams(parameters, index) {\n\t\t\tfor (const paramName in parameters) {\n\t\t\t\tconst param = parameters[paramName];\n\t\t\t\tif (param.length > 1) {\n\t\t\t\t\tthis.params[paramName] = parameters[paramName][index];\n\t\t\t\t} else {\n\t\t\t\t\tthis.params[paramName] = parameters[paramName][0];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Process a single frame of the audio\n\t\t * @param inputs Float32Array[][]\n\t\t * @param outputs Float32Array[][]\n\t\t */\n\t\tprocess(inputs, outputs, parameters) {\n\t\t\tconst input = inputs[0];\n\t\t\tconst output = outputs[0];\n\t\t\t// get the parameter values\n\t\t\tconst channelCount = Math.max(input && input.length || 0, output.length);\n\t\t\tfor (let sample = 0; sample < this.blockSize; sample++) {\n\t\t\t\tthis.updateParams(parameters, sample);\n\t\t\t\tfor (let channel = 0; channel < channelCount; channel++) {\n\t\t\t\t\tconst inputSample = input && input.length ? input[channel][sample] : 0;\n\t\t\t\t\toutput[channel][sample] = this.generate(inputSample, channel, this.params);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn !this.disposed;\n\t\t}\n\t};\n");io("\n\t/**\n\t * A multichannel buffer for use within an AudioWorkletProcessor as a delay line\n\t */\n\tclass DelayLine {\n\t\t\n\t\tconstructor(size, channels) {\n\t\t\tthis.buffer = [];\n\t\t\tthis.writeHead = []\n\t\t\tthis.size = size;\n\n\t\t\t// create the empty channels\n\t\t\tfor (let i = 0; i < channels; i++) {\n\t\t\t\tthis.buffer[i] = new Float32Array(this.size);\n\t\t\t\tthis.writeHead[i] = 0;\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Push a value onto the end\n\t\t * @param channel number\n\t\t * @param value number\n\t\t */\n\t\tpush(channel, value) {\n\t\t\tthis.writeHead[channel] += 1;\n\t\t\tif (this.writeHead[channel] > this.size) {\n\t\t\t\tthis.writeHead[channel] = 0;\n\t\t\t}\n\t\t\tthis.buffer[channel][this.writeHead[channel]] = value;\n\t\t}\n\n\t\t/**\n\t\t * Get the recorded value of the channel given the delay\n\t\t * @param channel number\n\t\t * @param delay number delay samples\n\t\t */\n\t\tget(channel, delay) {\n\t\t\tlet readHead = this.writeHead[channel] - Math.floor(delay);\n\t\t\tif (readHead < 0) {\n\t\t\t\treadHead += this.size;\n\t\t\t}\n\t\t\treturn this.buffer[channel][readHead];\n\t\t}\n\t}\n");const so="feedback-comb-filter";ro(so,'\n\tclass FeedbackCombFilterWorklet extends SingleIOProcessor {\n\n\t\tconstructor(options) {\n\t\t\tsuper(options);\n\t\t\tthis.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);\n\t\t}\n\n\t\tstatic get parameterDescriptors() {\n\t\t\treturn [{\n\t\t\t\tname: "delayTime",\n\t\t\t\tdefaultValue: 0.1,\n\t\t\t\tminValue: 0,\n\t\t\t\tmaxValue: 1,\n\t\t\t\tautomationRate: "k-rate"\n\t\t\t}, {\n\t\t\t\tname: "feedback",\n\t\t\t\tdefaultValue: 0.5,\n\t\t\t\tminValue: 0,\n\t\t\t\tmaxValue: 0.9999,\n\t\t\t\tautomationRate: "k-rate"\n\t\t\t}];\n\t\t}\n\n\t\tgenerate(input, channel, parameters) {\n\t\t\tconst delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);\n\t\t\tthis.delayLine.push(channel, input + delayedSample * parameters.feedback);\n\t\t\treturn delayedSample;\n\t\t}\n\t}\n');class oo extends Gs{constructor(){super(or(oo.getDefaults(),arguments,["urls","onload","baseUrl"],"urls")),this.name="Sampler",this._activeSources=new Map;const t=or(oo.getDefaults(),arguments,["urls","onload","baseUrl"],"urls"),e={};Object.keys(t.urls).forEach((n=>{const i=parseInt(n,10);if(Ri($i(n)||Wi(i)&&isFinite(i),`url key is neither a note or midi pitch: ${n}`),$i(n)){const i=new Wr(this.context,n).toMidi();e[i]=t.urls[n]}else Wi(i)&&isFinite(i)&&(e[i]=t.urls[i])})),this._buffers=new _s({urls:e,onload:t.onload,baseUrl:t.baseUrl,onerror:t.onerror}),this.attack=t.attack,this.release=t.release,this.curve=t.curve,this._buffers.loaded&&Promise.resolve().then(t.onload)}static getDefaults(){return Object.assign(Gs.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:Sr,onerror:Sr,release:.1,urls:{}})}_findClosest(t){let e=0;for(;e<96;){if(this._buffers.has(t+e))return-e;if(this._buffers.has(t-e))return e;e++}throw new Error(`No available buffers for note: ${t}`)}triggerAttack(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return this.log("triggerAttack",t,e,n),Array.isArray(t)||(t=[t]),t.forEach((t=>{const i=Lr(new Wr(this.context,t).toFrequency()),r=Math.round(i),s=i-r,o=this._findClosest(r),a=r-o,l=this._buffers.get(a),u=Rr(o+s),c=new ws({url:l,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:u}).connect(this.output);c.start(e,0,l.duration/u,n),Qi(this._activeSources.get(r))||this._activeSources.set(r,[]),this._activeSources.get(r).push(c),c.onended=()=>{if(this._activeSources&&this._activeSources.has(r)){const t=this._activeSources.get(r),e=t.indexOf(c);-1!==e&&t.splice(e,1)}}})),this}triggerRelease(t,e){return this.log("triggerRelease",t,e),Array.isArray(t)||(t=[t]),t.forEach((t=>{const n=new Wr(this.context,t).toMidi();if(this._activeSources.has(n)&&this._activeSources.get(n).length){const t=this._activeSources.get(n);e=this.toSeconds(e),t.forEach((t=>{t.stop(e)})),this._activeSources.set(n,[])}})),this}releaseAll(t){const e=this.toSeconds(t);return this._activeSources.forEach((t=>{for(;t.length;){t.shift().stop(e)}})),this}sync(){return this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1),this}triggerAttackRelease(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const r=this.toSeconds(n);return this.triggerAttack(t,r,i),Qi(e)?(Ri(Qi(t),"notes must be an array when duration is array"),t.forEach(((t,n)=>{const i=e[Math.min(n,e.length-1)];this.triggerRelease(t,r+this.toSeconds(i))}))):this.triggerRelease(t,r+this.toSeconds(e)),this}add(t,e,n){if(Ri($i(t)||isFinite(t),`note must be a pitch or midi: ${t}`),$i(t)){const i=new Wr(this.context,t).toMidi();this._buffers.add(i,e,n)}else this._buffers.add(t,e,n);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach((t=>{t.forEach((t=>t.dispose()))})),this._activeSources.clear(),this}}Xi([Ws(0)],oo.prototype,"attack",void 0),Xi([Ws(0)],oo.prototype,"release",void 0);class ao extends $r{constructor(){super(or(ao.getDefaults(),arguments,["callback","value"])),this.name="ToneEvent",this._state=new Yr("stopped"),this._startOffset=0;const t=or(ao.getDefaults(),arguments,["callback","value"]);this._loop=t.loop,this.callback=t.callback,this.value=t.value,this._loopStart=this.toTicks(t.loopStart),this._loopEnd=this.toTicks(t.loopEnd),this._playbackRate=t.playbackRate,this._probability=t.probability,this._humanize=t.humanize,this.mute=t.mute,this._playbackRate=t.playbackRate,this._state.increasing=!0,this._rescheduleEvents()}static getDefaults(){return Object.assign($r.getDefaults(),{callback:Sr,humanize:!1,loop:!1,loopEnd:"1m",loopStart:0,mute:!1,playbackRate:1,probability:1,value:null})}_rescheduleEvents(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this._state.forEachFrom(t,(t=>{let e;if("started"===t.state){-1!==t.id&&this.context.transport.clear(t.id);const n=t.time+Math.round(this.startOffset/this._playbackRate);if(!0===this._loop||Wi(this._loop)&&this._loop>1){e=1/0,Wi(this._loop)&&(e=this._loop*this._getLoopDuration());const i=this._state.getAfter(n);null!==i&&(e=Math.min(e,i.time-n)),e!==1/0&&(this._state.setStateAtTime("stopped",n+e+1,{id:-1}),e=new cs(this.context,e));const r=new cs(this.context,this._getLoopDuration());t.id=this.context.transport.scheduleRepeat(this._tick.bind(this),r,new cs(this.context,n),e)}else t.id=this.context.transport.schedule(this._tick.bind(this),new cs(this.context,n))}}))}get state(){return this._state.getValueAtTime(this.context.transport.ticks)}get startOffset(){return this._startOffset}set startOffset(t){this._startOffset=t}get probability(){return this._probability}set probability(t){this._probability=t}get humanize(){return this._humanize}set humanize(t){this._humanize=t}start(t){const e=this.toTicks(t);return"stopped"===this._state.getValueAtTime(e)&&(this._state.add({id:-1,state:"started",time:e}),this._rescheduleEvents(e)),this}stop(t){this.cancel(t);const e=this.toTicks(t);if("started"===this._state.getValueAtTime(e)){this._state.setStateAtTime("stopped",e,{id:-1});const t=this._state.getBefore(e);let n=e;null!==t&&(n=t.time),this._rescheduleEvents(n)}return this}cancel(t){t=ar(t,-1/0);const e=this.toTicks(t);return this._state.forEachFrom(e,(t=>{this.context.transport.clear(t.id)})),this._state.cancel(e),this}_tick(t){const e=this.context.transport.getTicksAtTime(t);if(!this.mute&&"started"===this._state.getValueAtTime(e)){if(this.probability<1&&Math.random()>this.probability)return;if(this.humanize){let e=.02;Ui(this.humanize)||(e=this.toSeconds(this.humanize)),t+=(2*Math.random()-1)*e}this.callback(t,this.value)}}_getLoopDuration(){return Math.round((this._loopEnd-this._loopStart)/this._playbackRate)}get loop(){return this._loop}set loop(t){this._loop=t,this._rescheduleEvents()}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t,this._rescheduleEvents()}get loopEnd(){return new cs(this.context,this._loopEnd).toSeconds()}set loopEnd(t){this._loopEnd=this.toTicks(t),this._loop&&this._rescheduleEvents()}get loopStart(){return new cs(this.context,this._loopStart).toSeconds()}set loopStart(t){this._loopStart=this.toTicks(t),this._loop&&this._rescheduleEvents()}get progress(){if(this._loop){const t=this.context.transport.ticks,e=this._state.get(t);if(null!==e&&"started"===e.state){const n=this._getLoopDuration();return(t-e.time)%n/n}return 0}return 0}dispose(){return super.dispose(),this.cancel(),this._state.dispose(),this}}class lo extends ao{constructor(){super(or(lo.getDefaults(),arguments,["callback","events"])),this.name="Part",this._state=new Yr("stopped"),this._events=new Set;const t=or(lo.getDefaults(),arguments,["callback","events"]);this._state.increasing=!0,t.events.forEach((t=>{Qi(t)?this.add(t[0],t[1]):this.add(t)}))}static getDefaults(){return Object.assign(ao.getDefaults(),{events:[]})}start(t,e){const n=this.toTicks(t);if("started"!==this._state.getValueAtTime(n)){e=ar(e,this._loop?this._loopStart:0),e=this._loop?ar(e,this._loopStart):ar(e,0);const t=this.toTicks(e);this._state.add({id:-1,offset:t,state:"started",time:n}),this._forEach((e=>{this._startNote(e,n,t)}))}return this}_startNote(t,e,n){e-=n,this._loop?t.startOffset>=this._loopStart&&t.startOffset<this._loopEnd?(t.startOffset<n&&(e+=this._getLoopDuration()),t.start(new cs(this.context,e))):t.startOffset<this._loopStart&&t.startOffset>=n&&(t.loop=!1,t.start(new cs(this.context,e))):t.startOffset>=n&&t.start(new cs(this.context,e))}get startOffset(){return this._startOffset}set startOffset(t){this._startOffset=t,this._forEach((t=>{t.startOffset+=this._startOffset}))}stop(t){const e=this.toTicks(t);return this._state.cancel(e),this._state.setStateAtTime("stopped",e),this._forEach((e=>{e.stop(t)})),this}at(t,e){const n=new Hr(this.context,t).toTicks(),i=new cs(this.context,1).toSeconds(),r=this._events.values();let s=r.next();for(;!s.done;){const t=s.value;if(Math.abs(n-t.startOffset)<i)return ji(e)&&(t.value=e),t;s=r.next()}return ji(e)?(this.add(t,e),this.at(t)):null}add(t,e){t instanceof Object&&Reflect.has(t,"time")&&(t=(e=t).time);const n=this.toTicks(t);let i;return e instanceof ao?(i=e,i.callback=this._tick.bind(this)):i=new ao({callback:this._tick.bind(this),context:this.context,value:e}),i.startOffset=n,i.set({humanize:this.humanize,loop:this.loop,loopEnd:this.loopEnd,loopStart:this.loopStart,playbackRate:this.playbackRate,probability:this.probability}),this._events.add(i),this._restartEvent(i),this}_restartEvent(t){this._state.forEach((e=>{"started"===e.state?this._startNote(t,e.time,e.offset):t.stop(new cs(this.context,e.time))}))}remove(t,e){return Bi(t)&&t.hasOwnProperty("time")&&(t=(e=t).time),t=this.toTicks(t),this._events.forEach((n=>{n.startOffset===t&&(qi(e)||ji(e)&&n.value===e)&&(this._events.delete(n),n.dispose())})),this}clear(){return this._forEach((t=>t.dispose())),this._events.clear(),this}cancel(t){return this._forEach((e=>e.cancel(t))),this._state.cancel(this.toTicks(t)),this}_forEach(t){return this._events&&this._events.forEach((e=>{e instanceof lo?e._forEach(t):t(e)})),this}_setAll(t,e){this._forEach((n=>{n[t]=e}))}_tick(t,e){this.mute||this.callback(t,e)}_testLoopBoundries(t){this._loop&&(t.startOffset<this._loopStart||t.startOffset>=this._loopEnd)?t.cancel(0):"stopped"===t.state&&this._restartEvent(t)}get probability(){return this._probability}set probability(t){this._probability=t,this._setAll("probability",t)}get humanize(){return this._humanize}set humanize(t){this._humanize=t,this._setAll("humanize",t)}get loop(){return this._loop}set loop(t){this._loop=t,this._forEach((e=>{e.loopStart=this.loopStart,e.loopEnd=this.loopEnd,e.loop=t,this._testLoopBoundries(e)}))}get loopEnd(){return new cs(this.context,this._loopEnd).toSeconds()}set loopEnd(t){this._loopEnd=this.toTicks(t),this._loop&&this._forEach((e=>{e.loopEnd=t,this._testLoopBoundries(e)}))}get loopStart(){return new cs(this.context,this._loopStart).toSeconds()}set loopStart(t){this._loopStart=this.toTicks(t),this._loop&&this._forEach((t=>{t.loopStart=this.loopStart,this._testLoopBoundries(t)}))}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t,this._setAll("playbackRate",t)}get length(){return this._events.size}dispose(){return super.dispose(),this.clear(),this}}class uo extends ao{constructor(){super(or(uo.getDefaults(),arguments,["callback","events","subdivision"])),this.name="Sequence",this._part=new lo({callback:this._seqCallback.bind(this),context:this.context}),this._events=[],this._eventsArray=[];const t=or(uo.getDefaults(),arguments,["callback","events","subdivision"]);this._subdivision=this.toTicks(t.subdivision),this.events=t.events,this.loop=t.loop,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this.playbackRate=t.playbackRate,this.probability=t.probability,this.humanize=t.humanize,this.mute=t.mute,this.playbackRate=t.playbackRate}static getDefaults(){return Object.assign(lr(ao.getDefaults(),["value"]),{events:[],loop:!0,loopEnd:0,loopStart:0,subdivision:"8n"})}_seqCallback(t,e){null!==e&&this.callback(t,e)}get events(){return this._events}set events(t){this.clear(),this._eventsArray=t,this._events=this._createSequence(this._eventsArray),this._eventsUpdated()}start(t,e){return this._part.start(t,e?this._indexTime(e):e),this}stop(t){return this._part.stop(t),this}get subdivision(){return new cs(this.context,this._subdivision).toSeconds()}_createSequence(t){return new Proxy(t,{get:(t,e)=>t[e],set:(t,e,n)=>(Hi(e)&&isFinite(parseInt(e,10))&&Qi(n)?t[e]=this._createSequence(n):t[e]=n,this._eventsUpdated(),!0)})}_eventsUpdated(){this._part.clear(),this._rescheduleSequence(this._eventsArray,this._subdivision,this.startOffset),this.loopEnd=this.loopEnd}_rescheduleSequence(t,e,n){t.forEach(((t,i)=>{const r=i*e+n;if(Qi(t))this._rescheduleSequence(t,e/t.length,r);else{const e=new cs(this.context,r,"i").toSeconds();this._part.add(e,t)}}))}_indexTime(t){return new cs(this.context,t*this._subdivision+this.startOffset).toSeconds()}clear(){return this._part.clear(),this}dispose(){return super.dispose(),this._part.dispose(),this}get loop(){return this._part.loop}set loop(t){this._part.loop=t}get loopStart(){return this._loopStart}set loopStart(t){this._loopStart=t,this._part.loopStart=this._indexTime(t)}get loopEnd(){return this._loopEnd}set loopEnd(t){this._loopEnd=t,this._part.loopEnd=0===t?this._indexTime(this._eventsArray.length):this._indexTime(t)}get startOffset(){return this._part.startOffset}set startOffset(t){this._part.startOffset=t}get playbackRate(){return this._part.playbackRate}set playbackRate(t){this._part.playbackRate=t}get probability(){return this._part.probability}set probability(t){this._part.probability=t}get progress(){return this._part.progress}get humanize(){return this._part.humanize}set humanize(t){this._part.humanize=t}get length(){return this._part.length}}class co extends Xr{constructor(){super(Object.assign(or(co.getDefaults(),arguments,["fade"]))),this.name="CrossFade",this._panner=this.context.createStereoPanner(),this._split=this.context.createChannelSplitter(2),this._g2a=new Us({context:this.context}),this.a=new ts({context:this.context,gain:0}),this.b=new ts({context:this.context,gain:0}),this.output=new ts({context:this.context}),this._internalChannels=[this.a,this.b];const t=or(co.getDefaults(),arguments,["fade"]);this.fade=new is({context:this.context,units:"normalRange",value:t.fade}),kr(this,"fade"),this.context.getConstant(1).connect(this._panner),this._panner.connect(this._split),this._panner.channelCount=1,this._panner.channelCountMode="explicit",Kr(this._split,this.a.gain,0),Kr(this._split,this.b.gain,1),this.fade.chain(this._g2a,this._panner.pan),this.a.connect(this.output),this.b.connect(this.output)}static getDefaults(){return Object.assign(Xr.getDefaults(),{fade:.5})}dispose(){return super.dispose(),this.a.dispose(),this.b.dispose(),this.output.dispose(),this.fade.dispose(),this._g2a.dispose(),this._panner.disconnect(),this._split.disconnect(),this}}class ho extends Xr{constructor(t){super(t),this.name="Effect",this._dryWet=new co({context:this.context}),this.wet=this._dryWet.fade,this.effectSend=new ts({context:this.context}),this.effectReturn=new ts({context:this.context}),this.input=new ts({context:this.context}),this.output=this._dryWet,this.input.fan(this._dryWet.a,this.effectSend),this.effectReturn.connect(this._dryWet.b),this.wet.setValueAtTime(t.wet,0),this._internalChannels=[this.effectReturn,this.effectSend],kr(this,"wet")}static getDefaults(){return Object.assign(Xr.getDefaults(),{wet:1})}connectEffect(t){return this._internalChannels.push(t),this.effectSend.chain(t,this.effectReturn),this}dispose(){return super.dispose(),this._dryWet.dispose(),this.effectSend.dispose(),this.effectReturn.dispose(),this.wet.dispose(),this}}class po extends Xr{constructor(){super(Object.assign(or(po.getDefaults(),arguments,["pan"]))),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner;const t=or(po.getDefaults(),arguments,["pan"]);this.pan=new Gr({context:this.context,param:this._panner.pan,value:t.pan,minValue:-1,maxValue:1}),this._panner.channelCount=t.channelCount,this._panner.channelCountMode="explicit",kr(this,"pan")}static getDefaults(){return Object.assign(Xr.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const fo="bit-crusher";ro(fo,"\n\tclass BitCrusherWorklet extends SingleIOProcessor {\n\n\t\tstatic get parameterDescriptors() {\n\t\t\treturn [{\n\t\t\t\tname: \"bits\",\n\t\t\t\tdefaultValue: 12,\n\t\t\t\tminValue: 1,\n\t\t\t\tmaxValue: 16,\n\t\t\t\tautomationRate: 'k-rate'\n\t\t\t}];\n\t\t}\n\n\t\tgenerate(input, _channel, parameters) {\n\t\t\tconst step = Math.pow(0.5, parameters.bits - 1);\n\t\t\tconst val = step * Math.floor(input / step + 0.5);\n\t\t\treturn val;\n\t\t}\n\t}\n");class mo extends Xr{constructor(){super(or(mo.getDefaults(),arguments,["channels"])),this.name="Split";const t=or(mo.getDefaults(),arguments,["channels"]);this._splitter=this.input=this.output=this.context.createChannelSplitter(t.channels),this._internalChannels=[this._splitter]}static getDefaults(){return Object.assign(Xr.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._splitter.disconnect(),this}}class go extends Xr{constructor(){super(or(go.getDefaults(),arguments,["channels"])),this.name="Merge";const t=or(go.getDefaults(),arguments,["channels"]);this._merger=this.output=this.input=this.context.createChannelMerger(t.channels)}static getDefaults(){return Object.assign(Xr.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._merger.disconnect(),this}}class vo extends Xr{constructor(){super(or(vo.getDefaults(),arguments)),this.name="MidSideSplit",this._split=this.input=new mo({channels:2,context:this.context}),this._midAdd=new qs({context:this.context}),this.mid=new Is({context:this.context,value:Math.SQRT1_2}),this._sideSubtract=new Hs({context:this.context}),this.side=new Is({context:this.context,value:Math.SQRT1_2}),this._split.connect(this._midAdd,0),this._split.connect(this._midAdd.addend,1),this._split.connect(this._sideSubtract,0),this._split.connect(this._sideSubtract.subtrahend,1),this._midAdd.connect(this.mid),this._sideSubtract.connect(this.side)}dispose(){return super.dispose(),this.mid.dispose(),this.side.dispose(),this._midAdd.dispose(),this._sideSubtract.dispose(),this._split.dispose(),this}}class _o extends Xr{constructor(){super(or(_o.getDefaults(),arguments)),this.name="MidSideMerge",this.mid=new ts({context:this.context}),this.side=new ts({context:this.context}),this._left=new qs({context:this.context}),this._leftMult=new Is({context:this.context,value:Math.SQRT1_2}),this._right=new Hs({context:this.context}),this._rightMult=new Is({context:this.context,value:Math.SQRT1_2}),this._merge=this.output=new go({context:this.context}),this.mid.fan(this._left),this.side.connect(this._left.addend),this.mid.connect(this._right),this.side.connect(this._right.subtrahend),this._left.connect(this._leftMult),this._right.connect(this._rightMult),this._leftMult.connect(this._merge,0,0),this._rightMult.connect(this._merge,0,1)}dispose(){return super.dispose(),this.mid.dispose(),this.side.dispose(),this._leftMult.dispose(),this._rightMult.dispose(),this._left.dispose(),this._right.dispose(),this}}class yo extends ho{constructor(t){super(t),this.name="MidSideEffect",this._midSideMerge=new _o({context:this.context}),this._midSideSplit=new vo({context:this.context}),this._midSend=this._midSideSplit.mid,this._sideSend=this._midSideSplit.side,this._midReturn=this._midSideMerge.mid,this._sideReturn=this._midSideMerge.side,this.effectSend.connect(this._midSideSplit),this._midSideMerge.connect(this.effectReturn)}connectEffectMid(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._midSend.chain(...e,this._midReturn)}connectEffectSide(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._sideSend.chain(...e,this._sideReturn)}dispose(){return super.dispose(),this._midSideSplit.dispose(),this._midSideMerge.dispose(),this._midSend.dispose(),this._sideSend.dispose(),this._midReturn.dispose(),this._sideReturn.dispose(),this}}class bo extends yo{constructor(){super(or(bo.getDefaults(),arguments,["width"])),this.name="StereoWidener";const t=or(bo.getDefaults(),arguments,["width"]);this.width=new is({context:this.context,value:t.width,units:"normalRange"}),kr(this,["width"]),this._twoTimesWidthMid=new Is({context:this.context,value:2}),this._twoTimesWidthSide=new Is({context:this.context,value:2}),this._midMult=new Is({context:this.context}),this._twoTimesWidthMid.connect(this._midMult.factor),this.connectEffectMid(this._midMult),this._oneMinusWidth=new Hs({context:this.context}),this._oneMinusWidth.connect(this._twoTimesWidthMid),Kr(this.context.getConstant(1),this._oneMinusWidth),this.width.connect(this._oneMinusWidth.subtrahend),this._sideMult=new Is({context:this.context}),this.width.connect(this._twoTimesWidthSide),this._twoTimesWidthSide.connect(this._sideMult.factor),this.connectEffectSide(this._sideMult)}static getDefaults(){return Object.assign(yo.getDefaults(),{width:.5})}dispose(){return super.dispose(),this.width.dispose(),this._midMult.dispose(),this._sideMult.dispose(),this._twoTimesWidthMid.dispose(),this._twoTimesWidthSide.dispose(),this._oneMinusWidth.dispose(),this}}class wo extends Xr{constructor(){super(or(wo.getDefaults(),arguments,["type","size"])),this.name="Analyser",this._analysers=[],this._buffers=[];const t=or(wo.getDefaults(),arguments,["type","size"]);this.input=this.output=this._gain=new ts({context:this.context}),this._split=new mo({context:this.context,channels:t.channels}),this.input.connect(this._split),Vi(t.channels,1);for(let e=0;e<t.channels;e++)this._analysers[e]=this.context.createAnalyser(),this._split.connect(this._analysers[e],e,0);this.size=t.size,this.type=t.type}static getDefaults(){return Object.assign(Xr.getDefaults(),{size:1024,smoothing:.8,type:"fft",channels:1})}getValue(){return this._analysers.forEach(((t,e)=>{const n=this._buffers[e];"fft"===this._type?t.getFloatFrequencyData(n):"waveform"===this._type&&t.getFloatTimeDomainData(n)})),1===this.channels?this._buffers[0]:this._buffers}get size(){return this._analysers[0].frequencyBinCount}set size(t){this._analysers.forEach(((e,n)=>{e.fftSize=2*t,this._buffers[n]=new Float32Array(t)}))}get channels(){return this._analysers.length}get type(){return this._type}set type(t){Ri("waveform"===t||"fft"===t,`Analyser: invalid type: ${t}`),this._type=t}get smoothing(){return this._analysers[0].smoothingTimeConstant}set smoothing(t){this._analysers.forEach((e=>e.smoothingTimeConstant=t))}dispose(){return super.dispose(),this._analysers.forEach((t=>t.disconnect())),this._split.dispose(),this._gain.dispose(),this}}class xo extends Xr{constructor(){super(or(xo.getDefaults(),arguments)),this.name="MeterBase",this.input=this.output=this._analyser=new wo({context:this.context,size:256,type:"waveform"})}dispose(){return super.dispose(),this._analyser.dispose(),this}}class To extends xo{constructor(){super(or(To.getDefaults(),arguments,["size"])),this.name="FFT";const t=or(To.getDefaults(),arguments,["size"]);this.normalRange=t.normalRange,this._analyser.type="fft",this.size=t.size}static getDefaults(){return Object.assign(Xr.getDefaults(),{normalRange:!1,size:1024,smoothing:.8})}getValue(){return this._analyser.getValue().map((t=>this.normalRange?Pr(t):t))}get size(){return this._analyser.size}set size(t){this._analyser.size=t}get smoothing(){return this._analyser.smoothing}set smoothing(t){this._analyser.smoothing=t}getFrequencyOfIndex(t){return Ri(0<=t&&t<this.size,`index must be greater than or equal to 0 and less than ${this.size}`),t*this.context.sampleRate/(2*this.size)}}class ko extends Xr{constructor(){super(or(ko.getDefaults(),arguments,["solo"])),this.name="Solo";const t=or(ko.getDefaults(),arguments,["solo"]);this.input=this.output=new ts({context:this.context}),ko._allSolos.has(this.context)||ko._allSolos.set(this.context,new Set),ko._allSolos.get(this.context).add(this),this.solo=t.solo}static getDefaults(){return Object.assign(Xr.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(t){t?this._addSolo():this._removeSolo(),ko._allSolos.get(this.context).forEach((t=>t._updateSolo()))}get muted(){return 0===this.input.gain.value}_addSolo(){ko._soloed.has(this.context)||ko._soloed.set(this.context,new Set),ko._soloed.get(this.context).add(this)}_removeSolo(){ko._soloed.has(this.context)&&ko._soloed.get(this.context).delete(this)}_isSoloed(){return ko._soloed.has(this.context)&&ko._soloed.get(this.context).has(this)}_noSolos(){return!ko._soloed.has(this.context)||ko._soloed.has(this.context)&&0===ko._soloed.get(this.context).size}_updateSolo(){this._isSoloed()||this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),ko._allSolos.get(this.context).delete(this),this._removeSolo(),this}}ko._allSolos=new Map,ko._soloed=new Map;class Co extends Xr{constructor(){super(or(Co.getDefaults(),arguments,["pan","volume"])),this.name="PanVol";const t=or(Co.getDefaults(),arguments,["pan","volume"]);this._panner=this.input=new po({context:this.context,pan:t.pan,channelCount:t.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new gs({context:this.context,volume:t.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=t.mute,kr(this,["pan","volume"])}static getDefaults(){return Object.assign(Xr.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class So extends Xr{constructor(){super(or(So.getDefaults(),arguments,["volume","pan"])),this.name="Channel";const t=or(So.getDefaults(),arguments,["volume","pan"]);this._solo=this.input=new ko({solo:t.solo,context:this.context}),this._panVol=this.output=new Co({context:this.context,pan:t.pan,volume:t.volume,mute:t.mute}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),kr(this,["pan","volume"])}static getDefaults(){return Object.assign(Xr.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1})}get solo(){return this._solo.solo}set solo(t){this._solo.solo=t}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(t){this._panVol.mute=t}_getBus(t){return So.buses.has(t)||So.buses.set(t,new ts({context:this.context})),So.buses.get(t)}send(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this._getBus(t),i=new ts({context:this.context,units:"decibels",gain:e});return this.connect(i),i.connect(n),i}receive(t){return this._getBus(t).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}So.buses=new Map;class Eo extends Xr{constructor(){super(...arguments),this.name="Listener",this.positionX=new Gr({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new Gr({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new Gr({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new Gr({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new Gr({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new Gr({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new Gr({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new Gr({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new Gr({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(Xr.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}_r((t=>{t.listener=new Eo({context:t})})),br((t=>{t.listener.dispose()}));class Ao extends Xr{constructor(){super(or(Ao.getDefaults(),arguments,["threshold","ratio"])),this.name="Compressor",this._compressor=this.context.createDynamicsCompressor(),this.input=this._compressor,this.output=this._compressor;const t=or(Ao.getDefaults(),arguments,["threshold","ratio"]);this.threshold=new Gr({minValue:this._compressor.threshold.minValue,maxValue:this._compressor.threshold.maxValue,context:this.context,convert:!1,param:this._compressor.threshold,units:"decibels",value:t.threshold}),this.attack=new Gr({minValue:this._compressor.attack.minValue,maxValue:this._compressor.attack.maxValue,context:this.context,param:this._compressor.attack,units:"time",value:t.attack}),this.release=new Gr({minValue:this._compressor.release.minValue,maxValue:this._compressor.release.maxValue,context:this.context,param:this._compressor.release,units:"time",value:t.release}),this.knee=new Gr({minValue:this._compressor.knee.minValue,maxValue:this._compressor.knee.maxValue,context:this.context,convert:!1,param:this._compressor.knee,units:"decibels",value:t.knee}),this.ratio=new Gr({minValue:this._compressor.ratio.minValue,maxValue:this._compressor.ratio.maxValue,context:this.context,convert:!1,param:this._compressor.ratio,units:"positive",value:t.ratio}),kr(this,["knee","release","attack","ratio","threshold"])}static getDefaults(){return Object.assign(Xr.getDefaults(),{attack:.003,knee:30,ratio:12,release:.25,threshold:-24})}get reduction(){return this._compressor.reduction}dispose(){return super.dispose(),this._compressor.disconnect(),this.attack.dispose(),this.release.dispose(),this.threshold.dispose(),this.ratio.dispose(),this.knee.dispose(),this}}const Oo=Dr().transport;Dr().destination;const Mo=Dr().destination;Dr().listener;Dr().draw;Dr();const Do=[0,2,4,5,7,9,11],Io=(Do.map((t=>t+12)),Do.map((t=>t+24)),[...Do.map((t=>t-12)).slice(4),...Do,...Do.map((t=>t+12)).slice(0,5)]);const Po=class{constructor(t,e,n){this.degree=t,this.semitoneDist=Do[t-1],this.intervals=e,this.nextChordIdxs=n}degree(){return this.degree}semitoneDist(){return this.semitoneDist}intervals(){return this.intervals}nextChordIdxs(){return this.nextChordIdxs}nextChordIdx(){return this.nextChordIdxs[Math.floor(Math.random()*this.nextChordIdxs.length)]}generateVoicing(t){if(t<3)return this.intervals.slice(0,3);let e=this.intervals.slice(1,t);e.sort((()=>Math.random()-.5));for(let n=1;n<e.length;n++)for(;e[n]<e[n-1];)e[n]+=12;return e.unshift(0),e}generateMode(){return this.intervals.map((t=>t>=12?t-12:t))}},No=t=>t.map((t=>t-1)),Ro=[new Po(1,[0,4,7,11,14,17,21],No([2,3,4,5,6,7])),new Po(2,[0,3,7,10,14,17,21],No([3,5,7])),new Po(3,[0,3,7,10,13,17,20],No([4,6])),new Po(4,[0,4,7,11,14,18,21],No([2,5])),new Po(5,[0,4,7,10,14,17,21],No([1,3,6])),new Po(6,[0,3,7,10,14,17,20],No([2,4])),new Po(7,[0,3,6,10,13,17,20],No([1,3]))];const Vo=class{static generate(t){if(t<2)return null;const e=[];let n=Ro[Math.floor(Math.random()*Ro.length)];for(let i=0;i<t;i++)e.push(new Po(n.degree,[...n.intervals],[...n.nextChordIdxs])),n=Ro[n.nextChordIdx()];return e}},Fo=[1,2,3,4,5,6],Lo=[];["A","C","D#","F#"].forEach((t=>{Fo.forEach((e=>{Lo.push(t+e)}))}));const zo={};Lo.forEach((t=>{let e=t;t.includes("#")&&(e=t.replace("#","sharp")),zo[t]="/ArnavKucheriya/LoFi_Steampunk/PianoSamples/"+e+"v1.mp3"}));const qo=zo,jo=new to(1e3,"lowpass"),Wo=new bo(.5);const Bo=class{constructor(t){this.sampler=new oo(qo,(()=>{t()})).chain(jo,Wo,Mo)}sampler(){return this.sampler}},Uo={C4:"/ArnavKucheriya/LoFi_Steampunk/DrumSamples/kick.mp3"},Qo=new gs(-3);const Ho=class{constructor(t){this.sampler=new oo(Uo,(()=>{t()})).chain(Qo,Mo)}sampler(){return this.sampler}},$o={C4:"/ArnavKucheriya/LoFi_Steampunk/DrumSamples/snare.mp3"},Yo=new to(6e3,"lowpass"),Go=new gs(-6),Xo=new bo(.3);const Zo=class{constructor(t){this.sampler=new oo($o,(()=>{t()})).chain(Yo,Go,Xo,Mo)}sampler(){return this.sampler}},Ko={C4:"/ArnavKucheriya/LoFi_Steampunk/DrumSamples/hat.mp3"},Jo=new to(2400,"lowpass"),ta=new gs(-9),ea=new bo(.7);const na=class{constructor(t){this.sampler=new oo(Ko,(()=>{t()})).chain(Jo,ta,ea,Mo)}sampler(){return this.sampler}},ia=new to(2e3,"lowshelf"),ra=new gs(-32),sa=new xs("pink").chain(ia,ra,Mo),oa=new To(16),aa=e=>{const[n,i]=(0,t.useState)([...oa.getValue()]),r=(0,t.useRef)(),s=()=>{i([...oa.getValue()]),r.current=requestAnimationFrame(s)};return(0,t.useEffect)((()=>(e.audio.connect(oa),r.current=requestAnimationFrame(s),()=>cancelAnimationFrame(r.current))),[]),t.createElement("div",{className:"freqList"},n.map(((e,n)=>{const i=Math.max(3*(69+.5*e),10);return t.createElement("div",{key:n,className:"freqBar",style:{height:`${i}px`}})})))},la=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],ua=[.1,.3,.2,.15,.15,.025,.025,.05],ca=new Ao({threshold:-6,ratio:3,attack:.5,release:.1}),ha=new to(2e3,"lowpass"),da=new gs(-6);Mo.chain(ca,ha,da),Oo.bpm.value=156,Oo.swing=1;class pa extends t.Component{constructor(t){super(t),this.nextChord=()=>{const t=this.state.progress===this.state.progression.length-1?0:this.state.progress+1,e=Math.random()<.15,n=Math.random()<.2,i=Math.random()<.25,r=.3*Math.random()+.2,s=Math.random()<.25;4===this.state.progress?this.setState({...this.state,progress:t,kickOff:e,snareOff:n,hatOff:i}):0===this.state.progress?this.setState({...this.state,progress:t,kickOff:e,snareOff:n,hatOff:i,melodyDensity:r,melodyOff:s}):this.setState({...this.state,progress:t})},this.playChord=()=>{const t=this.state.progression[this.state.progress],e=Qr(this.state.key+"3").transpose(t.semitoneDist),n=t.generateVoicing(4),i=Qr(e).harmonize(n).map((t=>Qr(t).toNote()));this.pn.triggerAttackRelease(i,"1n"),this.nextChord()},this.playMelody=()=>{if(this.state.melodyOff||!(Math.random()<this.state.melodyDensity))return;const t=Math.min(this.state.scalePos,7)+1,e=Math.min(this.state.scale.length-this.state.scalePos,7);let n=t>1,i=e>1;n&&i&&(Math.random()>.5?i=!n:n=!i);let r=n?ua.slice(0,t):ua.slice(0,e);const s=r.reduce(((t,e)=>t+e),0);r=r.map((t=>t/s));for(let h=1;h<r.length;h++)r[h]+=r[h-1];const o=Math.random();let a=0,l=!1;for(;!l;)o<=r[a]?l=!0:a++;const u=n?-a:a,c=this.state.scalePos+u;this.setState({...this.state,scalePos:c}),this.pn.triggerAttackRelease(this.state.scale[c],"2n")},this.generateProgression=()=>{const t=Io,e=la[Math.floor(Math.random()*la.length)],n=Qr(e+"5").harmonize(t).map((t=>Qr(t).toNote())),i=Vo.generate(8),r=Math.floor(Math.random()*t.length);this.setState({...this.state,key:e,progress:0,progression:i,scale:n,genChordsOnce:!0,scalePos:r})},this.toggle=()=>{this.setState({...this.state,progress:0}),"started"===Oo.state?(this.noise.stop(),Oo.stop(),this.props.toggleWakeLock()):(Ir(),Oo.start(),this.noise.start(0),this.chords.start(0),this.melody.start(0),this.kickLoop.start(0),this.snareLoop.start(0),this.hatLoop.start(0),this.props.toggleWakeLock())},this.state={key:"C",progression:[],scale:[],progress:0,pianoLoaded:!1,kickLoaded:!1,snareLoaded:!1,hatLoaded:!1,contextStarted:!1,genChordsOnce:!1,kickOff:!1,snareOff:!1,hatOff:!1,melodyDensity:.33,melodyOff:!1,scalePos:0},this.pn=new Bo((()=>this.setState({...this.state,pianoLoaded:!0}))).sampler,this.kick=new Ho((()=>this.setState({...this.state,kickLoaded:!0}))).sampler,this.snare=new Zo((()=>this.setState({...this.state,snareLoaded:!0}))).sampler,this.hat=new na((()=>this.setState({...this.state,hatLoaded:!0}))).sampler,this.noise=sa,this.chords=new uo(((t,e)=>{this.playChord()}),[""],"1n"),this.melody=new uo(((t,e)=>{this.playMelody()}),[""],"8n"),this.kickLoop=new uo(((t,e)=>{this.state.kickOff||("C4"===e&&Math.random()<.9?this.kick.triggerAttack(e):"."===e&&Math.random()<.1&&this.kick.triggerAttack("C4"))}),["C4","","","","","","","C4","C4","",".","","","","",""],"8n"),this.snareLoop=new uo(((t,e)=>{this.state.snareOff||""!==e&&Math.random()<.8&&this.snare.triggerAttack(e)}),["","C4"],"2n"),this.hatLoop=new uo(((t,e)=>{this.state.hatOff||""!==e&&Math.random()<.8&&this.hat.triggerAttack(e)}),["C4","C4","C4","C4","C4","C4","C4","C4"],"4n"),this.chords.humanize=!0,this.melody.humanize=!0,this.kickLoop.humanize=!0,this.snareLoop.humanize=!0,this.hatLoop.humanize=!0,this.nextChord=this.nextChord.bind(this),this.playChord=this.playChord.bind(this),this.playMelody=this.playMelody.bind(this),this.generateProgression=this.generateProgression.bind(this),this.toggle=this.toggle.bind(this)}render(){const e=this.state.progression.map(((e,n)=>t.createElement("li",{className:n===(this.state.progress+7)%8?"live":"",key:n},e.degree))),n=t.createElement("div",{className:"prep"},t.createElement("div",{className:"sampleLoad"},this.state.pianoLoaded&&this.state.kickLoaded&&this.state.snareLoaded&&this.state.hatLoaded?this.state.contextStarted?"":t.createElement("button",{className:"contextBtn",onClick:()=>{Ir(),this.setState({...this.state,contextStarted:!0})}},"stArt Audio context"):"loAding sAmples")),i=t.createElement("div",{className:"playable"},t.createElement("button",{className:"generateBtn",onClick:this.generateProgression},"generAte cHords"),this.state.genChordsOnce?t.createElement("div",null,t.createElement("div",{className:"info"},t.createElement("h3",{className:"key"},this.state.key.toLowerCase()),t.createElement("ol",{className:"progressionList"},e)),t.createElement("button",{className:"playBtn",onClick:this.toggle},"started"===Oo.state?"stop":"plAy")):""),r=t.createElement("section",{className:"visualizer"},t.createElement(aa,{audio:Mo}));return t.createElement("div",null,t.createElement("div",{className:"content"},t.createElement("div",{className:"title"},t.createElement("h1",null,"The Steampunk LoFi Generator"),t.createElement("h5",null,"by TheSteampunkLofiGroup")),t.createElement("div",{className:"instructions"},t.createElement("h3",null,"How to use lofigen"),t.createElement("ol",null,this.state.pianoLoaded&&this.state.kickLoaded&&this.state.snareLoaded&&this.state.hatLoaded?"":t.createElement("li",null,"WAit for sAmples to loAd"),this.state.contextStarted?"":t.createElement("li",null,"stArt Audio context"),t.createElement("li",null,"generAte cHords"),t.createElement("li",null,"press plAy And enjoy"))),this.state.pianoLoaded&&this.state.kickLoaded&&this.state.snareLoaded&&this.state.hatLoaded&&this.state.contextStarted?i:n),t.createElement("section",{className:"gradient "+this.state.key.replace("#","s")}),"started"===Oo.state?r:"",t.createElement("section",{className:"backdrop"}))}}const fa=pa,ma=e=>{const{toggleWakeLock:n,wakeLockActive:i}=l();return t.createElement("div",{className:"App"},t.createElement(fa,{toggleWakeLock:n}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));e.render(t.createElement(t.StrictMode,null,t.createElement(ma,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((t=>{t.unregister()})).catch((t=>{console.error(t.message)}))})()})();
//# sourceMappingURL=main.9bb4fb0a.js.map